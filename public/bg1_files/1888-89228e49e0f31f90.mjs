(self.modernJsonp=self.modernJsonp||[]).push([["1888"],{983946:function(e,t,o){o.d(t,{Z:()=>i});function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},193157:function(e,t,o){var i,l,r;o.r(t),o.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},r={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:l=[i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},r,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="6e21ec048bb4ac7d621865a42cf02a6c";let a=n},446891:function(e,t,o){o.d(t,{Z:()=>d});var i=o(281098),l=o(667294),r=o(20256),n=o(947543),a=o(169053),s=o(785893);function d({handleTogglePinSelection:e,index:t,isSelected:o,pin:d,surface:c,unselectedState:u="deselected-image-only"}){(0,l.useEffect)(()=>{(0,i.Z)("SelectablePin","/app/common/react/components/BoardNotes/Composer/SelectablePin.tsx")},[]);let[_,p]=(0,l.useState)(o),h=(0,a.S6)()(d.id);return(0,s.jsx)(r.iP,{onTap:()=>{p(!_),e(d,!o)},rounding:4,children:(0,s.jsx)(n.r,{attributionOption:"hide",blockClickEvents:!0,pinId:d.id,pinImageCrop:"none",pinKey:{type:"Legacy",data:h??d},saveButtonOptions:{type:"none"},selectionState:o?"selected-image-only":u,slotIndex:t,surface:c})})}},318812:function(e,t,o){o.d(t,{Fy:()=>r,ZP:()=>n,_G:()=>l});var i=o(375584);let l=e=>i.Fd[e]??i.U5.MORE_IDEAS,r=e=>i.lJ[e]??0,n="/collage-creation-tool"},375584:function(e,t,o){o.d(t,{AQ:()=>m,Fd:()=>p,Gb:()=>b,Nc:()=>n,R_:()=>y,U5:()=>_,V5:()=>x,Xu:()=>r,_4:()=>g,bP:()=>d,fw:()=>u,hb:()=>f,jz:()=>c,lJ:()=>h,m2:()=>l,pI:()=>s,qb:()=>a,w5:()=>P,yW:()=>i});let i=170,l=4,r=5,n=232,a=539,s=9/16,d=236,c=94,u=4,_={MORE_IDEAS:"MORE_IDEAS",DRAFTS:"DRAFTS",SEARCH:"SEARCH",YOUR_BOARDS:"YOUR_BOARDS",BRAND_KIT:"BRAND_KIT"},p={0:"MORE_IDEAS",1:"YOUR_BOARDS",2:"DRAFTS",3:"SEARCH",4:"BRAND_KIT"},h={MORE_IDEAS:0,YOUR_BOARDS:1,DRAFTS:2,SEARCH:3,BRAND_KIT:4},f=420,m=264,g="#ffffff",x=5e3,b={PIN:1,TEXT:2,IMAGE:3},y={0:"left",1:"center",2:"right"},P={left:0,center:1,right:2}},80691:function(e,t,o){o.d(t,{Z:()=>l});var i=o(686319);async function l(e){return(0,i.Z)({url:`/v3/shuffles/${e}/`,method:"DELETE"})}},345314:function(e,t,o){o.d(t,{Z:()=>a});var i=o(667294),l=o(791948),r=o(886981);let n={url:"/v3/users/me/shuffles/",data:{is_draft:!0,transform_to_pins:!1,fields:["shuffle.id","shuffle.images","shuffle.updated_at"]}};function a(){let{data:e,fetchMore:t,isFetching:o,refresh:a}=(0,r.Z)({name:"ApiResource",options:n}),s=(0,l.w1)();return{fetchMore:t,invalidateDrafts:(0,i.useCallback)(()=>{s("ApiResource",n)},[s]),isFetching:o,shuffles:e,refresh:a}}},21954:function(e,t,o){o.d(t,{m:()=>u,r:()=>_});var i=o(667294),l=o(729434),r=o(721214),n=o(675973),a=o(15667),s=o(886981),d=o(785893);let{Provider:c,get:u}=(0,l.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,a.B)(),{checkExperiment:o}=(0,n.Z)(),{experience:l}=(0,r.Ow)(1000069),[u,_]=(0,i.useState)(!0),[p,h]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),P=(0,r.oS)(1000069),{anyEnabled:w}=o("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),v=(0,s.Z)(t&&w?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,i.useEffect)(()=>{if(!t)return void _(!1);l&&(!l||l?.experience_id===500417&&l?.display_data.hide_footer)?P.viewExperience(1000069,500417):_(!1),h(!0)},[l]);let j=(0,i.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:f,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:u,quickSaveBoardId:v,setHasMetSaveRequirementOnUseCaseFeed:m,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:x,useCaseFeedOriginalPinId:b,useCaseFeedRepinId:g}),[f,p,u,v,m,y,x,b,g]);return(0,d.jsx)(c,{value:j,children:e})}},138:function(e,t,o){o.d(t,{Z:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},437175:function(e,t,o){o.d(t,{Z:()=>z});var i=o(281098),l=o(667294),r=o(20256),n=o(446891),a=o(980787),s=o(982166),d=o(19585),c=o(581722),u=o(825332),_=o(657043),p=o(475498),h=o(302148),f=o(886981),m=o(87853),g=o(964577),x=o(857174),b=o(785893);function y({isFirstBoardCreation:e,isOnSelectStep:t,onClickBackButton:o,onDismiss:n,selectedPinCount:a}){(0,l.useEffect)(()=>{(0,i.Z)("BoardlessPinsModalHeading","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsModalHeading.tsx")},[]);let s=(0,d.ZP)(),c=s._('Organize into a board', 'boardlessPins.modalHeading.organizeHeading', 'Heading for modal to add unorganized Pins to board'),u=a>0?(0,h.nk)(s.ngettext('{{ pinCount }} selected', '{{ pinCount }} selected', a, 'boardlessPins.modalHeading.PinCountHeading', 'number of Pins selected'),{pinCount:a}):c,_=s._('Create board', 'boardlessPins.modalHeading.createBoardHeading', 'Heading for modal to create new board with unorganized Pins');return(0,b.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[e||t?(0,b.jsx)(r.xu,{height:40,width:40}):(0,b.jsx)(r.hU,{accessibilityLabel:s._('Go back to previous modal', 'boardlessPins.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:t,icon:"arrow-back",iconColor:t?"white":"darkGray",onClick:o,size:"md"}),(0,b.jsx)(r.xu,{maxWidth:486,children:(0,b.jsx)(r.X6,{align:"center",size:"600",children:t?u:_})}),(0,b.jsx)(r.hU,{accessibilityLabel:s._('Cancel changes', 'boardlessPins.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})]})}var P=o(964293),w=o(189976),v=o(831786),j=o(696323),A=o(890774);function C({boardlessPinsBoardId:e,hasBoards:t,isOnSelectStep:o,onDismiss:n,selectedPins:a,updateCurrentStep:C,userId:E}){(0,l.useEffect)(()=>{(0,i.Z)("BoardlessPinsBoardPicker","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsBoardPicker.tsx")},[]);let z=(0,d.ZP)(),k=(0,A.Z)(),[B,S]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(""),[I,R]=(0,l.useState)(""),[D,O]=(0,l.useState)(!t),L=(0,f.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),H=(0,c.I0)(),M=(0,u.s0)(),F=(0,m.dI)(),N=a[0],U=a.map(e=>e.image).filter(e=>!!e),G=(t,o)=>{let i=a.map(e=>e.id);H((0,v.Z)({selectedPinIds:i,source:{boardId:e,sectionId:null},target:{boardId:t,sectionId:o||null}},z)),H((0,w.EX)({feedId:E,feedType:j.Z.BOARDLESS_PINS,itemIds:i,itemType:"pin"}))},V=async()=>{try{let e=await k({boardCreateOptions:{name:I,privacy:B?"secret":"public",aux_data:{source:"organize_pins"}}});await G(e.id),n(),F.showToast(({hideToast:e})=>(0,b.jsx)(p.Z,{onHide:e,text:z._('Board created!', 'BoardlessPinsBoardPicker.boardCreated.toast', 'Confirmation that a board was created')})),e.url&&M(e.url,{replace:!0})}catch(t){let e=z._('Uh oh! Something went wrong.', 'BoardlessPinsBoardPicker.boardCreate.submitErrorDefault', 'Default submit error text when board create fails');if("string"==typeof t)e=t;else{let o=(0,_.Z)(t,"message");if(o){let i=(0,_.Z)(t,"message_detail");e=i?`${o} ${i}`:o}}T(e)}},$=(0,b.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,b.jsx)(r.hU,{accessibilityLabel:z._('Go back', 'BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:o,icon:"arrow-back",iconColor:o?"white":"darkGray",onClick:()=>C("SELECT_PINS"),size:"md"}),(0,b.jsx)(r.X6,{align:"center",size:"600",children:z._('Move to a board', 'BoardlessPinsBoardPicker.save.modalTitle', 'Title of modal for moving pins to a board')}),(0,b.jsx)(r.hU,{accessibilityLabel:z._('Cancel changes', 'BoardlessPinsBoardPicker.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})]});return D?(0,b.jsx)(s.ZP,{accessibilityModalLabel:z._('Create board', 'BoardlessPinsBoardPicker.createBoard.accessibilityLabel', 'Accessibility Label for modal to create a board'),footer:(0,b.jsx)(r.kC,{justifyContent:"end",children:(0,b.jsx)(r.zx,{color:"red",disabled:0===I.trim().length,onClick:()=>{V()},size:"lg",text:z._('Create', 'BoardlessPinsBoardPicker.boardCreate.createButton', 'Button to create new board to move Pins to')})}),heading:(0,b.jsx)(y,{isOnSelectStep:!1,onClickBackButton:()=>{C(t?"PICK_BOARD":"SELECT_PINS"),O(!1)},onDismiss:n,selectedPinCount:a.length}),onDismiss:n,size:"md",children:(0,b.jsx)(r.xu,{height:644,children:(0,b.jsx)(P.Z,{boardThumbs:U,isSecret:B,name:I,onNameChange:({value:e})=>{e.trim()||T(z._('Don\'t forget to name your board!', ' - ', ' -- ')),R(e)},onVisibilityChange:({checked:e})=>S(e),submitError:Z})})}):(0,b.jsx)(s.ZP,{accessibilityModalLabel:z._('Move to a board', 'BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to another board'),heading:$,onDismiss:n,size:"md",children:(0,b.jsx)(r.xu,{padding:1,children:(0,b.jsx)(x.xH,{boardResource:L,changeBoardModal:!0,onBoardCreate:({title:e=""}={})=>{R(e),O(!0)},onItemChosen:e=>{G(e.boardId,e.sectionId),F.showToast(({hideToast:t})=>(0,b.jsx)(p.Z,{onHide:t,text:(0,h.nk)(z._('Moved to {{boardName}}', 'BoardlessPinsBoardPicker.onItemChosen.toast', 'Toast for successfully moving pin to a different board'),{boardName:e.title}).join("")})),n()},paneHeight:644,paneWidth:720,pinId:N.id,surface:g.Z.ORGANIZE_PINS})})})}var E=o(169053);function z({boardlessPinsNormalized:e,fetchMore:t,hasBoards:o,isFirstBoardCreation:c=!1,onDismiss:u,userId:_}){(0,l.useEffect)(()=>{(0,i.Z)("BoardlessPinsOrganizeModal","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsOrganizeModal.tsx")},[]);let p=(0,d.ZP)(),h=(0,l.useRef)(null),[f,m]=(0,l.useState)([]),[g,x]=(0,l.useState)("SELECT_PINS"),{logContextEvent:P}=(0,a.u)(),w=(0,E.JC)(),v=(0,l.useMemo)(()=>e&&w?e.reduce((e,t)=>{let o=w[t.id];return e.push(o),e},[]):[],[e,w]);(0,l.useEffect)(()=>{c&&v.length&&m(v.reduce((e,t)=>(t&&e.push({id:t.id,image:c?t.images?.["236x"]??null:t.images?.["170x"]??null}),e),[]))},[v,c]);let j=v[0]?.board?.id??"",A=(e,t)=>{let o,i=[...f];t?(c&&P({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}),o=i.concat({id:e.id,image:c?e.images?.["236x"]:e.images?.["170x"]})):(c&&P({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}),o=i.filter(t=>t.id!==e.id)),m(o)};(0,l.useEffect)(()=>{c&&("SELECT_PINS"===g?P({event_type:13,view_type:740,view_parameter:4166}):"PICK_BOARD"===g&&P({event_type:13,view_type:740,view_parameter:4167}))},[g,c,P]);let z="SELECT_PINS"===g;return(0,b.jsx)(l.Fragment,{children:z?(0,b.jsx)(s.ZP,{accessibilityModalLabel:p._('Organize into a board', 'boardlessPins.organizeModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to a board'),footer:(0,b.jsx)(r.kC,{justifyContent:"end",children:(0,b.jsx)(r.zx,{color:"red",disabled:0===f.length,onClick:()=>{c&&P({event_type:101,view_type:740,view_parameter:4166,element:96}),x("PICK_BOARD")},size:"lg",text:p._('Next', 'boardlessPins.organizeModal.nextButton', 'Button to go from selecting Pins step to board creation step')})}),heading:(0,b.jsx)(y,{isFirstBoardCreation:c,isOnSelectStep:z,onClickBackButton:()=>x("SELECT_PINS"),onDismiss:u,selectedPinCount:f.length}),onDismiss:()=>{c&&P({event_type:17476,view_type:740,view_parameter:4166}),u()},size:"md",children:(0,b.jsx)(r.xu,{ref:h,height:428,children:v&&h&&(0,b.jsx)(r.Rk,{columnWidth:152,gutterWidth:16,items:v,loadItems:t,renderItem:({data:e,itemIdx:t})=>(0,b.jsx)(n.Z,{handleTogglePinSelection:A,index:t,isSelected:!!f.filter(t=>t.id===e.id).length,pin:e,surface:"SelectableBoardlessPin",unselectedState:"no-selection"}),scrollContainer:()=>h.current})})}):(0,b.jsx)(C,{boardlessPinsBoardId:j,hasBoards:o,isOnSelectStep:z,onDismiss:()=>{c&&P({event_type:17476,view_type:740,view_parameter:4167}),u()},selectedPins:f,updateCurrentStep:e=>x(e),userId:_})})}},902803:function(e,t,o){o.d(t,{Z:()=>p});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(906553),s=o(302148),d=o(15667),c=o(298097),u=o(913852),_=o(785893);function p({images:e,name:t,onClick:o,pinCount:p}){(0,l.useEffect)(()=>{(0,i.Z)("PinCluster","/app/common/react/components/profile/ProfileBoards/BoardlessPins/PinCluster.tsx")},[]);let h=(0,n.ZP)(),{locale:f}=(0,d.B)(),m=(0,a.Z)();return(0,_.jsx)(r.iP,{dataTestId:"pin-cluster",onTap:o,children:(0,_.jsxs)(r.kC,{direction:"column",children:[(0,_.jsxs)(r.xu,{minHeight:157,minWidth:236,position:"relative",children:[(0,_.jsx)(r.xu,{bottom:!0,color:"dark",left:!0,opacity:.4,position:"absolute",right:!0,rounding:4,top:!0,zIndex:u.mM}),(0,_.jsx)(c.Z,{fullSize:!0,images:e,layout:"square"}),(0,_.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",zIndex:u.c6,children:(0,_.jsx)(r.zx,{color:"white",dataTestId:"create-pin-cluster-button",onClick:({event:e})=>{e.stopPropagation(),o()},size:"lg",text:h._('Create', 'pinCluster.createButton', 'Button to create board')})})]}),(0,_.jsx)(r.xu,{padding:2,children:(0,_.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,_.jsx)(r.X6,{accessibilityLevel:3,lineClamp:1,size:"400",children:t}),(0,_.jsx)(r.xu,{children:p&&(0,_.jsx)(r.xv,{lineClamp:1,size:"100",children:(0,s.nk)(h.ngettext('{{ count }} Pin', '{{ count }} Pins', p, 'pinCluster.pinCount', 'label for n amount of pins. count:number of Pins'),{count:m(f,p,{})})})})]})})]})})}},824213:function(e,t,o){o.d(t,{ZP:()=>a,om:()=>d,zz:()=>c});var i=o(19585),l=o(675973),r=o(72918),n=o(886981);function a(){let e=(0,i.ZP)(),{data:t,isLoaded:o,refresh:l}=(0,n.Z)({name:"ApiResource",options:{url:"/v3/users/profile/pins/clusters/",data:{exclude_quick_save_pins:!0,max_cluster_limit:10}}});return o&&t?{isLoaded:o,pinClusters:t.objects.map(t=>{let o=t.names[0],i=o&&o.charAt(0).toUpperCase()+o.slice(1);return{id:t.id,images:t.thumbnails.map(t=>({url:t["236x"].url,name:e._('Board suggestion image', 'boardSuggestions.thumbnail.image', 'Alt text for image shown in board suggestion')})),name:i,pinCount:t.pin_count}}),refreshPinClusters:l}:{isLoaded:o,pinClusters:[],refreshPinClusters:()=>{}}}function s(e){return{url:`/v3/users/profile/pins/cluster/${e}/feed/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}function d(e,t){let o=(0,n.Z)({name:"ApiResource",options:s(e)}),{checkExperiment:i}=(0,l.Z)(),r=(0,n.Z)(t&&i("web_curation_save_nrt_auto_org",{dangerouslySkipActivation:!0}).anyEnabled?{name:"ApiResource",options:{url:`/v3/pins/${t}/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}:null),{fetchMore:a,isFetching:d,isLoaded:c}=o,{data:u}=o;return u||(u=[]),t&&r.data&&r.isLoaded&&(u=[r.data,...u]),{clusterPins:u,fetchMore:a,isFetching:d,isLoaded:c}}function c(e){return(0,r.jB)("ApiResource",s(e))}},515829:function(e,t,o){o.d(t,{Z:()=>u});var i=o(281098),l=o(667294),r=o(417365),n=o(140725),a=o(821342),s=o(858845),d=o(742438),c=o(785893);function u(e){let t;(0,l.useEffect)(()=>{(0,i.Z)("ProfileDeciderContainer","/app/common/react/components/profile/ProfileDecider/ProfileDeciderContainer.tsx")},[]);let o=(0,d.Z)(),u=(0,a.Z)(),_=(0,s.Z)({user:o.data,viewer:u});return(u.isAuth&&_&&(t=u.id),(0,n.Q)({object_id_str:t,view_type:4,view_parameter:_?3106:3107}),o&&o.data)?(0,c.jsx)(r.Z,{}):null}},788836:function(e,t,o){o.d(t,{Z:()=>C});var i=o(281098),l=o(667294),r=o(581722),n=o(825332),a=o(20256),s=o(138),d=o(865540),c=o(729082),u=o(980787),_=o(679422),p=o(821342),h=o(19585),f=o(675973),m=o(72918),g=o(448505),x=o(7872),b=o(644024),y=o(789302),P=o(964577),w=o(878788),v=o(70993),j=o(664973),A=o(785893);function C({currentTab:e}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileCreateButtonController","/app/common/react/components/profile/ProfileHeader/ProfileCreateButtonController.tsx")},[]);let t=(0,h.ZP)(),[o,C]=(0,l.useState)(!1),E=(0,n.s0)(),z=(0,n.TH)(),k=(0,r.I0)(),B=(0,p.Z)(),{checkExperiment:S}=(0,f.Z)(),Z=(0,g.Z)(),T=(0,x.lJ)(B,Z),I=(0,_.Z)(),{logContextEvent:R}=(0,u.u)(),D=(0,d.Z)(!0),O=S("web_curation_board_create_entry_points").anyEnabled;return(0,A.jsxs)(l.Fragment,{children:[(0,A.jsx)(j.Z,{onCreateBoard:()=>{if(I)return void I();R({component:13056,element:249,event_type:101,view_parameter:3106,view_type:4,aux_data:{source:P.Z.PROFILE}}),C(!0)},onCreateCollage:()=>{if(I)return void I();R({component:13056,element:13844,event_type:101,view_parameter:3106,view_type:4}),E("/collage-creation-tool/")},onCreatePin:()=>{if(I)return void I();R({component:13056,element:10643,event_type:101,view_parameter:3106,view_type:4}),E("/pin-builder/")},onCreateStoryPin:()=>{if(I)return void I();R({aux_data:{entry_type:"profile_plus_button"},component:13056,element:10949,event_type:101,view_parameter:3106,view_type:4}),E((0,s.Z)(D),{state:{entry_type:"profile_plus_button"}})},onOpen:()=>{let e=B.isAuth&&z.pathname.startsWith(`/${B.username}/`)&&!1===B.isPartner&&!z.pathname.includes(v.qV)&&S("web_retrieval_hub_profile_split_").anyEnabled,t=e&&[v.sz.enabled_with_unorganized_feed,v.sz.enabled_with_log_fix].includes(S("web_retrieval_hub_profile_split_").group);e&&R({event_type:101,view_type:4,view_parameter:t?3106:4047,component:14461,element:1208})},surface:e===w.un.RETRIEVAL_HUB_PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:i,accessibilityControls:l,accessibilityExpanded:r})=>O?(0,A.jsx)(a.zx,{accessibilityControls:l,accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),color:"red",onClick:i,selected:o,size:"lg",text:t._('Create', 'profileHeader.actionBar.createButton', 'Text for button to open Create menu')}):(0,A.jsx)(b.Z,{accessibilityControls:l,accessibilityExpanded:r,accessibilityLabel:"pins"===e?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:i,selected:o})}),o&&(0,A.jsx)(y.Z,{boardCreateSource:"profile",onBoardCreate:e=>{if(I)return void I();let t=T&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${T}`:"";k((0,m.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),E(`${e.url||""}${t}`,{state:{newBoard:!0}})},onClose:()=>C(!1),shouldShowAddCollaborators:!0})]})}},450705:function(e,t,o){o.d(t,{Z:()=>P});var i=o(281098),l=o(667294),r=o(825332),n=o(20256),a=o(575108),s=o(980787),d=o(821342),c=o(19585),u=o(675973),_=o(886981),p=o(448505),h=o(7872),f=o(821115),m=o(604488),g=o(70993),x=o(493812),b=o(785893);let y={alphabetical:10430,last_pinned_to:10431,last_activity:10431,last_pin_added:10431,custom:10434};function P({user:e,setVisibilityControlsModalOpen:t}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileHeaderOrganizeButton","/app/common/react/components/profile/ProfileHeader/ProfileHeaderOrganizeButton.tsx")},[]);let o=(0,x.WG)(),{logContextEvent:P}=(0,s.u)(),w=(0,c.ZP)(),v=(0,d.Z)(),j=(0,p.Z)(),A=(0,h.Ms)(v,j),{checkExperiment:C}=(0,u.Z)(),E=(0,r.TH)(),{data:z}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:A}}}),k=o?.profileBoardView,B=o?.boardSortOrder.get(A||"")??"",S=o?.profilePinDensity,Z=(0,m.Z)({hasCustomOrder:!!e.has_custom_board_sorting_order,isOwnProfile:!0,mostRecentBoardSortOrder:z?.most_recent_board_sort_order,updatedBoardOrder:B});(0,l.useEffect)(()=>{if(z&&!k){let{profile_board_rep_view_type:e}=z;o?.setProfileBoardView(e&&"list"!==e?e:"wide")}},[z,k]),(0,l.useEffect)(()=>{if(z&&""===S){let{board_pin_rep_view_type:e}=z;o?.setProfilePinDensity(e??"regular")}},[z,S]);let T=e=>()=>{let t=v.isAuth&&!1===v.isPartner&&E.pathname.startsWith(`/${v.username}/`)&&!E.pathname.includes(g.qV)&&C("web_retrieval_hub_profile_split_").anyEnabled,i=t&&[g.sz.enabled_with_unorganized_feed,g.sz.enabled_with_log_fix].includes(C("web_retrieval_hub_profile_split_").group);t?P({event_type:101,component:14461,element:10612,view_parameter:i?3106:4047,view_type:4}):P({event_type:101,component:13149,element:y[e]}),a.Z.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,h.lJ)(v,j)}).callUpdate(),o?.updateBoardSortOrder((0,h.Ms)(v,j),e)},I=[{label:w._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===Z,clickHandler:T("alphabetical")},{label:w._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'),isSelected:"custom"===Z,clickHandler:T("custom")}];I.push({label:w._('Last Pin Added', 'profileHeader.actionBar.organizeFlyout.lastPinAdded', 'Organize menu option to sort boards by last pin added'),isSelected:"last_pinned_to"===Z,clickHandler:T("last_pinned_to")});let R=[{label:w._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'),items:I},t?{label:w._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:w._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),P({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map(e=>e).filter(Boolean);return(0,b.jsx)(n.xu,{"data-test-id":"profile-organize-button",children:(0,b.jsx)(f.Z,{icon:"filter",label:w._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>R.map(({items:t,label:o})=>(0,b.jsx)(n.Lt.Section,{label:o,children:t.map(({clickHandler:t,isSelected:o,label:i})=>(0,b.jsx)(n.Lt.Item,{onSelect:()=>{e(),t()},option:{label:i,value:i},selected:o?{label:i,value:i}:null},i))},o))})})}},417365:function(e,t,o){o.d(t,{Z:()=>ej});var i=o(281098),l=o(667294),r=o(20256),n=o(581722),a=o(825332),s=o(21954),d=o(437175),c=o(902803),u=o(824213),_=o(980787),p=o(19585),h=o(964577),f=o(875280),m=o(434674),g=o(785893);function x({hasBoards:e=!1}){(0,l.useEffect)(()=>{(0,i.Z)("BoardSuggestions","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardSuggestions.tsx")},[]);let t=(0,a.s0)(),o=(0,p.ZP)(),{isLoaded:n,pinClusters:s}=(0,u.ZP)(),{logContextEvent:d}=(0,_.u)();if((0,l.useEffect)(()=>{n&&d({event_type:15165,view_type:4,view_parameter:3106,aux_data:{content_ids:s.map(({id:e})=>`pincluster:${e}`).join("|").concat("|")}})},[n,d,s]),!n||0===s.length)return null;let x=(0,f.m)("square"),b=e?(0,g.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:o._('Board suggestions', 'boardSuggestions.heading', 'Heading for Board Suggestions section on profile')}):(0,g.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,g.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:o._('Keep track of what inspires you', 'boardSuggestions.headingNoBoards', 'Heading for Board Suggestions section on profile when user has no boards')}),(0,g.jsx)(r.xv,{children:o._('Boards let you organize the Pins you save into collections. Start from a cluster below, or create your own.', 'boardSuggestions.text', 'Guide text instructing users how to use a board suggestion cluster')})]});return(0,g.jsxs)(r.kC,{direction:"column",children:[(0,g.jsx)(r.xu,{marginBottom:5,marginTop:8,paddingX:5,children:b}),(0,g.jsx)(m.Z,{itemWidth:x,maxColumns:12,children:s.map(({id:e,images:o,name:i,pinCount:l})=>(0,g.jsx)(r.xu,{maxWidth:x,overflow:"hidden",padding:2,children:(0,g.jsx)(c.Z,{images:o,name:i,onClick:()=>{d({event_type:14567,view_type:4,view_parameter:3106,aux_data:{cluster_selected_name:i,cluster_selected_index:e,source:h.Z.PIN_CLUSTER}}),t(`/board/create/cluster/${e}`)},pinCount:l})},e))})]})}var b=o(302148);function y({boardlessPins:e,organizeIdeasButton:t,openBoardlessModal:o,user:n}){(0,l.useEffect)(()=>{(0,i.Z)("SelfProfileBoardlessPins","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelfProfileBoardlessPins.tsx")},[]);let a=(0,p.ZP)(),s=e?.slice(0,6),{quick_saves_pin_count:d}=n;return(0,g.jsx)(r.xu,{"data-test-id":"self-profile-boardless-pins-section",display:"flex",height:228,justifyContent:"start",marginEnd:"auto",marginStart:"auto",maxWidth:"fit-content",overflow:"hidden",position:"relative",rounding:4,children:(0,g.jsxs)(r.iP,{onTap:o,children:[s?.map((e,t)=>(0,g.jsx)(r.xu,{display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:5===t?(e=>{let{title:t,images:o}=e,i=o&&o["236x"];return(0,g.jsxs)(r.xu,{"data-test-id":"self-profile-boardless-pins-count-div",display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:[i?.url&&(0,g.jsx)(r.Ee,{alt:t??"Boardless pin count",color:"lightGray",fit:"cover",naturalHeight:i?.height??0,naturalWidth:i?.width??0,src:i.url}),(0,g.jsx)(r.xu,{color:"dark",display:"flex",height:"100%",opacity:.8,position:"absolute",right:!0,top:!0,width:"100%",children:(0,g.jsx)(r.xu,{"data-test-id":"self-profile-boardless-pins-count",margin:"auto",children:(0,g.jsx)(r.xv,{color:"inverse",weight:"bold",children:(0,b.nk)(a._("+{{pinCount}}","SelfProfileHeader.boardless.pins.count","Count of boardless pins"),{pinCount:d})})})})]})})(e):(e=>{let{title:t,images:o}=e,i=o&&o["236x"];return(0,g.jsx)(l.Fragment,{children:i&&i.url&&(0,g.jsx)(r.Ee,{alt:t??"Boardless pin",color:"lightGray",fit:"cover",naturalHeight:i.height??0,naturalWidth:i.width??0,src:i.url})})})(e)},`boardless-pin-${e.id}`)),(0,g.jsx)(r.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(r.xu,{margin:"auto",children:t})})]})})}var P=o(469167),w=o(467925),v=o(675973),j=o(355363),A=o(947543),C=o(721214),E=o(349417);function z({boardThumbs:e}){let t=(0,p.ZP)();return(0,g.jsx)(r.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,g.jsx)(r.zd,{height:110,rounding:4,width:110,children:(0,g.jsx)(r.gM,{columns:2,cover:!0,gutter:1,height:110,renderImage:({index:t,width:o,height:i})=>{let l=e[0],n=e.slice(1),a=0===t?l:n[t-1];return(0,g.jsx)(r.zd,{height:i,width:o,children:a.url&&(0,g.jsx)(r.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url})})},width:110})})})}function k(){(0,l.useEffect)(()=>{(0,i.Z)("BoardlessPinsUpsell","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsUpsell.tsx")},[]);let e=(0,p.ZP)(),t=(0,E.JI)();return(0,g.jsx)(C.a3,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:i,experience:{display_data:l}})=>{let{button_text:n,images:a,subtitle:s,title:d}=l,c=a.map(e=>e["170x"]);return(0,g.jsx)(r.kC,{justifyContent:"center",children:(0,g.jsx)(r.xu,{maxWidth:960,paddingY:4,children:(0,g.jsx)(r.XA,{dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:i},imageData:{component:(0,g.jsx)(z,{boardThumbs:c})},message:s,primaryAction:{label:n,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},title:d})})})}})}var B=o(70993),S=o(244529),Z=o(709924);function T({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,hasBoardSuggestions:n,isOwnProfile:c,isRetrievalHub:u,user:h}){(0,l.useEffect)(()=>{(0,i.Z)("BoardlessPinsFeed","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsFeed.tsx")},[]);let f=(0,p.ZP)(),m=(0,E.JI)(),b=(0,E.Fj)(),{hasSimplifiedPinGridExpLoaded:C}=(0,s.m)(),{logContextEvent:z}=(0,_.u)(),T=(0,a.TH)(),{experimentalGutterBoints:I}=(0,w.Z)(),{enabled:R}=(0,S.Z)(),{checkExperiment:D}=(0,v.Z)(),O=T.pathname.includes(`/${B.qV}/`),L=(!u||u&&!O)&&c&&n,H=u&&[B.sz.enabled_with_unorganized_feed,B.sz.enabled_with_log_fix].includes(D("web_retrieval_hub_profile_split_").group),M=c&&e.length>=5&&!o,{data:F=[],fetchMore:N,isAtEnd:U}=t||{},G=()=>{z({event_type:101,view_type:4,view_parameter:H?3106:4047,component:14461,element:10612})},V=(0,g.jsx)(r.zx,{color:u?"white":void 0,onClick:()=>{z({event_type:15237,element:10384}),m(!0),u&&G()},size:u?"lg":void 0,text:f._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')});return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsxs)(r.xu,{padding:0,children:[(!O||o&&O)&&(L||e.length>0)&&(0,g.jsx)(r.xu,{marginBottom:c&&u&&!O?0:7,marginTop:5,children:R?(0,g.jsx)(Z.Z,{}):(0,g.jsx)(r.iz,{})}),o&&!O&&L&&(0,g.jsx)(x,{hasBoards:!0}),M&&(0,g.jsx)(k,{}),!o&&!O&&L&&(0,g.jsx)(x,{}),!O&&e.length>0&&(0,g.jsx)(l.Fragment,{children:c&&(!u||!O)&&(0,g.jsxs)(r.xu,{alignItems:"center","data-test-id":"unorganized-ideas-heading-container",display:"flex",justifyContent:"between",marginBottom:5,marginEnd:I,marginStart:I,marginTop:6,paddingX:2,children:[(0,g.jsx)(r.X6,{size:"400",children:f._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),!u&&V]})}),u&&!O&&(0,g.jsx)(y,{boardlessPins:F,openBoardlessModal:()=>{G(),m(!0)},organizeIdeasButton:V,user:h}),C&&(!u||O)&&(0,g.jsx)(j.Z,{isAtEndOfFeed:!!U,itemCount:e.length,children:(0,g.jsx)(P.default,{columnWidth:void 0,isGridCentered:!1,items:e,layout:"basic",loadItems:N,renderItem:({data:e,itemIdx:t})=>{let o=c?{type:"none"}:{type:"inline"};return(0,g.jsx)(A.Z,{duploQueryRef:null,pinId:e.id,saveButtonOptions:o,slotIndex:t,surface:"BoardlessPins",viewParameter:c?3106:3107,viewType:4})},serverRender:!0,virtualize:!1})})]}),!!e&&N&&e.length>0&&b&&(0,g.jsx)(d.Z,{boardlessPinsNormalized:e,fetchMore:N,hasBoards:o,onDismiss:()=>m(!1),userId:h.id})]})}var I=o(729082),R=o(918920),D=o(521009),O=o(821342),L=o(803301),H=o(392824),M=o(67831),F=o(15667),N=o(72918),U=o(886981),G=o(123998),V=o(341742),$=o(448505),W=o(7872),X=o(789302),Y=o(310916);function J({type:e}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileBoardsGroupHeader","/app/www/profile/ProfileBoards/ProfileBoardsGroupHeader.tsx")},[]);let t=(0,p.ZP)(),{experimentalGutterBoints:o}=(0,w.Z)();return(0,g.jsx)(r.xu,{marginEnd:o,marginStart:o,paddingX:2,children:(0,g.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,g.jsxs)(r.X6,{size:"400",children:[((e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}})(e,t)," ",(0,g.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(e=>{if("archived"!==e&&"protected"!==e)return"lock"})(e),inline:!0,size:12})]}),(0,g.jsx)(r.xv,{inline:!0,size:"200",children:((e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');default:return""}})(e,t)}),"secret"===e&&(0,g.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=profile",underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var K=o(452516),q=o(493812),Q=o(78762);let ee=(0,Q.Z)(()=>Promise.all([o.e("67619"),o.e("95711")]).then(o.bind(o,359177)),void 0,e=>359177,"app-www-profile-ProfileBoards-ProfileBoards",e=>["67619","95711"]),et=(0,Q.Z)(()=>Promise.all([o.e("67619"),o.e("95711"),o.e("79492")]).then(o.bind(o,463343)),void 0,e=>463343,"app-www-profile-ProfileBoards-ProfileBoardsList",e=>["67619","95711","79492"]);function eo({allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:n,group:a,isOverview:s,isOwnProfile:d,onBoardChange:c,onBoardGroupChange:u,onLoadMore:_,profileBoardView:p,showCreatorProfile:h}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileBoardGroup","/app/www/profile/ProfileBoards/ProfileBoardGroup.tsx")},[]);let f=(0,q.WG)(),{checkExperiment:m}=(0,v.Z)(),x=(0,O.Z)(),b=(0,$.Z)(),y=(0,K.Z)(),{selfProfileBoardFilter:P}=f??{selfProfileBoardFilter:void 0},w=(0,W.Ms)(x,b),j=y[w??""]?.is_gco_account,A=d&&j&&m("dweb_presence_safe_refactor_board_reordering").anyEnabled,C={allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:n,group:a,isOverview:s,isOwnProfile:d,layout:p,onBoardArchiveChange:u,onBoardDelete:c,onBoardLeave:u,onBoardPrivacyChange:u,onBoardReorder:c,onBoardUpdate:c,onLoadMore:_},E=A?(0,g.jsx)(et,{...C}):(0,g.jsx)(ee,{...C,showCreatorProfile:h});return"unlabeled"===a?E:(0,g.jsx)(r.xu,{marginBottom:6,marginTop:6,overflow:"hidden",children:(0,g.jsxs)(r.kC,{direction:"column",gap:1,children:[("archived"!==a||P!==q.ET.ARCHIVED)&&(0,g.jsx)(J,{type:a}),E]})})}var ei=o(214239),el=o(290965),er=o(495437),en=o(548286),ea=o(356299);function es(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ed=(0,Q.Z)(()=>o.e("76696").then(o.bind(o,934952)),void 0,e=>934952,"app-common-react-components-profile-ProfileBoards-RecentlyDeletedBoards",e=>["76696"]);function ec(e){return["archived","protected","secret","unlabeled"].includes(e)}function eu({isAtEndOfFeed:e}){return(0,L.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class e_ extends l.PureComponent{constructor(...e){super(...e),es(this,"state",{boardsResourceAnnotationAdded:!1,isCreateBoardModalOpen:!1}),es(this,"feedIsStale",!1),es(this,"handleBoardChanged",()=>{this.feedIsStale=!0}),es(this,"handleBoardGroupChange",()=>this.props.boardsResource.refresh()),es(this,"openCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!0})}),es(this,"closeCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!1})})}componentDidUpdate(e){let{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){let{boardsResource:o,pwtSurfaceContext:i}=e,{boardsResourceAnnotationAdded:l}=t;return o.isLoaded&&i&&!l?(i.addAnnotation("profileBoards.boardsResourceLoaded"),(0,H.ZP)("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){let{invalidateFeeds:e,invalidateRetrievalHubFeed:t,isRetrievalHub:o}=this.props;this.feedIsStale&&e(),o&&t()}renderAllBoardsGroups(e){let{boardOrder:t,boardlessPinsNormalized:o,boardsResource:i,filterStories:l,isOwnProfile:n,isOverview:a,mixPublicSecret:s,profileBoardView:d,user:c,isRetrievalHub:u,isBoardCreateExperiment:_,isProfilePreviewPage:p,selfProfileBoardFilter:h}=this.props,{fetchMore:f,isAtEnd:m,isLoaded:x}=i,{is_partner:b,show_creator_profile:y}=c,P=!l&&i.data&&i.data.length>0&&"all_pins"===i.data[0].story_type?i.data[0]:null,w=(i.data?.length||0)>0&&m&&"ARCHIVED"!==h&&_?this.openCreateBoardModal:null,v=P&&1===(i.data||[]).length;if((i.data||[]).length>0&&0===e.length&&!v)return(0,g.jsx)(r.xu,{padding:6,children:(0,g.jsx)(r.xH,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});let j=(o||[]).length>0;if(u&&!p&&0===e.length)return(0,g.jsx)(er.Z,{filter:h,surface:"boards"});if(0===e.length&&!v&&!j)return(0,g.jsx)(el.Z,{fullName:c.full_name,isOwnProfile:n,isPartnerProfile:b});let A=e.reduce((e,{id:t,profileGroup:o})=>{let i;return i="public"===o||s&&"secret"===o||"ARCHIVED"===h&&"archived"===o?{unlabeled:e.unlabeled.concat([t])}:{[o]:e[o].concat([t])},{...e,...i}},{unlabeled:[],protected:[],secret:[],archived:[]}),C=["protected","secret","archived"].filter(e=>ec(e)&&A[e].length>0),E=l?d:"square",z=()=>{!x||a||m||f()};return j&&v?null:(0,g.jsx)(r.xu,{overflow:"hidden",children:["unlabeled"].concat(n&&!a?C:[]).map(e=>(0,g.jsx)(eo,{allPinsStory:"unlabeled"===e&&P?.type==="story"?P:null,boardIds:ec(e)?A[e]:[],boardOrder:t,group:e,isOverview:!!a,isOwnProfile:n,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,onLoadMore:z,openCreateBoardModal:w,profileBoardView:E,showCreatorProfile:!!y},e))})}render(){let{boardKeys:e,i18n:t,isBoardlessProfileEnabled:o,isOwnProfile:i,isOverview:l,handleBoardCreate:n,boardlessPinsNormalized:a,boardlessPinsResource:s,boardsResource:d,selfProfileBoardFilter:c,showRecentlyDeletedBoards:u,user:_,isProfilePreviewPage:p,isRetrievalHub:h=!1,retrievalHubExpGroup:f}=this.props,{data:m,isFetching:x,isLoaded:b,isAtEnd:y}=d,{isLoaded:P,isAtEnd:w}=s||{},v=!!m&&m.length>0&&"all_pins"===m[0].story_type,j=!!m&&m.length>0&&("wishlist_shop_your_products_story"===m[0].story_type||m[1]?.story_type==="wishlist_shop_your_products_story"),A=!!m&&((v||j)&&m.length>1||!v&&m.length>0),C=o?P&&b:b,E=(a||[]).length>0&&s?.data||_.has_pin_clusters;return(0,g.jsx)(G.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,g.jsxs)(r.xu,{marginBottom:12,children:[b&&this.renderAllBoardsGroups(l?e.slice(0,6):e),this.state.isCreateBoardModalOpen&&(0,g.jsx)(X.Z,{boardCreateSource:"profile",onBoardCreate:n,onClose:this.closeCreateBoardModal,privacy:"SECRET"===c?R.ZP.BoardPrivacy.SECRET:void 0,shouldShowAddCollaborators:!0}),(0,g.jsx)(r.xu,{padding:6*!!x,children:(0,g.jsx)(r.xH,{accessibilityLabel:t._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:x})}),C&&(0,g.jsx)(eu,{isAtEndOfFeed:!!(o?w&&y:y)}),E&&(0,g.jsx)(T,{boardlessPinsNormalized:a,boardlessPinsResource:s,hasBoards:A,hasBoardSuggestions:!!_.has_pin_clusters,isOwnProfile:i,isRetrievalHub:f!==B.sz.enabled_with_unorganized_feed&&h,user:_}),u&&!p&&(0,g.jsx)(ed,{refreshBoardsFeed:()=>d.refresh()})]})})}}function ep(e){(0,l.useEffect)(()=>{(0,i.Z)("ProfileBoards","/app/common/react/components/profile/ProfileBoards/ProfileBoards.tsx")},[]);let t=(0,p.ZP)(),{id:o}=e.user,r=(0,O.Z)(),s=(0,a.TH)(),d=(0,a.s0)(),c=r.isAuth?r.username:"",u=(0,$.Z)(),_=(0,W.lJ)(r,u),h=(0,q.WG)(),{checkExperiment:f}=(0,v.Z)(),m=(0,D.Z)(),{isRetrievalHub:x=!1,user:{is_partner:b},isOwnProfile:y}=e,{selfProfileBoardFilter:P}=h??{selfProfileBoardFilter:void 0},w=!1===b&&y&&s.pathname.includes(`/${c}/${B.qV}`)&&f("web_retrieval_hub_profile_split_").anyEnabled,j=!1===b&&y?f("web_retrieval_hub_profile_split_").group:void 0,A=y&&!w&&f("web_curation_board_create_entry_points").anyEnabled;P&&m({event_type:101,view_type:4,view_parameter:x&&[B.sz.enabled_with_unorganized_feed,B.sz.enabled_with_log_fix].includes(j||"")?3106:4047,component:14461,element:14264,aux_data:{profile_filter:P}});let C=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&h?.profileBoardView||"wide",{boardlessPinsEnabled:E}=(0,Y.Xt)(o),z=q.UQ[P??"NONE"],k={name:"BoardsResource",key:"boardsResource",options:{...e,sort:e.boardOrder,field_set_key:"profile_grid_item",username:c,isRetrievalHub:!0,redux_normalize_feed:!0,filter_types:z,privacyFilter:w?"public":"all"}},S={name:ei.O.name,options:ei.O.options({...e,filterAllPins:x&&!w,privacyFilter:w?"public":"all"},_)},Z=(0,U.Z)(x&&P?k:S),T=(0,U.Z)(E?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o}}:null),R=(0,n.v9)(({feeds:e})=>e[`boardless-pins:${o}`])||[],L=(0,n.v9)(t=>{let{username:o,boardOrder:i}=e;return(((e,t)=>{let o=`profileBoards:${(0,ea.Z)(t.username,t.boardOrder,t.filter)}`;return e.feeds[o]})(t,{username:o,boardOrder:i,filter:z!==q.UQ.NONE?z.toString():void 0})||[]).reduce((e,t)=>{let o="board"===t.type,i="onProfile"in t&&t.onProfile,l=!w||!("profileGroup"in t)||"public"===t.profileGroup;return e.concat(o&&i&&l?[t]:[])},[])}),H=(0,n.I0)();return(0,V.Z)(()=>{m({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})}),(0,g.jsx)(e_,{...e,boardKeys:L,boardlessPinsNormalized:R,boardlessPinsResource:T,boardsResource:Z,handleBoardCreate:e=>{let t=_&&(0,I.Z)(e.privacy)?`?orbac_subject_id=${_}`:"";H((0,N.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),d(`${e.url||""}${t}`,{state:{newBoard:!0}})},i18n:t,invalidateFeeds:()=>H((0,en.K8)(c)),invalidatePinBetterSaveResource:()=>H((0,N.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),invalidateRetrievalHubFeed:()=>H((0,N.jB)("BoardsResource",ei.O.options({...e,filterAllPins:x&&!w}))),isBoardCreateExperiment:A,isBoardlessProfileEnabled:E,isProfilePreviewPage:w,isSelfPrivateProfile:x,profileBoardView:C,pwtSurfaceContext:(0,M.A)(),requestContext:(0,F.B)(),retrievalHubExpGroup:j,selfProfileBoardFilter:P,showRecentlyDeletedBoards:y})}es(e_,"defaultProps",{boardKeys:[]});var eh=o(788836),ef=o(450705),em=o(604488),eg=o(878788),ex=o(858845),eb=o(742438);let ey=(0,l.lazy)(()=>o.e("9949").then(o.bind(o,431153)));function eP({username:e}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileBoardsPage","/app/common/react/components/profile/ProfileBoards/ProfileBoardsPage.tsx")},[]);let t=(0,F.B)(),{checkExperiment:o}=(0,v.Z)(),n=(0,O.Z)(),a=(0,$.Z)(),s=(0,l.useRef)(null),[,d]=(0,l.useState)(!1);(0,l.useLayoutEffect)(()=>{d(!0)},[]);let[c,u]=(0,l.useState)(!1),_=(0,q.WG)()?.boardSortOrder.get(e||"")??"",{data:p}=(0,eb.Z)(),{data:h}=(0,U.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!p||!h)return null;let{most_recent_board_sort_order:f}=h,{has_custom_board_sorting_order:m=!1}=p,x=(0,ex.Z)({user:p,viewer:n}),b=(0,W.q6)(n,p.id,a),y=n.isAuth&&void 0!==n.groupBoardCount&&n.groupBoardCount>0,P=(0,em.Z)({hasCustomOrder:m,hasGroupBoard:y,isOwnProfile:x||b,mostRecentBoardSortOrder:f||void 0,updatedBoardOrder:_,requestContext:t}),w=!1===p.is_partner&&x&&o("web_retrieval_hub_profile_split_").anyEnabled,j=!w&&(x||b);return(0,g.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[j&&(0,g.jsx)(r.xu,{paddingX:4,children:(0,g.jsxs)(r.kC,{justifyContent:"between",children:[(x||b)&&(0,g.jsx)(r.xu,{ref:s,children:(0,g.jsx)(ef.Z,{setVisibilityControlsModalOpen:u,user:p})}),(x||b)&&(0,g.jsx)(eh.Z,{currentTab:eg.un.SAVED})]})}),(0,g.jsx)(ep,{boardOrder:P,filterStories:!1,isOwnProfile:x||b,isRetrievalHub:w,mixPublicSecret:x||b,user:p,username:p.username}),c&&(0,g.jsx)(l.Suspense,{children:(0,g.jsx)(ey,{setVisibilityControlsModalOpen:u})})]})}var ew=o(646831),ev=o(430635);function ej(){(0,l.useEffect)(()=>{(0,i.Z)("ProfileSavedContainer","/app/common/react/components/profile/ProfileSaved/ProfileSavedContainer.tsx")},[]);let{data:e}=(0,eb.Z)(),t=(0,ev.Z)();return(0,ew.S)(t.params.username,e?.id,13669),(0,g.jsx)(eP,{username:t.params.username})}},316658:function(e,t,o){o.d(t,{H$:()=>A,MY:()=>j,ZP:()=>C});var i=o(281098),l=o(667294),r=o(581722),n=o(20256),a=o(19585),s=o(302148),d=o(675973),c=o(45291),u=o(785893);function _({shouldBlock:e,updateShouldBlock:t,user:o}){(0,l.useEffect)(()=>{(0,i.Z)("BlockUserSwitch","/app/common/react/components/undiscovery/ReportModal/BlockUserSwitch.tsx")},[]);let r=(0,a.ZP)(),{fullName:_,username:p}=o,h=_?`${_} (${p})`:p,{checkExperiment:f}=(0,d.Z)(),m=f("ps_blocking_profile_visibility").anyEnabled;return(0,u.jsxs)(n.xu,{paddingY:3,children:[(0,u.jsx)(n.xv,{size:"100",children:(0,s.nk)(r._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:h})}),(0,u.jsxs)(n.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,u.jsx)(n.xu,{marginEnd:2,children:(0,u.jsx)(n.XZ,{checked:e,id:"blockUser",onChange:t})}),(0,u.jsx)(n.xu,{children:m?(0,u.jsx)(n.xv,{size:"300",children:(0,u.jsx)(c.Z,{})}):(0,u.jsx)(n.xv,{size:"300",children:(0,s.nk)(r._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,u.jsx)(n.xv,{inline:!0,size:"300",weight:"bold",children:(0,u.jsx)(n.rU,{display:"inlineBlock",href:`/${p}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:h},"blockUserLink")})})})})]})]})}var p=o(326154);let h={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function f({objectToReport:e,isBlocked:t,setIsBlocked:o,selectedReason:r,shouldBlockUser:a,renderVideoReasonDetailPage:s,updateShouldBlockUser:c}){(0,l.useEffect)(()=>{(0,i.Z)("ReasonDetailPage","/app/common/react/components/undiscovery/ReportModal/ReasonDetailPage.tsx")},[]);let{detail_page_removal_examples:f,detail_page_removal_example_header:m,detail_page_non_removal_examples:g,detail_page_non_removal_example_header:x,detail_page_additional_text:b}=r,{userToBlock:y}=e,{checkExperiment:P}=(0,d.Z)();return(0,u.jsxs)(n.xu,{paddingX:8,children:[(0,u.jsxs)(n.xu,{paddingY:3,children:[(0,u.jsx)(n.xv,{size:"100",children:m}),f.length>0&&(0,u.jsx)(n.xu,{paddingY:2,children:(0,u.jsx)("ul",{children:f.map((e,t)=>(0,u.jsx)("li",{style:h,children:(0,u.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),g.length>0&&(0,u.jsxs)(n.xu,{paddingY:3,children:[(0,u.jsx)(n.xv,{size:"100",children:x}),(0,u.jsx)(n.xu,{paddingY:2,children:(0,u.jsx)("ul",{children:g.map((e,t)=>(0,u.jsx)("li",{style:h,children:(0,u.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),b&&(0,u.jsx)(n.xu,{paddingY:3,children:(0,u.jsx)(n.xv,{size:"300",children:b})}),s&&s(),P("web_blocking_upsell").anyEnabled&&y?(0,u.jsx)(p.Z,{isBlocked:t,setIsBlocked:o,userToBlock:y}):(0,u.jsx)(n.xu,{children:"conversation"===e.type&&c&&e.userToBlock&&(0,u.jsx)(_,{shouldBlock:!!a,updateShouldBlock:c,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})})]})}var m=o(980787);function g({isSelectionStep:e,isBlocked:t,hasTimestampErrors:o,selectedReason:r,handleSubmitReport:s,onDismiss:c,step:_,shouldBlockUser:p,objectToReport:h,setStep:f}){(0,l.useEffect)(()=>{(0,i.Z)("ReportFooter","/app/common/react/components/undiscovery/ReportModal/ReportFooter.tsx")},[]);let g=(0,a.ZP)(),{logContextEvent:x}=(0,m.u)(),{checkExperiment:b}=(0,d.Z)(),y=({component:e,element:t,event:o})=>{h&&x({event_type:o,component:e,element:t,object_id_str:h.id,view_parameter:h.viewParameter||void 0,view_type:h.viewType||void 0})},P=e=>()=>{e!==j&&y({event:101,component:13179,...r?{element:r.element_type}:{}}),f(e)},w=e&&!r?.key||!e&&o,v=!(!1===_&&r&&"secondary_reasons"in r&&r?.secondary_reasons&&r.secondary_reasons.length>0),C=e?g._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):b("web_blocking_upsell").anyEnabled&&t?g._('Block and report', 'ReportModal.blockAndReportButton', 'Button text to submit a report and block the user'):g._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),E=e?P(!1):()=>{r&&s({reasonKey:r.key,...{selectedReason:r},...{shouldBlockUser:p}})};r?.open_web_url&&(E=()=>{h.type===A.PIN&&y({event:59,element:r.element_type}),r.open_web_url&&window.open(r.open_web_url,"_blank"),c()});let z=e?g._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):g._('Back', 'ReportModal.backButton', 'Back button'),k=e?c:P(!0);return(0,u.jsxs)(n.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(n.xu,{paddingX:1,children:(0,u.jsx)(n.xu,{"data-test-id":"report-pin-back-button",children:(0,u.jsx)(n.zx,{onClick:k,size:"lg",text:z})})}),v&&(0,u.jsx)(n.xu,{paddingX:1,children:(0,u.jsx)(n.xu,{"data-test-id":"report-pin-submit-button",children:(0,u.jsx)(n.zx,{color:"red",disabled:w??!1,onClick:E,size:"lg",text:C})})})]})}var x=o(948042);function b({handleSelectedReason:e,reason:t,reportingReasons:o}){(0,l.useEffect)(()=>{(0,i.Z)("SelectReportingReason","/app/common/react/components/undiscovery/ReportModal/SelectReportingReason.tsx")},[]);let r=(0,a.ZP)();return(0,u.jsx)(n.xu,{paddingX:4,paddingY:2,children:(0,u.jsx)(n.FX,{id:"select-reporting-reason",legend:r._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:o.map(o=>(0,u.jsx)(n.xu,{direction:"row",display:"flex",paddingX:4,children:(0,u.jsx)(n.xu,{"data-test-id":`report-pin-reason-${o.key}`,children:(0,u.jsx)(n.FX.RadioButton,{checked:o.key===t,helperText:o.secondary_text||"",id:o.key,label:o.primary_text||"",name:"reportPinOptions",onChange:()=>e(o),value:o.key})})},`Option-${o.key}`))})})}var y=o(521009),P=o(982166),w=o(636921),v=o(401450);let j=!0,A={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function C({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:o,objectToReport:s,renderVideoReasonDetailPage:d,reportingReasons:c,showSuccessReportMessage:_}){(0,l.useEffect)(()=>{(0,i.Z)("ReportModal","/app/common/react/components/undiscovery/ReportModal/ReportModal.tsx")},[]);let p=(0,a.ZP)(),[h,m]=(0,l.useState)(null),[C,E]=(0,l.useState)(!1),z=(0,r.I0)(),k=(0,y.Z)(),[B,S]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(j),I=(0,w.Z)(),{userToBlock:R}=s,D=e=>{m(e)},O=()=>{if(Z!==j&&h?.detail_page_header_text)return h.detail_page_header_text;switch(s.type){case A.PIN:return p._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case A.USER:return p._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case A.CONVERSATION:return p._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case A.BOARD:return p._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return c?(0,u.jsx)(P.ZP,{accessibilityModalLabel:O(),footer:c&&(0,u.jsx)(g,{handleSubmitReport:e=>{B&&R&&z((0,v.Ge)({id:R.id,logContextEvent:k})),t(e)},hasTimestampErrors:o,isBlocked:B,isSelectionStep:Z===j,objectToReport:s,onDismiss:e,selectedReason:h,setStep:T,shouldBlockUser:C,step:Z}),heading:O(),onDismiss:e,children:(0,u.jsxs)(n.xu,{"data-test-id":"report-modal",children:[Z===j&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(b,{handleSelectedReason:D,reason:h?.key,reportingReasons:c}),_&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(n.xu,{borderStyle:"sm",marginBottom:4,marginEnd:8,marginStart:8,marginTop:4}),(0,u.jsx)(n.xu,{marginEnd:4,marginStart:4,children:(0,u.jsx)(n.he,{message:p._('Blocked. To manage your block list, see social permissions in settings.', 'pinReporting.successBlockMessage', 'Success block message after block and report action'),type:"success"})})]})]}),Z!==j&&h&&"secondary_reasons"in h&&h?.secondary_reasons&&h.secondary_reasons.length>0?(0,u.jsx)(x.Z,{onChange:D,secondaryReasons:h.secondary_reasons}):Z!==j&&h&&(0,u.jsx)(f,{isBlocked:B,objectToReport:s,renderVideoReasonDetailPage:d,selectedReason:h,setIsBlocked:S,shouldBlockUser:C,updateShouldBlockUser:()=>{s.userToBlock&&(C||I(),E(!C))}})]})}):(0,u.jsx)(n.xH,{accessibilityLabel:p._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},948042:function(e,t,o){o.d(t,{Z:()=>s});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(785893);function s({onChange:e,secondaryReasons:t}){(0,l.useEffect)(()=>{(0,i.Z)("SecondaryReasons","/app/common/react/components/undiscovery/ReportModal/SecondaryReasons.tsx")},[]);let o=(0,n.ZP)();return(0,a.jsx)(r.xu,{children:t.map(t=>(0,a.jsx)(r.iP,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,a.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,a.jsx)(r.xu,{paddingX:8,children:(0,a.jsx)(r.xv,{children:t.primary_text})}),(0,a.jsx)(r.xu,{"data-test-id":"secondary-reason-container",paddingX:8,children:t.open_web_url?(0,a.jsx)(r.JO,{accessibilityLabel:o._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",dataTestId:"secondary-reason-outside-link-icon",icon:"arrow-up-right"}):(0,a.jsx)(r.JO,{accessibilityLabel:o._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",dataTestId:"secondary-reason-icon",icon:"arrow-forward"})})]})},t.key))})}},95763:function(e,t,o){o.d(t,{Z:()=>a});var i=o(475498),l=o(19585),r=o(87853),n=o(785893);function a(){let e=(0,l.ZP)(),{showToast:t}=(0,r.dI)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,n.jsx)(i.Z,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,n.jsx)(i.Z,{onHide:t,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')}))}}}},729082:function(e,t,o){o.d(t,{Z:()=>l});var i=o(918920);function l(e){return e===i.ZP.BoardPrivacy.SECRET}},377654:function(e,t,o){o.d(t,{Rq:()=>i,Vf:()=>l,jd:()=>r,oy:()=>n});let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,l=28,r=e=>window.innerHeight>=748&&i(e),n=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},473304:function(e,t,o){o.d(t,{Z:()=>h});var i=o(281098),l=o(667294),r=o(20256),n=o(937805),a=o(667835),s=o(461951),d=o(816358),c=o(516114),u=o(15667),_=o(883379),p=o(785893);function h({children:e,footerConfig:t,headerConfig:o,height:h,hideOnScroll:f,hideOnScrollState:{isHidden:m,updateHiddenState:g},isFooterHidden:x,noPadding:b,paddingX:y,paddingY:P=c.og,type:w,zIndex:v,isStoryPin:j}){let A,C;(0,l.useEffect)(()=>{(0,i.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:E,ignoreObstructions:z,zIndexForGestaltBug:k}=o||{},{appUpsellFooterConfig:B,footerInLego:S,navFooterConfig:Z}=t||{},T=!!B,I="header"===w?"top":"bottom",R=(0,a.vs)(),{isRTL:D}=(0,u.B)(),{mWebCloseupRedesignEnabled:O}=(0,n.Z)(),L=(0,l.useRef)(null),H=(0,l.useRef)(null);(0,l.useEffect)(()=>{try{if(!z){let e=L.current;H.current=E&&e&&Array.isArray(e.children)?e.children[0]:e,H.current instanceof HTMLElement&&d.Z.addObstruction(I,H.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!z&&H.current instanceof HTMLElement&&d.Z.removeObstruction(I,H.current)}},[z,E,I,R]);let M="top"===I?"relative":"fixed",F=b?0:P,N=(h??c.R$)+(o?.overrideTop||0),U=f||Z?{transition:S||O?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||x?{transform:`translateY(${"top"===I?-N:N}px)`,opacity:S||O?0:1}:Object.freeze({})}:{},G=2*!("relative"!==M||o?.noGutter),V=G?-G:0,$=R?a.k7:"rgba(255,255,255,.95)";R&&("header"===w?A=-1:C=-1);let W=S?T?void 0:h??c.R$:"100%",X=S?c.KJ:void 0,Y=o?.isTranslucent&&$||R?$:s.Wmm,J=o?.isTransparentBackground&&s.Wyp?s.Wyp:Y,K=(0,l.useMemo)(()=>({height:"footer"===w&&O?`calc(${W} + env(safe-area-inset-bottom))`:W,...O&&"footer"===w?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(F||0)}px)`}:Object.freeze({})}),[O,W,w,F]),q=(0,_.Z)({skipExpActivation:!0});return(0,p.jsx)(r.xu,{ref:L,bottom:"footer"===w,dangerouslySetInlineStyle:{__style:{top:A,bottomStyle:C,...!v||k?{zIndex:k||1}:Object.freeze({}),...E?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...o?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...U}},"data-test-id":w,display:T?"flex":void 0,height:h&&!S?h:void 0,left:!0,marginEnd:S?"auto":V,marginStart:S?"auto":V,onTransitionEnd:()=>{(f||Z)&&H.current&&(m||x?d.Z.removeObstruction(I,H.current):d.Z.addObstruction(I,H.current))},position:M,right:!0,top:"header"===w,width:S||"fixed"!==M?void 0:"100%",zIndex:k?void 0:v,children:(0,p.jsx)(r.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:J,paddingLeft:D||!q||j?void 0:"8px",paddingRight:D&&q&&!j?"8px":void 0,...K,boxShadow:O&&"footer"===w?`0 10px 0 0 ${J}, ${c.KJ}`:X,marginBottom:S&&!Z?.docked?16:void 0,...E?{pointerEvents:"auto"}:Object.freeze({}),...o?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:S||t?.alignCenter?"flex":void 0,marginEnd:S?"auto":void 0,marginStart:S?"auto":void 0,paddingX:y||4*("footer"===w&&!b)+G,paddingY:F,position:"relative",rounding:S&&!Z?.docked?"pill":void 0,width:Z?Z.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:g}):e})})}},588367:function(e,t,o){o.r(t),o.d(t,{default:()=>c});var i=o(281098),l=o(667294),r=o(20256),n=o(516114),a=o(473304),s=o(211887),d=o(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:o,isTranslucent:c,isTransparentBackground:u,noGutter:_,overrideTop:p,useRoundedCorners:h,zIndexForGestaltBug:f,isStoryPin:m,...g}){(0,l.useEffect)(()=>{(0,i.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:x,paddingY:b=n.og,zIndex:y}=g;return(0,d.jsx)(r.Le,{height:t?n.LV+2*(x?0:b)*4:void 0,top:p||0,zIndex:y||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:g.hideOnScroll,children:i=>(0,d.jsx)(a.Z,{...g,headerConfig:{isTranslucent:c,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:o,noGutter:_,overrideTop:p,zIndexForGestaltBug:f,useRoundedCorners:h},hideOnScrollState:i,isStoryPin:m,type:"header"})})})}},211887:function(e,t,o){o.d(t,{Z:()=>n});var i=o(667294),l=o(159527);function r(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class n extends i.Component{constructor(...e){super(...e),r(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),r(this,"lastScrollPos",0),r(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),r(this,"handleScroll",(0,l.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:o}=this.state,i=window.scrollY,l=i-this.lastScrollPos,r="none",{scrollHeight:n,clientHeight:a}=document.documentElement||{};Number.isNaN(n)||Number.isNaN(a)||(r=l<0?i<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":i>=(window.scrollMaxY||n-a)-Math.max(l,20)?"end":"none");let s=55*!t?.isModal;e?l>20&&o&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(l<-20&&!o||i<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===r&&!o||i<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>s||"end"===r)&&o&&(this.updateHiddenState(!1),t?.onScroll(!1)):(l<-20||"start"===r)&&o||i<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(l>20||"end"===r)&&!o&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:o}=this.state;return e({isHidden:!t?.forceShow&&o,updateHiddenState:this.updateHiddenState})}}},914061:function(e,t,o){o.r(t),o.d(t,{default:()=>u});var i=o(281098),l=o(667294),r=o(20256),n=o(93966),a=o(377654),s=o(657389),d=o(15667),c=o(785893);let u=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:o=!1,hasGutter:u=!0,height:_,showKeychainError:p=!1,useViewport:h=!1})=>{(0,l.useEffect)(()=>{(0,i.Z)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx")},[]);let f=(0,d.B)(),m=(0,a.jd)(f.userAgent.platform)?a.Vf:0;return(0,c.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${m}px)`:_,paddingX:u?n.D6:void 0,paddingY:o||p?void 0:3,children:(0,c.jsx)(s.C,{value:!!u,children:e})})}},516114:function(e,t,o){o.d(t,{KJ:()=>a,LV:()=>n,R$:()=>i,UB:()=>r,dS:()=>s,og:()=>l});let i=64,l=3,r=100,n=44,a="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},900675:function(e,t,o){o.d(t,{Z:()=>a});var i=o(667294),l=o(581722),r=o(849233),n=o(707079);function a(e){let{name:t,optionsKey:o}=e,a=t===r.fY,s=(0,n.MA)(),d=s?.get(t,o);if(d)throw d;let c=e=>e[t]?.[o],u=(0,l.v9)(({resources:e})=>c(e)?.nextBookmark),_=(0,l.v9)(({resources:e})=>c(e)?.data),p=(0,l.v9)(({resources:e})=>c(e)?.auxData),h=(0,l.v9)(({resources:e})=>c(e)?.error),f=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(a)return f.current;let m={auxData:p,data:_,error:h,isAtEnd:u===r.qx,nextBookmark:u};return(m.auxData!==f.current.auxData||m.data!==f.current.data||m.error!==f.current.error||m.isAtEnd!==f.current.isAtEnd||m.nextBookmark!==f.current.nextBookmark)&&(f.current=m),f.current}},444185:function(e,t,o){o.d(t,{Z:()=>r});var i=o(849233),l=o(943257);function r(e){let{enabledRouteRefresh:t,headers:o,name:r,noCache:n,options:a,schema:s}=e??{name:i.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:_,isFetching:p,isLoaded:h,isRefreshing:f,refresh:m}=(0,l.Z)({enabledRouteRefresh:t,headers:o,name:r,noCache:n,options:a,schema:s},d,!1);return d||c(),{ref:u,fetchMore:_,isFetching:p,isLoaded:h,isRefreshing:f,refresh:m}}},2929:function(e,t,o){function i(e){return e===window?window.innerHeight:e.clientHeight}function l(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function r(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function n(e){return e===window?l():e.scrollTop}o.d(t,{MX:()=>n,S$:()=>l,Uy:()=>i,aZ:()=>r})},91479:function(e,t,o){o.d(t,{Z:()=>u});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(15667),s=o(601686),d=o(785893);let c=({onClick:e,showShadow:t,size:o="lg",onMouseEnter:i})=>{let a=(0,n.ZP)();return(0,d.jsx)(l.Fragment,{children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:t?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:i,rounding:"circle",children:(0,d.jsx)(r.hU,{accessibilityLabel:a._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:o})},"back-button-icon")})};function u({handleScroll:e,marginTop:t,onClick:o,showShadow:n,onMouseEnter:u,size:_="xl"}){(0,l.useEffect)(()=>{(0,i.Z)("BackButton","/app/packages/ui/BackButton.tsx")},[]);let{closeupWithinMasonryEnabled:p}=(0,s.x4)(),{isRTL:h}=(0,a.B)();return(0,l.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...h?{right:0}:{left:p?0:-12}}},"data-test-id":"back-button",display:"flex",position:"relative",children:(0,d.jsx)(c,{marginTop:t,onClick:o,onMouseEnter:u,showShadow:n,size:_})})}},914071:function(e,t,o){o.d(t,{Z:()=>l});var i=o(667294);function l(e,t){let o=(0,i.useRef)([]),[l,r]=(0,i.useState)(),[n,a]=(0,i.useReducer)(l??(()=>t),t),s=(0,i.useCallback)(t=>{l?a(t):(o.current.length||e().then(e=>{r(()=>e.default)}),o.current=[...o.current,t])},[e,l]);return(0,i.useEffect)(()=>{l&&(o.current.forEach(a),o.current=[])},[l]),[n,s]}},874837:function(e,t,o){o.d(t,{Z:()=>i});function i(e=0){return new Promise(t=>setTimeout(t,e))}},129046:function(e,t,o){o.d(t,{Z:()=>l,j:()=>i});let i=8,l=369},105433:function(e,t,o){o.d(t,{pb:()=>b,nf:()=>y,lV:()=>P});var i=o(667294),l=o(581722),r=o(441143),n=o.n(r),a=o(575108),s=o(729434),d=o(686319),c=o(791948),u=o(503246),_=o(991384);let p={feature_map:Object.freeze({})},h=(e,t)=>{let o={...(0,_.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,o)?e:o},f=(e,t)=>{if(e=e||p,"FETCH_COMPLETE"===t.type){let{payload:{resource:o}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){let t=(i||[]).reduce((t,o)=>(t[o.id]=h(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type).reduce((t,o)=>(t[o.id]=h(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&i&&i.length>0){let t=i.map(e=>e.aggregated_comment).reduce((t,o)=>(o&&(t[o.id]=h(e[o.id],o)),t),{}),o=i.map(e=>e.creator_reply).reduce((t,o)=>(o&&o.id&&(t[o.id]=h(e[o.id],o)),t),{});return{...e,...t,...o}}if("AggregatedCommentFeaturesResource"===o&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:o}}=t,i={...e};return delete i[o],i}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==o))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:o}}=t;return{...e,[o.id]:h(e?.[o.id],o)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:o}}=t,i=e?.[o.id],l=i?.reaction_counts[1]||0,r={1:o.reaction_by_me?l+1:l-1},n={...i,reaction_by_me:o.reaction_by_me,reaction_counts:r};return{...e,[o.id]:n}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:o}}=t,i=e?.[o.id],l=i?.helpful_count||0,r=o.marked_helpful_by_me?l+1:l-1,n={...i,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:r};return{...e,[o.id]:n}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:o}}=t,i={...e?.[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:i}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e?.feature_map,...o}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:o,id:i}}=t,l=e?.[i];if(!l)return e;let r={...l,comment_count:l.comment_count+o};return{...e,[i]:r}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:o,tagged_users:i}}=t,l={...e?.[o],tagged_users:i};return{...e,[o]:l}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:o,translatedText:i}}=t,l={...e?.[o],translatedText:i};return{...e,[o]:l}}return e};var m=o(785893);let{Provider:g,get:x}=(0,s.Z)("AggregatedComments");function b({children:e}){let t=(0,l.v9)(({resources:e})=>e?.UnifiedCommentsResource),o=p;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),i=t?.reduce((e,t)=>(e[t.id]=h(o[t.id],t),e),{});o={...o,...i}});let[r,n]=(0,i.useReducer)(f,o),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",a),(0,c.my)("AggregatedCommentFeaturesResource",a),(0,c.Z8)("AggregatedCommentFeedResource",a),(0,c.my)("AggregatedCommentFeedResource",a),(0,c.Z8)("AggregatedCommentReplyFeedResource",a),(0,c.my)("AggregatedCommentReplyFeedResource",a),(0,c.Z8)("DidItCommentsResource",a),(0,c.my)("DidItCommentsResource",a),(0,c.Z8)("UnifiedCommentsPreviewResource",a),(0,c.my)("UnifiedCommentsPreviewResource",a),(0,c.Z8)("UnifiedCommentsResource",a),(0,c.my)("UnifiedCommentsResource",a);let s=(0,i.useMemo)(()=>({aggregatedComments:r,dispatch:n}),[r,n]);return(0,m.jsx)(g,{value:s,children:e})}function y(){let{dispatch:e}=x();return(0,i.useMemo)(()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:o,detailedReasons:i})=>{let l=e?`/v3/aggregated_comments/${t}/flag/`:`/v3/did_it/${t}/flag/`;return(0,d.Z)({url:l,method:"PUT",data:{commentId:t,reason:o,detailedReasons:i}})},deleteCommentMention:async t=>{let{resource_response:o}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),i=o.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:i.id,tagged_users:i.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:o}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),i=o.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:i}})}catch(o){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o,orbacSubjectId:i})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:o?"DELETE":"POST",data:i?{orbac_subject_id:i}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:o,isHighlighted:i})=>{n()(t,"Could not find comment"),n()(o,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:o,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o,orbacSubjectId:i})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:o?"DELETE":"POST",data:{reaction_type:1,...i?{orbac_subject_id:i}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!o}}})},updateAggregatedComment:async({commentId:t,force:o,orbacSubjectId:i,tags:l,text:r})=>{let{resource_response:n}=await a.Z.create("AggregatedCommentResource",{commentId:t,force:o,tags:l,text:r,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:s}=n.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:s.map(e=>({...e})),tags:JSON.parse(l),text:r}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o,passcode:i,userConfirmPasscode:l})=>{let r={userId:t,featureMap:o,passcode:i,user_confirm_skip_passcode:l};void 0===l&&(r.user_confirm_skip_passcode=!1);let{resource_response:n}=await a.Z.create("AggregatedCommentFeaturesResource",r).callUpdate({showError:!1});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:n.data??Object.freeze({})}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}}),[e])}function P(){let{aggregatedComments:e}=x();return e}},326154:function(e,t,o){o.d(t,{Z:()=>c});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(302148),s=o(45291),d=o(785893);function c({isBlocked:e,userToBlock:t,setIsBlocked:o}){(0,l.useEffect)(()=>{(0,i.Z)("BlockUserForm","/app/www/BlockedAccounts/BlockUserForm.tsx")},[]);let c=(0,n.ZP)();return t?t.blockedByMe?(0,d.jsx)(r.xu,{marginTop:4,children:(0,d.jsx)(r.xv,{color:"subtle",size:"100",children:(0,a.nk)(c._('You\u2019ve already blocked {{ fullName }}. Manage your block list in Settings > Social permissions and activity at any time.', 'reportPinReasonDetail.blockedUser.information', 'Clear indication if user has already blocked the reported user. fullName: the blocked user name to be displayed'),{fullName:t.fullName})})}):(0,d.jsx)(r.xu,{children:(0,d.jsx)(r.kC,{alignItems:"center",gap:4,height:"100%",justifyContent:"center",width:"100%",children:(0,d.jsx)(r.XZ,{checked:e,helperText:(0,d.jsx)(s.Z,{}),id:"block-user-checkbox",label:(0,a.nk)(c._('Block {{ fullName }}?', 'reportPinReasonDetail.blockUser.checkLabel', 'Check label for blocking a user section. fullName: the name to be displayed'),{fullName:t?.fullName}),onChange:({checked:e})=>o(e)})})}):null}},45291:function(e,t,o){o.d(t,{Z:()=>p});var i=o(281098),l=o(667294),r=o(20256),n=o(980787),a=o(19585),s=o(302148),d=o(694955),c=o(647709),u=o(785893);let _=d.K_Y+"?source=block_dialogue";function p(){(0,l.useEffect)(()=>{(0,i.Z)("BlockingUserWarning","/app/www/BlockedAccounts/BlockingUserWarning.tsx")},[]);let e=(0,a.ZP)(),t=(0,c.HG)(),{logContextEvent:o}=(0,n.u)(),d=()=>{o({event_type:t?101:102,component:13})};return(0,s.XB)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,u.jsx)(r.rU,{display:"inlineBlock",href:_,onClick:d,target:"blank",children:e})}})}},946757:function(e,t,o){o.d(t,{Z:()=>c});var i=o(281098),l=o(667294),r=o(20256),n=o(602400),a=o(913852),s=o(785893);let d={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function c({children:e,forwardRef:t,overrideTop:o=0,position:c="static",shouldShowShadow:u=!1,top:_,style:p={}}){(0,l.useEffect)(()=>{(0,i.Z)("ContentHeader","/app/www/ContentHeader.tsx")},[]);let{currentScrollPosition:h,isScrolled:f,setSubheaderShadow:m}=(0,n.b)();(0,l.useEffect)(()=>(u&&m("contentHeader"),()=>{u&&m(null)}),[u]);let g=!1;"pending"!==_&&(g=null!=_?h>=_:f);let x=(0,s.jsx)(r.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:c,...p,...g&&u&&{...d,zIndex:499}}},children:e});return"sticky"===c?(0,s.jsx)(r.Le,{top:o,zIndex:new r.H3([a.Zu]),children:x}):x}},187440:function(e,t,o){o.d(t,{q:()=>v,Z:()=>j});var i,l=o(281098),r=o(667294),n=o(686930);o(244311);var a=o(20256),s=o(521009),d=o(28427),c=o(19585),u=o(15667),_=o(647709),p=o(341742),h=o(532611),f=o(785893);function m({action:e,viewType:t,auxData:o={}}){(0,r.useEffect)(()=>{(0,l.Z)("ButtonLinkAction","/app/www/ContentSensitivity/ButtonLinkAction.tsx")},[]);let i=(0,s.Z)(),n=(0,_.HG)(),{button:d}=e,c=d?.text||"",u=d?.link||"";return c&&u?(0,f.jsx)(a.ZP,{href:u,iconEnd:"arrow-up-right",onClick:()=>{(0,h.qA)({logContextEvent:i,auxData:{url:u,...o},isDesktop:n,viewType:t})},target:n?"blank":"self",text:c}):null}let g={0:"phone",1:"speech-ellipsis",2:"speech-outline",3:"globe",4:"whatsapp",5:"search"};function x({button:e,contactType:t,viewType:o,auxData:i={},viewParameter:n}){(0,r.useEffect)(()=>{(0,l.Z)("CustomActionLink","/app/www/ContentSensitivity/CustomActionLink.tsx")},[]);let d=(0,s.Z)(),c=(0,_.HG)(),u=[0,1].includes(t),p=e?.link||"",m=c&&u?`${e?.text} ${function(e){let[,t]=e.split(":");return t}(p)}`:e?.text,x=g[t]||"arrow-up-right";return m&&p?(0,f.jsx)(a.ZP,{href:p,iconStart:x,onClick:()=>{(0,h.qA)({viewParameter:n,logContextEvent:d,viewType:o,auxData:{url:p,...i},isDesktop:c})},target:"blank",text:m}):null}var b=o(784635),y=o(603316),P=o(30579);let w=(void 0!==i||(i=o(193157)).hash&&"6e21ec048bb4ac7d621865a42cf02a6c"!==i.hash&&console.error("The definition of 'SensitiveNotice_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function v({query:e,sensitivityKey:t,viewParameter:o}){(0,r.useEffect)(()=>{(0,l.Z)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let i=(0,d.Z)(w,t),n=i?.notices;return n?.map(t=>(0,f.jsx)(j,{notice:t,query:e,sensitivity:i,viewParameter:o,viewType:2},t.noticeId))}function j({boardId:e,boardSectionId:t,boardName:o,notice:i,viewType:d,viewParameter:g,query:w,sensitivity:v,objectType:j}){(0,r.useEffect)(()=>{(0,l.Z)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let A=(0,_.HG)(),C=(0,c.ZP)(),E=(0,s.Z)(),{title:z,footer:k,description:B,image_type:S,content_image_url:Z}=i||{},T=i?.actions??[],I=i?.suggested_resource,R=(0,u.B)(),{imageSRC:D,imageALT:O}=function(e,t){let o={[P.b.HIDDEN]:C._('Hidden Illustration.', 'sensitiveNotice.hiddenIllustration', 'Sensitive illustration for hidden content'),[P.b.HOPE]:C._('An illustration of a landscape, clouds, and the sun seen through a window with both shutters open.', 'sensitiveNotice.hopeIllustration', 'Sensitive illustration for hope content'),[P.b.LOVE]:C._('An illustration of heart-shaped flowers arranged in a vase', 'sensitiveNotice.loveIllustration', 'Sensitive illustration for love content')};return e===P.b.CUSTOM?{imageSRC:t,imageALT:C._('Illustration.', 'sensitiveNotice.customIllustration', 'Sensitive illustration for custom content')}:e===P.b.NONE?{imageSRC:"",imageALT:""}:{imageSRC:h.HY[e],imageALT:o[e]}}(null==S?P.b.NONE:S,Z||""),L={advisory_level:v?.advisory,entered_query:w,severity_level:v?.severity,stage:R.stage,advisory_type:v?.advisory_type,resource_country:v?.resource_country,board_name:o,board_id:e,board_section_id:t};return(0,p.Z)(()=>{d&&(E({aux_data:L,event_type:120,component:13367,view_parameter:g,view_type:d}),(0,y.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:L.advisory_level,advisory_type:L.advisory_type,app:A?"DESKTOP_WEB":"MOBILE_WEB",resource_country:L.resource_country,placement:d,object_type:j}})),e&&5===d&&E({aux_data:{board_id:e,board_section_id:t??0},component:178,event_type:15549,view_parameter:g,view_type:d})}),(0,f.jsx)(a.xu,{"data-test-id":"search-advisory",children:(0,f.jsxs)(a.xu,{"data-test-id":"fresh-search-advisory",margin:"auto",maxWidth:"800px",padding:6,rounding:2,children:[D&&(0,f.jsx)(a.kC,{justifyContent:A?"center":"start",children:(0,f.jsx)(a.xu,{height:120,marginBottom:4,width:120,children:(0,f.jsx)(a.Ee,{alt:O,fit:"contain",naturalHeight:1,naturalWidth:1,src:D})})}),!!z&&(0,f.jsx)(a.xu,{display:"flex",marginBottom:2,children:(0,f.jsx)(a.X6,{size:"400",children:z})}),!!B&&(0,f.jsx)(a.xu,{marginBottom:4,children:(0,f.jsx)(a.xv,{size:"200",children:(0,b.Z)(B?.text||"",B?.text_tags||[],E,L,A)})}),I&&(0,f.jsxs)(a.xu,{marginBottom:4,children:[(0,f.jsx)(a.xv,{size:"200",weight:"bold",children:C._('Suggested resource', 'sensitiveNotice.suggestedResource', 'This string is a subtitle. It appears in an alert message to users who may benefit from receiving mental health and crisis resources. Underneath the subtitle, we\u2019ll show a single resource that seems the most helpful for  the user. We use \u201Csuggested\u201D rather than \u201Crecommended\u201D to soften the framing, as this resource isn\u2019t personalized or an endorsement from Pinterest. The tone of this string is helpful, but not strongly encouraging')}),(0,f.jsx)(a.xu,{marginTop:2,children:(0,f.jsx)(a.xv,{size:"200",children:I})})]}),(0,f.jsx)(a.kC,{direction:"column",gap:2,children:T.map(e=>e?.button?.contact_type?(0,f.jsx)(x,{auxData:L,button:e.button,contactType:e.button.contact_type,viewType:d},e.id||e.actionId):(0,f.jsx)(m,{action:e,auxData:L,viewType:d},e.id))}),!!k&&(0,f.jsx)(a.xu,{marginTop:4,children:(0,f.jsx)(a.xv,{color:"subtle",size:"100",children:(0,f.jsx)(n.ZP,{options:{overrides:{b:{component:({children:e})=>(0,f.jsx)(a.rU,{display:"inline",href:k.link??"",onClick:()=>{(0,h.qA)({logContextEvent:E,auxData:{...L,url:k.link},isDesktop:A,placement:d,objectType:j,viewType:d,viewParameter:g})},target:"blank",children:(0,f.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:e})},k.link)}}},children:k.text})})})]})})}},532611:function(e,t,o){o.d(t,{Fx:()=>a,HY:()=>n,IR:()=>r,Uz:()=>s,qA:()=>d});var i=o(603316),l=o(30579);let r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},n={[l.b.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[l.b.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[l.b.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function a(e){return null!=e&&!!e.notices&&e.notices.length>0}function s(e){return!!e&&e.severity===r.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:o,objectType:l,placement:r,viewType:n,viewParameter:a}){o({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:a||43,view_type:n||2}),(0,i.QX)("webapp.advisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country,object_type:l,placement:r}})}},784635:function(e,t,o){o.d(t,{Z:()=>n});var i=o(20256),l=o(532611),r=o(785893);function n(e,t,o,a={},s){let d=[],c=0;for(let n=0;n<t.length;n+=1){let u=t[n];if(5===u.tag_type&&u.link){let{offset:t,length:_,link:p}=u;if(null!=t&&null!=_&&null!=p){let u=e.substring(t,t+_),h=(0,r.jsx)(i.rU,{display:"inline",href:p,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,l.qA)({auxData:{...a,url:p},isDesktop:s,logContextEvent:o})},target:"blank",underline:"hover",children:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:u})},`link-${n}-${u}`);d.push((0,r.jsx)(i.xv,{inline:!0,children:e.substring(c,t)},`text-${n}-${u}`)),d.push(h),c=t+_}}}return(c>0&&d.push((0,r.jsx)(i.xv,{inline:!0,children:e.substring(c)},e.substring(c))),0===d.length)?[(0,r.jsx)("span",{children:e},e)]:d}},661314:function(e,t,o){o.d(t,{Z:()=>A});var i=o(281098),l=o(667294),r=o(581722),n=o(825332),a=o(20256),s=o(521009),d=o(721214),c=o(982166),u=o(19585),_=o(675973),p=o(647709),h=o(640924),f=o(964577),m=o(785893);function g({isOpen:e,onDismiss:t}){(0,l.useEffect)(()=>{(0,i.Z)("DisabledPinCreationModal","/app/www/CreateMenu/DisabledPinCreationModal.tsx")},[]);let o=(0,u.ZP)();return(0,m.jsx)(c.ZP,{accessibilityModalLabel:o._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:o._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,m.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,m.jsx)(a.X6,{children:o._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.xv,{children:o._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.zx,{color:"red",onClick:()=>t(),size:"lg",text:o._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function x(e){(0,l.useEffect)(()=>{(0,i.Z)("CreateMenuLinkButton","/app/www/CreateMenuLinkButton.tsx")},[]);let t=(0,u.ZP)(),{viewType:o,boardId:r,handleTouch:n}=e,s=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),d=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===o&&r?(0,m.jsx)(a.Tg,{href:`/board/${r}/create_section/`,onTap:n,rounding:2,children:(0,m.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:d})})}):(0,m.jsx)(a.Tg,{href:"/board/create/",onTap:n,children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:s})})})}var b=o(441912);function y({disabledPinCreation:e,handleDisablePublish:t,handleTouch:o}){(0,l.useEffect)(()=>{(0,i.Z)("CreatePinButton","/app/www/CreatePinButton.tsx")},[]);let r=(0,u.ZP)(),s=(0,n.s0)(),d=r._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,m.jsx)(a.iP,{onTap:()=>{if(e)return void t();o()},tapStyle:"none",children:(0,m.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,m.jsx)(a.X6,{size:"400",children:d}),e?null:(0,m.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;s(`/pin/create/${b.Iv}/`,{state:{imageBase64:String(e),description:"",imageUrl:"",method:b.Iv}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var P=o(156618),w=o(352908),v=o(87728);function j({bgColor:e,boardId:t,buttonPadding:o,disabledPinCreation:r,elementType:n,navigate:s,i18n:u,iconButtonColor:_="gray",iconButtonSize:p="xl",isDesktop:b,isInputOpen:w,logContextEvent:v,requireAuthForLimitedLogin:j,submittedLink:A,updatePinBuilderInput:C,viewType:E}){(0,l.useEffect)(()=>{(0,i.Z)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let[z,k]=(0,l.useState)(""),[B,S]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(!1),[I,R]=(0,l.useState)(!1),[D,O]=(0,l.useState)(null);(0,l.useEffect)(()=>{(w||A)&&(S(!!w),T(!!w),A&&k(A))},[w,A]);let L=(0,l.useRef)(null),H=(0,l.useRef)(null),M=()=>{v({view_type:E,view_parameter:3106,element:n,event_type:102,aux_data:{source:f.Z.PROFILE}})},F=()=>{S(!1),T(!1),C({isInputOpen:!1,submittedLink:""})},N=()=>{S(!1),R(!0)},U=({value:e})=>{k(e)},G=(e,t)=>{e.preventDefault();let{errors:o}=(0,h.Jx)({message:u._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(z),[i]=o;i?O(i):(T(!1),C({submittedLink:z}),t("/pin-builder/",{state:{createPinFromLinkUrl:z}}),F())},V=u._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===E?V=u._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===E&&(V=u._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||u._('Add to board', 'heading in board create modal', 'heading in board create modal'));let $=4===E?u._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):V,W=(5===E||164===E)&&H.current;return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,m.jsx)(a.hU,{ref:H,accessibilityLabel:u._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"add",iconColor:_,onClick:()=>{M(),j({fn:()=>S(!0),modalHeader:(0,P.is)(u)})()},padding:o,size:p})})}),B&&(0,m.jsx)(c.ZP,{accessibilityModalLabel:"",heading:$,isOpen:B,mobileAccessibilityCloseIconLabel:u._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:F,type:"create_menu",children:(0,m.jsx)(a.xu,{padding:3,children:(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(a.xu,{paddingX:2,children:[(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsx)(a.xv,{children:u._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')})}),(()=>{let e=u._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:Z?(0,m.jsx)("form",{onSubmit:e=>G(e,s),style:{width:"100%"},children:(0,m.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,m.jsx)(a.xu,{ref:L,width:"100%",children:(0,m.jsx)(a.xu,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,m.jsx)(a.nv,{errorMessage:D,id:"create-pin-from-link",onChange:U,onFocus:()=>O(null),placeholder:(e=>{let t=window&&window.innerWidth||0,o=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),i=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?i:o})(u),size:"lg",value:z})})}),(0,m.jsx)(a.hU,{accessibilityLabel:u._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>G(e,s),size:"lg"})]})}):(0,m.jsx)(a.iP,{onTap:()=>{if(r)return void N();T(!0),C({isInputOpen:!0})},tapStyle:"none",children:(0,m.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,m.jsx)(a.X6,{size:"400",children:e})})})})})(),(0,m.jsx)(y,{disabledPinCreation:r,handleDisablePublish:N,handleTouch:M})]}),164!==E&&(0,m.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,m.jsx)(a.xv,{children:u._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,m.jsx)(x,{boardId:t,handleTouch:()=>{M(),F()},viewType:E})]}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,m.jsx)(a.zx,{onClick:()=>F(),size:"lg",text:u._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),I&&(0,m.jsx)(g,{isOpen:!0,onDismiss:()=>{R(!1)}}),W&&(0,m.jsx)(d.N,{anchors:{[b?3006:4006]:H.current},idealDirection:"up",onAnchorTouch:"complete",placementId:b?18:1000251,scrollToDismiss:!0})]})}function A(e){(0,l.useEffect)(()=>{(0,i.Z)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let t=(0,u.ZP)(),o=(0,p.HG)(),{checkExperiment:a}=(0,_.Z)(),d=["disable_all","disable_web_pins"].includes(a("disable_pin_creation").group),c=(0,r.I0)(),h=(0,n.s0)(),{pinBuilder:f}=(0,r.v9)(e=>e.session),g=(0,s.Z)(),x=f&&f.isInputOpen,b=f&&f.submittedLink,y=(0,w.Z)();return(0,m.jsx)(j,{...e,disabledPinCreation:d,i18n:t,isDesktop:o,isInputOpen:x,logContextEvent:g,navigate:h,requireAuthForLimitedLogin:y,submittedLink:b,updatePinBuilderInput:e=>c((0,v.p)(e))})}},984126:function(e,t,o){o.d(t,{Z:()=>s});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(785893);let s=({isInModal:e})=>{(0,l.useEffect)(()=>{(0,i.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,n.ZP)();return(0,a.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),children:(0,a.jsx)(r.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},602400:function(e,t,o){o.d(t,{H:()=>d,b:()=>s});var i=o(667294),l=o(729434),r=o(159527),n=o(785893);let{Provider:a,get:s}=(0,l.Z)("HeaderShadow");function d({children:e}){let[t,o]=(0,i.useState)(!1),[l,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,_]=(0,i.useState)(null),p=(0,r.Z)(()=>{t&&(s(window.scrollY>0),c(window.scrollY))},50);return(0,i.useEffect)(()=>(o(!0),()=>{o(!1)}),[]),(0,i.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),(0,n.jsx)(a,{value:{currentScrollPosition:d,isScrolled:l,setSubheaderShadow:_,subheaderShadow:u},children:e})}},502066:function(e,t,o){o.d(t,{G:()=>_,Kl:()=>p,vo:()=>u});var i=o(667294),l=o(729434),r=o(791948),n=o(914071),a=o(785893);let s=()=>o.e("83726").then(o.bind(o,3571)),{Provider:d,get:c}=(0,l.Z)("NativeEngagements");function u({children:e}){let[t,o]=(0,n.Z)(s,[]);(0,r.Z8)("NativeInteractionsResource",e=>{o({type:"FETCH_COMPLETE",payload:e})}),(0,r.my)("NativeInteractionsResource",e=>{o({type:"FETCH_MORE_COMPLETE",payload:e})});let l=(0,i.useMemo)(()=>({dispatch:o,nativeEngagements:t}),[o,t]);return(0,a.jsx)(d,{value:l,children:e})}function _(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function p(){let{nativeEngagements:e}=c();return e}},168590:function(e,t,o){o.d(t,{Z:()=>n,b:()=>r});var i=o(506662);let l=[i.Gl,i.PY,i.jC,i.Xn,i.b_,i.oF,i.dt,i.x7,i.cY,i.bb];function r(e,t){return(t?l:[...l,i.Ig]).every(t=>!t(e))}function n(e){return l.every(t=>!t(e))}},46731:function(e,t,o){o.d(t,{US:()=>m,X2:()=>x,mW:()=>g});var i=o(667294),l=o(575108),r=o(521009),n=o(729434),a=o(950883),s=o(791948),d=o(914071),c=o(785893);let u=()=>o.e("44343").then(o.bind(o,833234));function _(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function p(e){return l.Z.create("InterestFollowResource",{interest_id:e,interest_list:a.X})}let{Provider:h,get:f}=(0,n.Z)("Topics");function m({children:e}){let[t,o]=(0,d.Z)(u,{}),l=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,s.Z8)("InterestFollowingResource",l),(0,s.Z8)("InterestResource",l);let r=(0,i.useMemo)(()=>({dispatch:o,topics:t}),[o,t]);return(0,c.jsx)(h,{value:r,children:e})}function g(){let{dispatch:e}=f(),t=(0,r.Z)();return(0,i.useMemo)(()=>({follow:async(o,i=!1)=>{e(_(o,!0,i));try{await p(o).callCreate({showError:!1}),t({event_type:601,object_id_str:o})}catch(t){e(_(o,!1,i))}},unfollow:async o=>{e(_(o,!1));try{await p(o).callDelete({showError:!1}),t({event_type:602,object_id_str:o})}catch(t){e(_(o,!0))}}}),[e,t])}function x(){let{topics:e}=f();return e}},244529:function(e,t,o){o.d(t,{Z:()=>a});var i=o(825332),l=o(821342),r=o(506662),n=o(168590);function a(){let e=(0,l.Z)(),t=(0,i.TH)();return{enabled:(0,n.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,r.OK)(t)}}},709924:function(e,t,o){o.d(t,{Z:()=>a});var i=o(281098),l=o(667294),r=o(77836),n=o(785893);let a=()=>((0,l.useEffect)(()=>{(0,i.Z)("VerticalNavDivider","/app/www/VerticalNav/shared/VerticalNavDivider.tsx")},[]),(0,n.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:{display:"block",borderTop:`1px solid ${r.bd}`,margin:0,borderBottom:"none",borderLeft:"none",borderRight:"none"}}))},706753:function(e,t,o){o.d(t,{Z:()=>n});var i=o(667294),l=o(521009),r=o(941404);function n(e){let{auxData:t,clientTrackingParams:o,children:n,component:a,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:_}=e,p=(0,l.Z)(),h=JSON.stringify(t),f=JSON.stringify(c);return(0,i.useEffect)(()=>{(({viewType:e,viewParameter:t,viewData:o,auxData:i,objectIdStr:l,component:n,clientTrackingParams:a,element:s},d)=>{let c,u=Object.keys(c={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:i,object_id_str:l,component:n,clientTrackingParams:a,element:s}).reduce((e,t)=>(void 0===c[t]&&delete e[t],e),{...c});-1===Object.keys(u).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),d(u)})(e,p)},[p,h,o,a,s,d,f,u,_]),i.Children.only(n)}},644024:function(e,t,o){o.d(t,{Z:()=>a});var i=o(281098),l=o(667294),r=o(20256),n=o(785893);function a(e){(0,l.useEffect)(()=>{(0,i.Z)("ActionBarButton","/app/www/board/Header/ActionBar/ActionBarButton.tsx")},[]);let{accessibilityLabel:t,accessibilityControls:o,accessibilityExpanded:a,bgColor:s,icon:d,iconColor:c,onClick:u,selected:_,size:p,tooltip:h}=e;return(0,n.jsx)(r.hU,{accessibilityControls:o,accessibilityExpanded:a,accessibilityLabel:t,bgColor:s??"transparent",icon:d,iconColor:c??"darkGray",onClick:u,selected:_,size:p??"lg",tooltip:h?{text:h}:void 0})}},821115:function(e,t,o){o.d(t,{Z:()=>s});var i=o(281098),l=o(667294),r=o(20256),n=o(644024),a=o(785893);function s({bgColor:e,children:t,label:o,icon:s,iconColor:d,id:c,size:u,tooltip:_}){(0,l.useEffect)(()=>{(0,i.Z)("ActionBarMenuButton","/app/www/board/Header/ActionBar/ActionBarMenuButton.tsx")},[]);let p=(0,l.useRef)(null),[h,f]=(0,l.useState)(!1),m=()=>f(!1),g="actionBarMenuButton";return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(r.xu,{ref:p,"data-test-id":c,children:(0,a.jsx)(n.Z,{accessibilityControls:g,accessibilityExpanded:h,accessibilityLabel:o,bgColor:e,icon:s,iconColor:d,onClick:()=>f(!h),selected:h,size:u,tooltip:_})}),h&&(0,a.jsx)(r.Lt,{anchor:p.current,disableMobileUI:!0,id:g,idealDirection:"down",onDismiss:m,zIndex:new r.Ry(1e3),children:t({handleClose:m})})]})}},968927:function(e,t,o){o.d(t,{Z:()=>s});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(785893);function s(){(0,l.useEffect)(()=>{(0,i.Z)("SecretBoardIcon","/app/www/board/SecretBoardIcon.tsx")},[]);let e=(0,n.ZP)();return(0,a.jsx)(r.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},790427:function(e,t,o){o.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>l,fS:()=>s,lI:()=>r,mS:()=>a,qW:()=>n});var i=o(20256);let l=new i.Ry(1),r=new i.Ry(3),n=2,a=new i.Ry(n),s=3,d=new i.Ry(100),c=new i.H3([d])},441912:function(e,t,o){o.d(t,{Iv:()=>i,dU:()=>_,it:()=>n,jI:()=>u,n0:()=>s,nY:()=>r,sW:()=>c,up:()=>l});let i="uploaded",l="pinbuilder",r="scraped",n="button";function a(e){return!!e&&"object"==typeof e&&"method"in e}function s(e){return a(e)&&e.method===r}function d(e){return a(e)&&e.method===i}function c(e){return a(e)&&e.method===n}function u(e){return s(e)||d(e)||c(e)}function _({boardId:e,checkExperiment:t,createPin:o,sectionId:i,state:l}){let r=[];if(s(l)){let{imgData:n}=l;n.forEach(n=>{r.push(o(function({boardId:e,checkExperiment:t,image:o,sectionId:i,state:l}){let{description:r,link:n,method:a}=l;return{boardId:e,checkExperiment:t,description:r,guid:"",imageBase64:"",imageUrl:o,link:n,method:a,sectionId:i}}({boardId:e,checkExperiment:t,image:n,sectionId:i,state:l})))})}else r.push(o(function({boardId:e,checkExperiment:t,sectionId:o,state:i}){if(d(i)){let{description:l,imageBase64:r,imageUrl:n,method:a}=i;return{boardId:e,checkExperiment:t,description:l,guid:"",imageBase64:r,imageUrl:n,link:"",method:a,sectionId:o}}{let{description:l,guid:r,imageUrl:n,link:a,method:s}=i;return{boardId:e,checkExperiment:t,description:l,guid:r,imageUrl:n,link:a,method:s,sectionId:o}}}({boardId:e,checkExperiment:t,sectionId:i,state:l})));return r}},156618:function(e,t,o){o.d(t,{Bb:()=>f,Bx:()=>a,F4:()=>n,Qj:()=>s,_6:()=>h,gv:()=>r,hg:()=>d,is:()=>_,jP:()=>p,lt:()=>l,oM:()=>c,wI:()=>u});var i=o(378888);let l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),n=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),o=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${o}`:`${e}?${o}`}return e.pathname},a=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),p=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),h=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),f=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},45795:function(e,t,o){o.d(t,{Z:()=>tV});var i=o(281098),l=o(667294),r=o(581722),n=o(825332),a=o(20256),s=o(345314),d=o(375584),c=o(443271),u=o(80691),_=o(980787),p=o(19585),h=o(15667),f=o(785893);function m({shuffle:e,onClick:t,refreshDrafts:o}){(0,l.useEffect)(()=>{(0,i.Z)("CollageDraftCard","/app/common/react/components/profile/ProfileCollages/Drafts/CollageDraftCard.tsx")},[]);let{isRTL:r}=(0,h.B)(),{logContextEvent:n}=(0,_.u)(),[s,m]=(0,l.useState)(!1),g=(0,p.ZP)(),[x,b]=(0,l.useState)(!1),[y,P]=(0,l.useState)(!1),w=(0,l.useRef)(null),{id:v,images:j}=e,A=j&&(j["736x"]?.url||j["474x"]?.url||j["236x"]?.url||j.orig?.url),C={deleteDraft:g._('Delete draft', 'collageDraftCard.dropdown.delete', 'Text for the delete draft button')},E=()=>{m(!1)},z=async()=>{v&&(E(),await (0,u.Z)(v),o())};return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(a.xu,{onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),P(!1)},position:"relative",rounding:d.fw,width:"100%",children:[(0,f.jsx)(a.zd,{height:"100%",rounding:4,wash:!0,width:"100%",children:(0,f.jsx)(a.Ee,{alt:g._('Collage draft image', 'collageDraftCard.image', 'Collage draft image alt text'),naturalHeight:279,naturalWidth:157,src:A??void 0})}),x&&(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.xu,{color:"transparentDarkGray",height:"100%",left:!0,opacity:.6,position:"absolute",rounding:d.fw,top:!0,width:"100%"}),(0,f.jsxs)(a.xu,{bottom:!0,display:"flex",left:r,margin:2,position:"absolute",right:!r,children:[(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(a.hU,{accessibilityLabel:g._('Edit button', 'collageDraftCard.edit', 'Icon indicating that a collage draft is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:()=>{n({event_type:101,element:16321,view_parameter:4136,view_type:635,aux_data:{collage_draft_id:v}}),t()},size:"md",tabIndex:-1})}),(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.hU,{ref:w,accessibilityExpanded:y,accessibilityHaspopup:!0,accessibilityLabel:C.deleteDraft,bgColor:"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>P(e=>!e),selected:y,size:"md"}),y&&(0,f.jsx)(a.Lt,{anchor:w.current,id:`collage-draft-card-dropdown-${v}`,onDismiss:()=>P(!1),children:(0,f.jsx)(a.Lt.Item,{onSelect:()=>m(!0),option:{value:C.deleteDraft,label:C.deleteDraft}})})]})]})]})]}),s&&(0,f.jsx)(c.Z,{handleDelete:z,onDismiss:E})]})}var g=o(302148);function x({draftsCount:e,draftsResource:t,scrollableDivRef:o}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileDraftCollages","/app/common/react/components/profile/ProfileCollages/Drafts/ProfileDraftCollages.tsx")},[]);let{isFetching:r,refresh:s,shuffles:d,fetchMore:c}=t,u=(0,p.ZP)(),_=(0,n.s0)();if(!d||0===d.length)return null;let h=e>0?(0,g.Wc)(u._('Drafts ({{ value }})', 'profile.collagesTab.draftsCount', 'Title for the Collages Drafts Feed. It shows the number of drafts. value: Number of collage drafts.'),{value:e.toString()}):u._('Drafts', 'profile.collagesTab.draftsCount', 'Title for the Collages Drafts Feed when there are no drafts.');return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.xu,{marginBottom:4,children:(0,f.jsx)(a.X6,{size:"400",children:h})}),(0,f.jsx)(a.kC,{alignItems:"start",height:"100%",justifyContent:"start",width:"100%",wrap:!0,children:d?(0,f.jsx)(a.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:c,minCols:2,renderItem:({data:e})=>(0,f.jsx)(m,{onClick:()=>{var t;t=e.id??"",_(`/collage-creation-tool/?draftId=${t}`)},refreshDrafts:s,shuffle:e}),scrollContainer:()=>o.current||window}):(0,f.jsx)(a.xu,{margin:"auto",children:(0,f.jsx)(a.xH,{show:r})})})]})}var b=o(318812);function y(){(0,l.useEffect)(()=>{(0,i.Z)("ProfileCollagesEmptyState","/app/common/react/components/profile/ProfileCollages/ProfileCollagesEmptyState.tsx")},[]);let e=(0,p.ZP)(),{logContextEvent:t}=(0,_.u)();return(0,f.jsx)(a.xu,{margin:"auto",children:(0,f.jsx)(a.xu,{padding:16,children:(0,f.jsxs)(a.kC,{direction:"column",children:[(0,f.jsx)(a.X6,{align:"center",size:"500",children:e._('Make your first collage', 'collageBuilder.profile.collages.emptyState.title', 'Title for empty state in profile collages tab')}),(0,f.jsx)(a.xu,{marginTop:3,children:(0,f.jsx)(a.xv,{align:"center",size:"300",children:e._('Snip-and-paste the best parts of your favorite Pins to create something completely new.', 'collageBuilder.profile.collages.emptyState.message', 'Message for empty state in profile collages tab')})}),(0,f.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",marginTop:3,children:(0,f.jsx)(a.ZP,{color:"red",href:b.ZP,onClick:()=>{t({event_type:101,component:15085,element:13844,view_type:215})},size:"lg",text:e._('Create collage', 'collageBuilder.profile.collages.emptyState.button', 'Button text for empty state in profile collages tab')})})]})})})}var P=o(947543);function w({publishedCount:e,publishedCollagesResource:t,scrollableDivRef:o}){(0,l.useEffect)(()=>{(0,i.Z)("ProfilePublishedCollages","/app/common/react/components/profile/ProfileCollages/Published/ProfilePublishedCollages.tsx")},[]);let{fetchMore:r,isFetching:n,isRefreshing:s,publishedCollages:d}=t,c=(0,p.ZP)();if(null===d)return null;let u=(0,g.Wc)(c._('Published ({{ value }})', 'profile.collagesTab.publishedCount', 'Title for the Collages Published Feed. It shows the number of published collages. value: Number of published collages.'),{value:e.toString()});return(0,f.jsx)(a.xu,{paddingY:4,children:!d||s?(0,f.jsx)(a.xu,{margin:"auto",children:(0,f.jsx)(a.xH,{show:n})}):(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.xu,{marginBottom:4,children:(0,f.jsx)(a.X6,{size:"400",children:u})}),(0,f.jsx)(a.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:r,minCols:2,renderItem:({data:e,itemIdx:t})=>(0,f.jsx)(a.xu,{marginBottom:2,marginEnd:4,width:157,children:(0,f.jsx)(P.Z,{duploQueryRef:null,pinId:e.id,slotIndex:t,surface:"PublishedCollages",viewType:1})},e.id),scrollContainer:()=>o.current||window})]})})}var v=o(327025);function j({user:e}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileCollagesPage","/app/common/react/components/profile/ProfileCollages/ProfileCollagesPage.tsx")},[]);let t=(0,s.Z)(),o=(0,v.Z)(),{shuffles:r}=t,{publishedCollages:n}=o,d=(r?.length||0)>0,c=(n?.length||0)>0,u=(0,l.useRef)(null),_=(0,l.useRef)(null),{collage_published_count:p=0,collage_draft_count:h=0}=e||{};return(0,f.jsx)(l.Fragment,{children:(0,f.jsx)(a.xu,{ref:u,height:"100%",marginEnd:"auto",marginStart:"auto",width:"85%",children:r&&n?(0,f.jsxs)(l.Fragment,{children:[r&&n&&0===r.length&&0===n.length&&(0,f.jsx)(y,{}),d&&(0,f.jsx)(a.xu,{ref:u,children:(0,f.jsx)(x,{draftsCount:h,draftsResource:t,scrollableDivRef:u})}),c&&(0,f.jsx)(a.xu,{ref:_,children:(0,f.jsx)(w,{publishedCollagesResource:o,publishedCount:p,scrollableDivRef:_})})]}):(0,f.jsx)(a.xH,{show:!0})})})}var A=o(515829),C=o(521009),E=o(679422),z=o(821342),k=o(105433),B=o(636921),S=o(502066),Z=o(267237),T=o(110024),I=o(143665),R=o(262508),D=o(721214),O=o(369416),L=o(675973),H=o(2929),M=o(25837),F=o(878788),N=o(70993);let U=`
.ProfileTabsFullName-enter {
  opacity: 0;
}

.ProfileTabsFullName-enter-active {
  opacity: 1;
  transition: opacity 300ms ease-in-out;
}

.ProfileTabsFullName-exit {
  opacity: 1;
}

.ProfileTabsFullName-exit-active {
  opacity: 0;
  transition: opacity 300ms ease-in-out;
}
`;function G({headerHeight:e,isOwnProfile:t,selectedTab:o,user:r}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileTabs","/app/www/profile/ProfileHeader/ProfileTabs.tsx")},[]);let{logContextEvent:s}=(0,_.u)(),d=(0,p.ZP)(),c=(0,n.s0)(),u=(0,n.TH)(),{checkExperiment:h}=(0,L.Z)(),m=(0,l.useRef)(null),g=(0,l.useRef)(null),{eligible_profile_tabs:x=[],id:b,username:y}=r??{},P=new a.H3([new a.Ry(M.fe)]),w=u.pathname.includes(`/${N.qV}`),v=!1===r.is_partner&&t&&h("web_retrieval_hub_profile_split_").anyEnabled,j=v&&h("web_collage_creation").anyEnabled,A=v&&[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(h("web_retrieval_hub_profile_split_").group),[C,E]=(0,l.useState)(0),[z,k]=(0,l.useState)(!0),B=(0,l.useRef)(null),S=()=>{E((0,H.S$)())},Z=(0,l.useCallback)(e=>{e===F.un.RETRIEVAL_HUB_BOARDS?s({event_type:101,component:14461,element:A?void 0:10612,view_type:4,view_parameter:A?3106:4047}):e===F.un.RETRIEVAL_HUB_PINS?s({event_type:101,component:A?13668:14460,element:A?void 0:10612,view_type:4,view_parameter:A?3106:4047}):s({event_type:101,component:e in F.D1?F.D1[e]:void 0,object_id_str:b,view_type:4,view_parameter:t?3106:3107})},[A,t,s,b]);(0,l.useEffect)(()=>(window.addEventListener("scroll",S),()=>{window.removeEventListener("scroll",S)}));let T=(0,l.useMemo)(()=>({1:{tab:F.un.CREATED,text:d._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:m},0:{tab:F.un.SAVED,text:d._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},3:{tab:F.un.TRIED,text:d._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}}),[m,d]),I=(0,l.useCallback)(({isDefault:e=!1,ref:t,tab:i,text:l})=>({href:`/${y}/${i}/`,id:`${i}-profile-tab`,isActive:o===i,isDefault:e,onClick:()=>Z(i),ref:t,text:l}),[o,Z,y]),G=(0,l.useMemo)(()=>{let e=[];return v&&w?(e.push(I({...T[1],tab:F.un.PREVIEW_PROFILE_CREATED})),e.push(I({...T[0],tab:F.un.PREVIEW_PROFILE_SAVED}))):v?(e.push(I({ref:g,tab:F.un.RETRIEVAL_HUB_PINS,text:d._('Pins', 'profileHeader.tabs.selfProfilePins', 'Label for Pins tab on self profile header')})),e.push(I({ref:m,tab:F.un.RETRIEVAL_HUB_BOARDS,text:d._('Boards', 'profileHeader.tabs.selfProfileBoards', 'Label for Boards tab on self profile header')})),j&&e.push(I({tab:F.un.COLLAGES,text:d._('Collages', 'profileHeader.tabs.collages', 'Label for Collages tab on self profile header')}))):x.forEach(t=>{let{is_default:o,tab_type:i}=t,l=void 0!==i&&i in T?T[i]:null;l&&e.push(I({...l,isDefault:o}))}),e},[x,I,d,j,w,v,T]),V=(0,l.useMemo)(()=>G.some(e=>e.id===`${F.un.CREATED}-profile-tab`&&e.isActive),[G]),$=(0,l.useMemo)(()=>{let e=G.findIndex(({isActive:e})=>e);return -1!==e?e:Math.max(G.findIndex(({isDefault:e})=>e),0)},[G]);return G.length<2?(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(O.Z,{unsafeCSS:U}),(0,f.jsx)(R.Z,{classNames:"ProfileTabsFullName",in:!!e&&C>e,nodeRef:B,timeout:300,unmountOnExit:!0,children:(0,f.jsx)(a.xu,{ref:B,children:(0,f.jsx)(a.X6,{size:"400",children:r.full_name})})})]}):(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.mQ,{activeTabIndex:$,onChange:({event:e,activeTabIndex:t})=>{let o=G[t];!o.isActive&&(o.onClick&&o.onClick(),"button"in e&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&(e.preventDefault(),c(o.href)))},tabs:G.map(({href:e,id:t,ref:o,text:i,isActive:l})=>l?{id:t,ref:o,text:i,href:""}:{href:e,id:t,ref:o,text:i})}),t&&V&&m.current&&(0,f.jsx)(a.mh,{zIndex:P,children:(0,f.jsx)(D.Qp,{anchor:m.current,experienceIds:[505363],idealDirection:"down",placementId:1000464,positionRelativeToAnchor:!1,showCaret:!0})}),v&&o===F.un.RETRIEVAL_HUB_BOARDS&&z&&(0,f.jsx)(D.a3,{eligibleIds:[N.Lz],placementId:19,children:(0,f.jsx)(a.mh,{zIndex:P,children:(0,f.jsx)(a.pl,{accessibilityLabel:d._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),anchor:g.current,id:"self-profile-educational-tooltip",idealDirection:"down",message:d._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),onDismiss:()=>k(!1)})})})]})}var V=o(858845),$=o(913852);function W({headerHeight:e,selectedTab:t,user:o}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileHeaderActionBar","/app/www/profile/ProfileHeader/ProfileHeaderActionBar.tsx")},[]);let r=(0,z.Z)(),n=(0,V.Z)({user:o,viewer:r}),a=(0,I.G)(o),s=t===F.un.PREVIEW_PROFILE?F.un.PREVIEW_PROFILE_SAVED:t,d=a?T.TL:0;return(0,f.jsx)(Z.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,offset:d,shouldStick:!0,stickyZIndex:$.Zu,children:(0,f.jsx)(G,{headerHeight:e,isOwnProfile:n,selectedTab:s,user:o})})}var X=o(647709),Y=o(355940),J=o(424297),K=o(46158),q=o(559100),Q=o(694955),ee=o(697473),et=o(448505),eo=o(7872),ei=o(129046),el=o(287952),er=o(280670),en=o(199593),ea=o(281239),es=o(934318),ed=o(683444),ec=o(63992),eu=o(204130),e_=o(547712),ep=o(399253),eh=o(434210),ef=o(691846),em=o(419007),eg=o(931107),ex=o(136070),eb=o(535360),ey=o(706147),eP=o(78762);let ew=(0,eP.Z)(()=>Promise.resolve().then(o.bind(o,860880)),void 0,e=>860880,"app-www-profile-ProfileHeader-ViewerCount",e=>[]),ev=(0,eP.Z)(()=>Promise.all([o.e("15398"),o.e("80294")]).then(o.bind(o,218825)),{fallback:(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"-60px"}},height:ei.Z,position:"relative"})},e=>218825,"ProfileCover",e=>["15398","80294"]),ej=(0,eP.Z)(()=>o.e("47227").then(o.bind(o,797153)),{ssr:!1},e=>797153,void 0,void 0),eA=(0,eP.Z)(()=>o.e("35524").then(o.bind(o,246658)),{ssr:!1},e=>246658,void 0,void 0),eC="none",eE="messageUpsell",ez="shareUpsell";function ek({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:r,setHeaderHeight:s,user:d}){(0,l.useEffect)(()=>{(0,i.Z)("ProfileHeaderAuthDesktop","/app/www/profile/ProfileHeader/ProfileHeaderAuthDesktop.tsx")},[]);let{logContextEvent:c}=(0,_.u)(),u=(0,p.ZP)(),h=(0,z.Z)(),m=(0,l.useRef)(null),g=(0,l.useRef)(null),[x,b]=(0,l.useState)(eC),[y,P]=(0,l.useState)(!1),w=(0,et.Z)(),v=(0,E.Z)(),j=(0,n.s0)(),A=(0,V.Z)({user:d,viewer:h}),C=(0,l.useRef)(null);!function(e,t){let o=null,i=null,r=null,n=null,a=()=>{if(!o)return;let t=o.clientHeight,l=o.clientWidth;(i!==t||r!==l)&&(i=t,r=l,e(o)),n=window.requestAnimationFrame(a)};(0,l.useEffect)(()=>{var l;return t.current&&(l=t.current,o&&o===l||(o=l,i=l.clientHeight,r=l.clientWidth,e(o),a())),()=>{o=null,n&&window.cancelAnimationFrame(n)}},[t])}(e=>{s?.(e.clientHeight)},m);let{is_primary_website_verified:k,full_name:B,impressum_url:S,is_private_profile:Z,is_verified_merchant:T,username:I,instagram_data:R,verified_identity:O,website_url:L}=d??{},H=A||(0,eo.N1)(h,d,w),M=!(0,eo.N1)(h,d,w),{dropdownOpen:F,setObjectAttachment:N}=(0,en.Z)(),[U,G]=(0,l.useState)(!1),$=(0,ex.Z)(d),W=h.isLimitedLogin,X=(0,J.j3)()&&!!S,ei=O?.verified||T,eP=(0,q.l)(d),ek="";ek=A?u._('Your profile is private. Only approved followers can view your profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.self', 'Text on private profile icon tooltip.'):u._('This profile is private. Only approved followers can view their profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.external', 'Text on private profile icon tooltip.');let eB=L?.length||0,eS=S?.length||0,eZ=eh.U-eB-eS,eT=(0,f.jsx)(eh.Z,{maxLength:eZ,setShowMessageFlyout:P,user:d}),eI=X?(0,f.jsx)(a.rU,{display:"inlineBlock",href:S,underline:"hover",children:(0,f.jsx)(K.Z,{inline:!0,weight:"bold"})}):null,eR=L?(0,f.jsx)(l.Fragment,{children:(0,f.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,f.jsxs)(a.rU,{display:"inlineBlock",href:L,onClick:()=>{c({event_type:101,component:13056,element:12890,view_type:4,view_parameter:A?3106:3107,aux_data:{website_link:L}})},rel:"nofollow",target:"blank",underline:"hover",children:[k&&!ei&&(0,f.jsx)(ec.Z,{})," ",(0,eg.Z)(L)]})})}):null;return!Z||A||d?.explicitly_followed_by_me?(0,f.jsx)(l.Fragment,{children:(0,f.jsx)(a.xu,{ref:m,"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,children:(0,f.jsx)(a.xu,{marginTop:$?void 0:3,maxWidth:$?656:488,width:"100%",children:(0,f.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,f.jsxs)(a.xu,{width:$?656:void 0,children:[$&&!W&&(0,f.jsx)(ev,{user:d}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,f.jsx)(ed.Z,{ref:C,onTouch:t,user:d,viewer:h}),(0,f.jsx)(D.N,{anchors:{3020:C.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})]}),(0,f.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,f.jsxs)(a.X6,{accessibilityLevel:1,align:"center",size:"700",children:[(0,f.jsx)(a.xu,{"data-test-id":"profile-name",display:"inlineBlock",children:B}),ei&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",marginStart:2,children:(0,f.jsx)(er.Z,{isVerifiedIdentity:!!O?.verified,isVerifiedMerchant:T,size:"lg"})}),T&&(0,f.jsx)(er.O,{children:(0,f.jsx)(a.xv,{align:"center",color:"shopping",size:"200",children:u._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})}),Z&&Z&&(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.xu,{display:"inlineBlock",marginTop:4,paddingX:2,children:(0,f.jsx)(a.u,{link:(0,f.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:(0,f.jsx)(a.rU,{href:Q.Pm9,target:"blank",children:u._('Learn more', 'privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink', 'Tooltip link to access more info about private profiles')})}),text:ek,zIndex:new a.Ry(10),children:(0,f.jsx)(a.xu,{"data-test-id":"profile-lock-icon",children:(0,f.jsx)(a.JO,{accessibilityLabel:u._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",size:24})})})}),!A&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",children:(0,f.jsx)(em.Z,{onClickReportProfile:e,onToggleBlock:o,showUnblockOption:!0,user:d})})]})]}),!!d?.is_inspirational_merchant&&(0,f.jsx)(Y.Z,{name:"InspirationalBadges",children:(0,f.jsx)(e_.Z,{isOwnProfile:A,userId:d.id})}),eR||eI||eT?(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,f.jsx)(ee.Z,{inline:!0,items:[eR,eI,null,eT]})}):void 0,(0,f.jsx)(eb.Z,{color:"subtle",instagramUsername:R?.username,pronounsText:eP,textSize:"200",username:I})]}),(0,f.jsx)(eu.Z,{user:d}),$&&d?.profile_views!==-1&&(0,f.jsx)(ew,{user:d}),M&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,f.jsxs)(a.kC,{gap:{row:7,column:0},children:[!Z&&(0,f.jsx)(ey.Z,{user:d}),(0,f.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,f.jsx)(ef.Z,{setShowMessageFlyout:P,showMessageFlyout:y,user:d}),U&&(0,f.jsx)(el.Z,{onCancel:()=>{G(!1)},onConfirm:()=>{G(!1)},onToggleBlock:o,user:d}),d?.blocked_by_me?(0,f.jsx)(a.zx,{onClick:()=>{G(!0)},size:"lg",text:u._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,f.jsx)(ea.Z,{button:({followText:e,onClick:t})=>(0,f.jsx)(a.xu,{"data-test-id":d?.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,f.jsx)(a.Fm,{color:"primary",onClick:t,selected:d?.explicitly_followed_by_me??!1,size:"lg",text:e})}),fullName:B,id:d?.id??"",imageUrl:d?.image_large_url??"",isOwnProfile:!1,onUserFollow:r,profileUrl:`/${d?.username??""}/`,userFollowed:d?.explicitly_followed_by_me})]}),!Z&&(0,f.jsx)(es.Z,{userId:d?.id??"",children:({showSendMessageFlyout:t})=>(0,f.jsx)(em.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:d})})]})}),d&&h&&x===eE&&(0,f.jsx)(ej,{followee:d,follower:h,onDismiss:()=>b(eC),viewParameter:3107,viewType:4}),d&&h&&h.isAuth&&h.id&&x===ez&&(0,f.jsx)(eA,{followee:d,follower:h,onClickShareLink:()=>{b(eC),N({type:"follow_invite",id:h.id}),F()},onDismiss:()=>b(eC),viewParameter:3107,viewType:4}),H&&(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,f.jsxs)(a.kC,{gap:{row:2,column:0},children:[(0,f.jsx)(ey.Z,{useGestaltButton:!0,user:d}),A&&(0,f.jsx)(a.xu,{"data-test-id":"edit-button",children:(0,f.jsxs)(a.kC,{gap:{row:2,column:0},children:[(0,f.jsx)(a.zx,{ref:g,onClick:({event:e})=>{if(v){e.stopPropagation(),v();return}c({event_type:101,element:94}),j("/settings#profile")},size:"lg",text:u._('Edit profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile')}),(0,f.jsx)(D.N,{anchors:{3019:g.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})})]})})]})})})}):(0,f.jsx)(ep.Z,{handleFollowSuccessFromInvite:()=>{b(d?.explicitly_following_me?eE:ez)},onClickReportProfile:e,onToggleBlock:o,onToggleFollow:r,user:d,viewParameter:A?3106:3107,viewType:4})}var eB=o(562277),eS=o(788836),eZ=o(450705),eT=o(129950),eI=o(992225),eR=o(918920),eD=o(744862),eO=o(886981),eL=o(341742),eH=o(246145),eM=o(493812);let eF=(0,eP.Z)(()=>o.e("6332").then(o.bind(o,465702)),void 0,e=>465702,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),eN=(0,eP.Z)(()=>Promise.all([o.e("25418"),o.e("56595"),o.e("94898")]).then(o.bind(o,115718)),void 0,e=>115718,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","56595","94898"]),eU=(0,l.lazy)(()=>o.e("9949").then(o.bind(o,431153))),eG=new a.H3([$.c6]);function eV(e){(0,l.useEffect)(()=>{(0,i.Z)("SelfProfileHeader","/app/www/profile/ProfileHeader/SelfProfileHeader/SelfProfileHeader.tsx")},[]);let{tab:t,user:o}=e,r=(0,p.ZP)(),s=(0,n.s0)(),{logContextEvent:d}=(0,_.u)(),c=(0,eM.WG)(),[u,h]=(0,l.useState)(null),{checkExperiment:m}=(0,L.Z)(),g=m("web_curation_board_create_entry_points").anyEnabled,x=m("ce_dweb_profile_share_saved_ideas").anyEnabled,{selfProfileBoardFilter:b,setSelfProfileBoardFilter:y,selfProfilePinFilter:P,setSelfProfilePinFilter:w}=c??{selfProfileBoardFilter:null,selfProfilePinFilter:eM.JH.NONE,setSelfProfileBoardFilter:()=>{}},v=e=>{e===b?y(void 0):y(e)},[j,A]=(0,l.useState)(!1),C=[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(m("web_retrieval_hub_profile_split_").group),E=t===F.un.SAVED?F.un.RETRIEVAL_HUB_BOARDS:t;(0,eL.Z)(()=>{E===F.un.RETRIEVAL_HUB_PINS?d({event_type:13,view_type:4,view_parameter:C?3106:4047,component:C?13668:14460}):E===F.un.RETRIEVAL_HUB_BOARDS&&d({event_type:13,view_type:4,view_parameter:4047,component:14461})});let{about:z,archived_board_count:k=0,secret_board_count:B=0,image_xlarge_url:S,full_name:T="",follower_count:I=0,following_count:R=0,avatar_color_index:D,username:O,interest_following_count:H=0}=o,M=(0,eO.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!0,page_size:eR.ZP.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:!0,username:O}}),U=R-(H??0),V=()=>{h(null)},$=()=>{d({event_type:101,view_type:4,view_parameter:C?3106:4047,component:13056,element:12601}),s(`/${O}/${N.qV}/`)},W=e=>{h(e),d({event_type:101,view_type:4,view_parameter:C?3106:4047,component:13056,element:"followers"===e?42:41})},X=[],Y=[];if(E===F.un.RETRIEVAL_HUB_PINS){let e=[];o.pin_count&&(e=[(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.Fm,{dataTestId:"favorites_pins_button",iconStart:"star",onClick:function(){if(w)switch(d({event_type:101,view_type:4,view_parameter:C?3106:4047,component:C?13668:14460,element:14264,aux_data:{profile_filter:eM.JH.FAVORITED}}),P){case eM.JH.CREATED_BY_ME:w(eM.JH.FAVORITED_AND_CREATED);break;case eM.JH.FAVORITED:w(eM.JH.NONE);break;case eM.JH.FAVORITED_AND_CREATED:w(eM.JH.CREATED_BY_ME);break;case eM.JH.NONE:w(eM.JH.FAVORITED);break;default:w(eM.JH.NONE)}},selected:P===eM.JH.FAVORITED||P===eM.JH.FAVORITED_AND_CREATED,text:r._('Favorites', 'SelfProfileHeader.favorites', 'Favorites filter for the self profile header section')})},1),(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.Fm,{dataTestId:"created_by_you_button",onClick:function(){if(w)switch(d({event_type:101,view_type:4,view_parameter:C?3106:4047,component:C?13668:14460,element:14264,aux_data:{profile_filter:eM.JH.CREATED_BY_ME}}),P){case eM.JH.CREATED_BY_ME:w(eM.JH.NONE);break;case eM.JH.FAVORITED:w(eM.JH.FAVORITED_AND_CREATED);break;case eM.JH.FAVORITED_AND_CREATED:w(eM.JH.FAVORITED);break;case eM.JH.NONE:w(eM.JH.CREATED_BY_ME);break;default:w(eM.JH.NONE)}},selected:P===eM.JH.CREATED_BY_ME||P===eM.JH.FAVORITED_AND_CREATED,text:r._('Created by you', 'SelfProfileHeader.createdbyyou', 'Created by you filter for the self profile header section')})},2)]),X=[(0,f.jsx)(eI.Z,{},0),...e],Y=g?[(0,f.jsx)(eS.Z,{currentTab:E},0)]:[(0,f.jsx)(eT.Z,{},0)]}else E===F.un.COLLAGES?X=[]:(X=[(0,f.jsx)(eZ.Z,{setVisibilityControlsModalOpen:A,user:o},0),(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.Fm,{onClick:()=>v(eM.ET.GROUP),selected:b===eM.ET.GROUP,text:r._('Group', 'SelfProfileHeader.group', 'Group filter for the self profile header section')})},1)],B>0&&X.push((0,f.jsx)(a.xu,{children:(0,f.jsx)(a.Fm,{onClick:()=>v(eM.ET.SECRET),selected:b===eM.ET.SECRET,text:r._('Secret', 'SelfProfileHeader.secret', 'Secret filter for the self profile header section')})},2)),k>0&&X.push((0,f.jsx)(a.xu,{children:(0,f.jsx)(a.Fm,{onClick:()=>v(eM.ET.ARCHIVED),selected:b===eM.ET.ARCHIVED,text:r._('Archived', 'SelfProfileHeader.archived', 'Archived filter for the self profile header section')})},3)),Y=[(0,f.jsx)(eS.Z,{currentTab:E},0)]);return(0,f.jsx)(a.Le,{top:80,zIndex:eG,children:(0,f.jsxs)(a.xu,{color:"default",width:"100%",children:[(0,f.jsxs)(a.xu,{alignItems:"center","data-test-id":"self-profile-header",display:"flex",justifyContent:"between",marginEnd:"auto",marginStart:"auto",paddingY:5,width:"85%",wrap:!0,children:[(0,f.jsxs)(a.kC,{justifyContent:"between",width:"100%",children:[(0,f.jsx)(a.kC,{alignItems:"center",height:"inherit",justifyContent:"start",minWidth:300,children:(0,f.jsx)(a.X6,{children:r._('Your saved ideas', 'SelfProfileHeader.title', 'Title for the self profile header section')})}),(0,f.jsx)(a.xu,{children:(0,f.jsxs)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:[(0,f.jsx)(a.xu,{alignItems:"center",display:"flex",height:60,justifyContent:"center",marginEnd:3,rounding:"circle",width:60,children:(0,f.jsx)(eD.qE,{color:D,name:T,size:"lg",src:S})}),(0,f.jsxs)(a.xu,{direction:"column",marginEnd:6,mdDisplay:"flex",smDisplay:"none",children:[(0,f.jsx)(a.xu,{"data-test-id":"profile-name",maxWidth:500,children:(0,f.jsx)(a.xv,{lineClamp:2,size:"400",weight:"bold",children:T})}),(0,f.jsx)(a.xu,{marginBottom:1,marginTop:1,maxWidth:500,children:(0,f.jsx)(a.xv,{align:"start",lineClamp:2,size:"200",children:z})}),(0,f.jsx)(a.xu,{children:(0,f.jsx)(ee.Z,{items:[I&&I>=0?(0,f.jsx)(eH.Z,{count:I,onClick:()=>W("followers"),size:"200",variant:"followers"}):null,U>=0?(0,f.jsx)(eH.Z,{count:U,onClick:()=>W("following"),size:"200",variant:"following"}):null]})})]}),x?(0,f.jsxs)(a.kC,{gap:2,children:[(0,f.jsx)(ey.Z,{labelVariant:"shareProfile",size:"md",useGestaltButton:!0,user:o}),(0,f.jsx)(a.zx,{color:"gray",dataTestId:"selfProfileHeader-view-profile-button",fullWidth:!0,onClick:$,size:"md",text:r._('View profile', 'SelfProfileHeader.button', 'Button that redirects to a user public profile')})]}):(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.zx,{color:"gray",dataTestId:"selfProfileHeader-view-profile-button",fullWidth:!0,onClick:$,size:"md",text:r._('View profile', 'SelfProfileHeader.button', 'Button that redirects to a user public profile')})})]})})]}),(0,f.jsx)(a.xu,{marginTop:3,children:(0,f.jsx)(G,{isOwnProfile:!0,selectedTab:E,user:o})})]}),(0,f.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",width:"85%",children:(0,f.jsx)(Z.Z,{buttonsLeft:X,buttonsRight:Y,paddingX:0,shouldStick:!1})}),"followers"===u&&(0,f.jsx)(eN,{onDismiss:V,totalFollowersCount:I}),"following"===u&&(0,f.jsx)(eF,{followersResource:M,onDismiss:V,totalFollowersCount:U,user:o,variant:u}),j&&(0,f.jsx)(l.Suspense,{children:(0,f.jsx)(eU,{setVisibilityControlsModalOpen:A})})]})})}let e$=(0,eP.Z)(()=>Promise.all([o.e("75348"),o.e("15398"),o.e("64913")]).then(o.bind(o,883570)),void 0,e=>883570,"app-www-profile-ProfileHeader-BusinessProfileHeader-BusinessProfileHeader",e=>["75348","15398","64913"]);function eW(e){(0,l.useEffect)(()=>{(0,i.Z)("UnifiedProfileHeader","/app/www/profile/ProfileHeader/UnifiedProfileHeader.tsx")},[]);let t=(0,X.HG)(),o=(0,z.Z)(),{tab:r,user:n,isRetrievalHub:a}=e;return(0,I.G)(n)?(0,f.jsx)(e$,{...e}):a?(0,f.jsx)(eV,{tab:r,user:n}):o?.isAuth&&t?(0,f.jsx)(ek,{...e}):(0,f.jsx)(eB.Z,{...e})}function eX({avatarUrl:e,contentsRight:t,merchantName:o,text:r,username:n,accessibilityLevel:s}){return(0,l.useEffect)(()=>{(0,i.Z)("MinimalPartnerHeader","/app/www/profile/storefront/MerchantStorefront/common/MinimalPartnerHeader.tsx")},[]),(0,f.jsxs)(a.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,f.jsx)(a.xu,{column:2,"data-test-id":"minimal-partner-header"}),(0,f.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(a.Tg,{href:`/${n}`,rounding:"circle",children:(0,f.jsx)(eD.qE,{name:o,size:"md",src:e})})}),(0,f.jsx)(a.rU,{href:`/${n}/`,underline:"none",children:(0,f.jsx)(a.X6,{accessibilityLevel:s,size:"600",children:r})})]}),(0,f.jsx)(a.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:t})]})}var eY=o(401450),eJ=o(793698);function eK(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eq=(0,l.lazy)(()=>o.e("10249").then(o.bind(o,656652)));class eQ extends l.Component{constructor(...e){super(...e),eK(this,"state",{currentModal:null}),eK(this,"handleClickCreatePincode",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"createPincode"})}),eK(this,"handleClickReportProfile",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"reportProfile"})}),eK(this,"handleHideModal",()=>this.setState({currentModal:null})),eK(this,"handleToggleBlock",()=>{let{isUserBlocked:e,requireAuth:t}=this.props;if(t)return void t();e?this.unblockUser():this.setState({currentModal:"blockUser"})}),eK(this,"unblockUser",()=>{let{unblockUser:e,user:t}=this.props;e(t.id||"")}),eK(this,"handleBlockUser",()=>{let{blockUser:e,user:t}=this.props;e(t.id||""),this.props.showBlockToastMessage(),this.setState({currentModal:null})}),eK(this,"handleToggleFollow",()=>{let e=!this.props.user.explicitly_followed_by_me;this.props.onToggleFollow?.(e)}),eK(this,"handleBlockAndReport",async()=>{let{blockUser:e,user:t}=this.props;t.id&&(await e(t.id),this.setState({currentModal:"reportProfile"}))})}renderModal(){let{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:i,blockUser:r}=this.props;return(0,f.jsx)(l.Suspense,{children:(0,f.jsx)(eq,{blockUser:r,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideModal:this.handleHideModal,isUserBlocked:o,onBlockAndReport:this.handleBlockAndReport,unblockUser:i,user:t})})}render(){let{minimalPartnerHeader:e,tab:t,user:o,headerHeight:i,ownProfile:r,setHeaderHeight:n,showContent:a,isRetrievalHub:s}=this.props,{currentModal:d}=this.state,c=r||(o.eligible_profile_tabs?.length??0)>1;return e?(0,f.jsx)(eX,{avatarUrl:o.image_medium_url??"",merchantName:o.full_name??"",text:o.full_name??"",username:o.username??""}):(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(eW,{isRetrievalHub:s,onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,setHeaderHeight:n,tab:t,user:o}),a&&!s&&c&&(0,f.jsx)(W,{headerHeight:i,selectedTab:t,user:o}),d&&this.renderModal()]})}componentDidMount(){(0,i.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")}}function e0(e){(0,l.useEffect)(()=>{(0,i.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")},[]);let t=(0,r.I0)(),o=(0,eJ.dM)(),{user:n}=e,a=o?.[n.id??""]||n,s=(0,E.Z)(),{aggregatedCommentsHiddenForUser:d}=(0,k.nf)(),{nativeEngagementsHiddenForUser:c}=(0,S.G)(),[u,_]=(0,l.useState)(null),p=(0,C.Z)(),h=(0,z.Z)(),m=(0,V.Z)({user:n,viewer:h}),g=(0,B.Z)();return(0,f.jsx)(eQ,{...e,blockUser:async o=>{await t((0,eY.Ge)({id:o,blockSource:"profile",blockContext:o,logContextEvent:p})),d(o),c(o),e.onBlockUser?.()},headerHeight:u,isUserBlocked:!!a.blocked_by_me,ownProfile:m,requireAuth:s,setHeaderHeight:_,showBlockToastMessage:g,unblockUser:async e=>await t((0,eY.h2)(e,p)),user:a})}var e1=o(678213);let e2=({navigate:e,placementId:t})=>{(0,l.useEffect)(()=>{(0,i.Z)("ExperienceCommentTurnedOffEducationModal","/app/packages/comment/ExperienceCommentTurnedOffEducationModal.tsx")},[]);let o=(0,p.ZP)();return(0,f.jsx)(D.a3,{eligibleIds:[505404],placementId:t,children:({complete:t,dismiss:i})=>(0,f.jsx)(a.mh,{zIndex:e1.b7,children:(0,f.jsx)(a.WB,{accessibilityModalLabel:o._('Comments turned off education modal', 'modalEducation.commentsTurnedOff', 'modal to inform users comments are turned off for their Pins for safety reason'),heading:o._('Comments are turned off', 'modalEducation.commentsTurnedOff.heading', 'title text for modal to inform users comments are turned off for their Pins for safety reason'),onDismiss:()=>{i()},primaryAction:{accessibilityLabel:o._('button dismissing comments turned off education modal', 'modalEducation.commentsTurnedOff.confirmButton.a11yLabel', 'call to action, button to dismiss the modal'),label:o._('Open settings', 'modalEducation.commentsTurnedOff.confirmButton', 'call to action, title on button to go to settings'),onClick:()=>{t(),e("/settings/permissions")}},children:(0,f.jsx)(a.xv,{children:(0,g.nk)(o._('Want to allow comments on your Pins? {{ turnOn }}', 'modalEducation.commentsTurnedOff.description', 'description text for modal to inform users how to turn their comments on. turnOn: text for where to turn on comments'),{turnOn:(0,f.jsx)(a.xv,{inline:!0,weight:"bold",children:o._('Turn them on in social permissions.', 'modalEducation.commentsTurnedOff.description.socialPermissions', 'description text for for modal to inform users where to turn their comments on')})})})})})})};var e4=o(697063),e6=o(475498),e8=o(278533),e3=o(123998),e5=o(91479),e7=o(87853),e9=o(874837),te=o(745395),tt=o(797874),to=o(230543),ti=o(314011);let tl=({tab:e,userData:t})=>{if(t&&e===F.un.DECIDER){let e=t.eligible_profile_tabs?.find(e=>e.is_default);return F.IL[e?.tab_type]||F.un.SAVED}return e};var tr=o(349417),tn=o(742438),ta=o(46731);let ts=(0,D.RL)(19,({clickedFollowingButton:e,tab:t},o)=>({clickedFollowingButton:e,profile_ownership:o.profile_ownership,profile_user_id:o.profile_user_id,tab:t}))(function({children:e,clickedFollowingButton:t,minimalPartnerHeader:o,renderError:r,setPlacementExtraContext:s,tab:d,unsetError:c,username:u}){(0,l.useEffect)(()=>{(0,i.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let h=(0,n.s0)(),{logContextEvent:m}=(0,_.u)(),x=(0,p.ZP)(),b=(0,z.Z)(),y=(0,l.useRef)(!1),P=(0,l.useRef)(t),w=(0,ti.R)(),{checkExperiment:v}=(0,L.Z)(),j=(0,e7.dI)(),A=(0,eJ.dM)(),C=(0,n.TH)(),E=(0,tn.Z)(),{refresh:k}=E,B=A[E.data?.id||""]||E.data,{explicitly_followed_by_me:S,full_name:Z,id:T,is_ads_only_profile:I,is_partner:R,is_private_profile:O}=B||{},H=w.id,M=b&&b.isAuth&&B&&b.id===T,F=b.isAuth&&u===b.username,U=O&&!F,G=!U||S,V=tl({tab:d,userData:B}),$=!1===R&&F&&C.pathname.includes(`/${u}/${N.qV}`)&&v("web_retrieval_hub_profile_split_").anyEnabled,W=!1===R&&F&&v("web_retrieval_hub_profile_split_").anyEnabled,X=W&&[N.sz.enabled_with_unorganized_feed,N.sz.enabled_with_log_fix].includes(v("web_retrieval_hub_profile_split_").group),J=e=>{U&&e&&(0,e9.Z)(1e3).then(E.refresh)};if((0,l.useEffect)(()=>{(0,e8.Z)()},[]),(0,l.useEffect)(()=>{r?.apiHandler!=="v3_get_board"||r?.http_status!==404||y.current||!B||E.error?E.error&&404===E.error.httpStatus&&h("/?show_error=true",{replace:!0}):(y.current=!0,e4.Z.showHtmlError((0,g.nk)(x._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:Z}).join(""),c(),x._('We couldn\'t find that page.', ' - ', ' -- ')))}),(0,l.useEffect)(()=>{m({event_type:13,view_type:4,aux_data:{pin_id:H}})},[m,H]),(0,l.useEffect)(()=>{if(E.isLoaded){let e={profile_ownership:M?"own":"other",profile_user_id:T||""};t&&t!==P.current&&(e={...e,clickedFollowingButton:!0}),s(e)}},[t,E.isLoaded]),(0,l.useEffect)(()=>{$&&j.showOneToast(({hideToast:e})=>(0,f.jsx)(e6.Z,{dismissButton:{onDismiss:()=>{e(),m({event_type:101,view_type:4,view_parameter:X?3106:4047,component:20,element:75})}},duration:5e3,onHide:e,text:x._('This is how your profile looks to others', 'profilePage.selfProfile.retrievalHub.toast.educational', 'Educational banner to let users known this is how their public profile looks')}))},[$]),!E||!E.isLoaded||!B)return null;let K=F?3106:3107,q=(0,f.jsx)(tr.aG,{children:(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(D.dr,{placementId:19}),(0,f.jsx)(D.u3,{placementId:19}),(0,f.jsx)(D.nj,{placementId:19}),(0,f.jsx)(D._f,{placementId:19}),(0,f.jsx)(e2,{navigate:h,placementId:19}),$&&(0,f.jsx)(e5.Z,{onClick:()=>h(-1)}),F&&I&&(0,f.jsx)(a.xu,{"data-test-id":"ad-only-profile-banner",display:"flex",justifyContent:"center",marginBottom:4,children:(0,f.jsx)(a.ci,{iconAccessibilityLabel:"Info",message:x._('Using an ad-only profile will prevent Pinners from discovering your profile page. Your profile page will be hidden in search results on Pinterest and on search engines.', 'profilePage.adOnlyProfile.callout.title', 'Callout message that describes more details about ad-only profiles'),primaryAction:{accessibilityLabel:x._('Learn more about ad-only profiles', 'profilePage.adOnlyProfile.callout.primaryAction.accessibilityLabel', 'Accessibility label'),label:x._('Learn more', 'profilePage.adOnlyProfile.callout.primaryAction.label', 'Button that opens the Ad-Only Profile Help Center article'),href:Q.SNA,target:"blank",role:"link"},title:x._('Your account settings indicate that this is an ad-only profile.', 'profilePage.adOnlyProfile.callout.title', 'Callout title that indicates the current profile is an ad-only profile'),type:"info"})}),(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(Y.Z,{name:"ProfileHeaderContainer",children:(0,f.jsx)(to.c,{children:e=>(0,f.jsx)(e0,{isRetrievalHub:W&&!$,minimalPartnerHeader:o,onBlockUser:k,onToggleFollow:J,showContent:G,tab:V,top:e,user:B})})}),G&&(0,f.jsx)(Y.Z,{name:"ProfileContent",children:(0,f.jsx)(a.xu,{children:e})})]})]})});return v("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&!B?.is_private_profile&&tt.Z.includes(Number(B?.profile_view?.profile_view_id))?(0,f.jsx)(te.Z,{onToggleBlock:()=>k(),user:B}):(0,f.jsx)(e3.Z,{objectId:T,view:4,viewParameter:K,children:(0,f.jsx)(l.Fragment,{children:q})})});function td(e){(0,l.useEffect)(()=>{(0,i.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let t=(0,ta.X2)(),o=t&&Object.keys(t).map(e=>t[e]).filter(e=>e.showTooltip).length>0;return(0,f.jsx)(ts,{...e,clickedFollowingButton:o})}var tc=o(417365),tu=o(490698),t_=o(255957),tp=o(956077),th=o(900675),tf=o(444185),tm=o(984126),tg=o(51354),tx=o(487550),tb=o(399609),ty=o(452516),tP=o(458707),tw=o(125675),tv=o(438235),tj=o(430635);let tA=(0,eP.Z)(()=>Promise.all([o.e("19868"),o.e("89562"),o.e("66215"),o.e("35729")]).then(o.bind(o,363757)),void 0,e=>363757,"app-common-react-components-profile-ProfileHeader-BusinessProfileSection",e=>["19868","89562","66215","35729"]),tC=(0,eP.Z)(()=>o.e("55610").then(o.bind(o,550353)),void 0,e=>550353,"app-common-react-components-profile-ProfileCreated-ProfileCreatedContainer",e=>["55610"]),tE=(0,eP.Z)(()=>o.e("34220").then(o.bind(o,114923)),void 0,e=>114923,"app-www-pages-duplo-ProfileCreated",e=>["34220"]),tz=(0,eP.Z)(()=>o.e("56595").then(o.bind(o,745037)),void 0,e=>745037,"app-www-ProfileFollowers-ProfileFollowersControllerGraphQL",e=>["56595"]),tk=(0,eP.Z)(()=>o.e("85682").then(o.bind(o,216018)),void 0,e=>216018,"app-www-pages-duplo-ProfileFollowing",e=>["85682"]),tB=(0,eP.Z)(()=>Promise.all([o.e("19868"),o.e("89562")]).then(o.bind(o,713642)),void 0,e=>713642,"app-common-react-components-do-aggregated-pins-did-it-DidItProfileFeed-DidItProfileFeedContainer",e=>["19868","89562"]),tS=(0,eP.Z)(()=>o.e("21720").then(o.bind(o,491026)),void 0,e=>491026,"app-www-pages-duplo-ProfileTried",e=>["21720"]),tZ=(0,eP.Z)(()=>Promise.all([o.e("36434"),o.e("56876")]).then(o.bind(o,880401)),void 0,e=>880401,"app-www-pages-duplo-ProfileBoards",e=>["36434","56876"]),tT=(0,eP.Z)(()=>o.e("66215").then(o.bind(o,279122)),void 0,e=>279122,"app-www-profile-ProfileTopics-ProfileTopics",e=>["66215"]),tI=(0,eP.Z)(()=>o.e("70261").then(o.bind(o,982787)),void 0,e=>982787,"app-common-react-components-profile-ProfileStoryPins-ProfileStoryPinsContainer",e=>["70261"]),tR=(0,eP.Z)(()=>o.e("9868").then(o.bind(o,689035)),void 0,e=>689035,"app-common-react-components-profile-ProfileVideoPins-ProfileVideoPinsContainer",e=>["9868"]),tD=()=>{let e=(0,z.Z)(),t=(0,n.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)},tO=()=>{let[,,e,t]=(0,tj.Z)().path.split("/");return e===F.un.PREVIEW_PROFILE&&t?[e,t].join("/"):e},tL=()=>{let{username:e}=(0,tv.Z)(),{isAuthenticated:t}=(0,h.B)(),o=(0,ty.Z)(),i=t&&e&&o[e],l=tO(),r=i&&tl({tab:F.un.DECIDER,userData:i}),n=(()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,tj.Z)(),o=tD(),i=(0,ty.Z)()[t.params.username??""];return!!i&&function({isAuthenticated:e,isOwnProfile:t,user:o}){if(!o)return!1;let{eligible_profile_tabs:i=[],has_published_pins:l,is_partner:r,story_pin_count:n}=o,a=i.filter(({tab_type:e})=>1===e).length>0;return e&&a&&(r||!t)&&!(!r&&0===n||r&&!l&&0===n)}({isAuthenticated:e,isOwnProfile:o,user:i})})()?F.un.CREATED:F.un.SAVED,a=l||r||n;return{isRouteMachedTab:!!l,key:a,path:tx.kx[a]}};function tH(){let{path:e}=tL();return e===tx.Bj?(0,f.jsx)(tE,{}):(0,f.jsx)(tZ,{})}let tM=()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,X.HG)();return e&&t};function tF({tab:e,user:t}){let o=tM();switch(e){case"_created":case F.un.PREVIEW_PROFILE_CREATED:return o?(0,f.jsx)(tC,{}):(0,f.jsx)(tE,{});case"_followers":return o?(0,f.jsx)(A.Z,{}):(0,f.jsx)(tz,{});case"_following":return o?(0,f.jsx)(A.Z,{}):(0,f.jsx)(tk,{});case"_saved":case F.un.PREVIEW_PROFILE_SAVED:return o?(0,f.jsx)(tc.Z,{}):(0,f.jsx)(tZ,{});case"tried":return o?(0,f.jsx)(tB,{}):(0,f.jsx)(tS,{});case"topics":return(0,f.jsx)(tT,{});case F.un.RETRIEVAL_HUB_PINS:return(0,f.jsx)(tu.ZP,{isOwnProfile:!0,surface:"RetrievalHub",user:t,username:t?.username||""});case F.un.RETRIEVAL_HUB_BOARDS:return o?(0,f.jsx)(tc.Z,{}):(0,f.jsx)(tH,{});case"story_pins":return o?(0,f.jsx)(tI,{}):null;case"video_pins":return o?(0,f.jsx)(tR,{}):null;case"_collages":return o?(0,f.jsx)(j,{user:t}):null;default:return o?(0,f.jsx)(A.Z,{}):(0,f.jsx)(tH,{})}}function tN({boardVisibilityDataRef:e}){let t=(0,n.TH)(),o=(0,tj.Z)(),i=tO(),a=(0,r.I0)(),{setSelfProfileBoardFilter:s}=(0,eM.WG)()||{setSelfProfileBoardFilter:()=>{}},{username:d}=(0,tv.Z)(),c=(0,r.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,th.Z)(e);let{data:u}=(0,eO.Z)({name:"UserResource",options:{username:d,field_set_key:"profile"}}),p=tM(),h=(0,ex.Z)(u),m=tD(),g=(0,ty.Z)(),{logContextEvent:x}=(0,_.u)(),b=!m&&d&&g[d]&&g[d].is_ads_only_profile&&g[d].ads_only_profile_site;if((0,l.useEffect)(()=>{s(void 0),b&&(x({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(b))},[b,x,s]),b)return null;if(u?.username&&u.username!==d&&d){let e=(0,tb.Z)(u.username,d,t,p);return(0,f.jsx)(n.Fg,{replace:!0,to:e})}let y=i||tl({tab:F.un.DECIDER,userData:u})||F.un.DECIDER;return(0,f.jsx)(tw.M,{children:(0,f.jsx)(td,{minimalPartnerHeader:u?.has_catalog&&RegExp(/\?pin=/).test(t.search),renderError:c[t.pathname],tab:y,unsetError:()=>a((0,tP.L)(t.pathname)),username:o.params.username||"",children:(0,f.jsx)(Y.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:h&&u?(0,f.jsx)(tA,{businessProfileTab:y,deciderFallback:p?A.Z:tH}):(0,f.jsx)(tF,{tab:y,user:u})})})})}function tU(){let{username:e}=(0,tv.Z)(),{logContextEvent:t}=(0,_.u)(),o=(0,ty.Z)(),{key:i,isRouteMachedTab:r,path:n}=tL(),a=e&&o[e],s=a&&a.is_ads_only_profile&&a.ads_only_profile_site;return(0,l.useEffect)(()=>{s&&(t({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(s))},[s,t]),(0,f.jsx)(tg.ZP,{headerTab:n,children:(0,f.jsx)(Y.Z,{name:"SafeSuspense_ProfilePage_ProfileDefaultTabContent",children:(0,f.jsx)(tF,{tab:r?i:void 0})})})}function tG(){let e=tM(),t=tD(),o=(0,n.TH)(),i=(0,z.Z)(),{checkExperiment:r}=(0,L.Z)(),{username:a}=(0,tv.Z)(),{isFetching:s,isLoaded:d}=(0,eO.Z)({name:"UserResource",options:{username:a}}),{ref:c}=(0,tf.Z)(e?{name:"UserResource",options:{field_set_key:"board_visibility",username:a}}:null),u=(e=>{let{username:t}=(0,tv.Z)(),o=(0,ty.Z)(),i=t&&o[t],{path:l}=tL();if(!i||e)return!0;switch(l){case tx.c0:return(i.pin_count??0)>0||(i.board_count??0)>0;case tx.Bj:return i.has_published_pins||(i.story_pin_count??0)>0;default:return!0}})(s||!d),_=i.isAuth&&!1===i.isPartner&&t&&!o.pathname.includes(N.qV)&&r("web_retrieval_hub_profile_split_").anyEnabled&&r("web_retrieval_hub_profile_split_").group===N.sz.enabled_old,p=_?"self_profile":t?u?"own_profile":"own_profile_no_pins":u?"other_profile":"other_profile_no_pins";(0,tp.qS)(p);let h=e?(0,f.jsx)(Y.Z,{name:"ProfilePage_ResourceError",children:(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)(tm.Z,{}),children:(0,f.jsx)(tN,{boardVisibilityDataRef:c})})}):(0,f.jsx)(tU,{});return(0,f.jsx)(t_.Z,{customEnabledNavigationTypes:["client_route_push","client_route_replace","initial_app_load"],measureGridVisuallyComplete:u,surface:p,children:h})}function tV(){(0,l.useEffect)(()=>{(0,i.Z)("ProfilePage","/app/www/pages/ProfilePage.tsx")},[]);let{isAuthenticated:e}=(0,h.B)();return(0,l.useEffect)(()=>{(0,e8.Z)()},[]),e?(0,f.jsx)(tG,{}):(0,f.jsx)(tU,{})}},808141:function(e,t,o){o.d(t,{Z:()=>f});var i=o(281098),l=o(667294),r=o(20256),n=o(140725),a=o(19585),s=o(15667),d=o(968927),c=o(509120),u=o(785893);function _({cover:e,height:t,image:o,width:n}){return((0,l.useEffect)(()=>{(0,i.Z)("BoardCollageCoverImage","/app/www/profile/ProfileBoardCard/BoardCollageCoverImage.tsx")},[]),e)?(0,u.jsx)(c.Z,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url??"",width:n}):o&&o.url?(0,u.jsx)(r.zd,{height:t,wash:!0,width:n,children:(0,u.jsx)(r.Ee,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:o.height??1,naturalWidth:o.width??1,src:o.url})}):(0,u.jsx)(r.xu,{color:"secondary",height:t,width:n})}var p=o(785352),h=o(875280);function f({boardThumbs:e=[],cover:t,editButton:o,isActive:c,isSecret:f,layout:m,sensitivityScreenAuxData:g,showSensitivityScreen:x=!1}){(0,l.useEffect)(()=>{(0,i.Z)("BoardCollage","/app/www/profile/ProfileBoardCard/BoardCollage.tsx")},[]);let b=(0,a.ZP)();(0,n.Q)(x?{component:13861,view_type:215,aux_data:g}:null);let{isRTL:y}=(0,s.B)(),{height:P,width:w}=(0,h.F)(m),v=Math.floor(P/2),j=Math.floor(w/3),A=t?void 0:e[0],C=e.slice(+!t);return(0,u.jsxs)(r.zd,{height:P,rounding:4,wash:c,width:w,children:[(0,u.jsx)(r.xu,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:x?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,u.jsxs)(r.xu,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,u.jsx)(_,{cover:t,height:P,image:A,width:Math.floor(w/3*2)}),(0,u.jsxs)(r.kC,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,u.jsx)(p.Z,{height:v,image:C[0],width:j}),(0,u.jsx)(p.Z,{height:v,image:C[1],width:j})]})]})}),f&&(0,u.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!y,marginStart:2,marginTop:2,position:"absolute",right:y,rounding:"circle",top:!0,width:32,children:(0,u.jsx)(d.Z,{})}),c&&o&&(0,u.jsx)(r.xu,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:y,marginBottom:2,marginEnd:2,position:"absolute",right:!y,rounding:"circle",width:32,children:o}),x&&(0,u.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,u.jsx)(r.X6,{align:"center",color:"light",size:"400",children:b._('This board may contain sensitive content', 'profileBoardCard.boardCollage.heading', 'Warning text on board that may have sensitive content')})})]})}},785352:function(e,t,o){o.d(t,{Z:()=>a});var i=o(281098),l=o(667294),r=o(20256),n=o(785893);function a({image:e,width:t,height:o}){return(0,l.useEffect)(()=>{(0,i.Z)("BoardCollageImage","/app/www/profile/ProfileBoardCard/BoardCollageImage.tsx")},[]),e&&e.url?(0,n.jsx)(r.zd,{height:o,wash:!0,width:t,children:(0,n.jsx)(r.Ee,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url})}):(0,n.jsx)(r.xu,{color:"secondary",height:o,width:t})}},875280:function(e,t,o){o.d(t,{F:()=>l,m:()=>r});let i={square:{width:236,height:157},wide:{width:320,height:213}};function l(e){return i["square"===e?"square":"wide"]}function r(e){return l(e).width+16}},964293:function(e,t,o){o.d(t,{Z:()=>d});var i=o(281098),l=o(667294),r=o(20256),n=o(19585),a=o(808141),s=o(785893);function d({boardThumbs:e,isChangeBoardModal:t,isSecret:o,name:d,onNameChange:c,onVisibilityChange:u,submitError:_}){(0,l.useEffect)(()=>{(0,i.Z)("CreateBoard","/app/www/profile/ProfileBoards/BoardlessPins/CreateBoard.tsx")},[]);let p=(0,n.ZP)();return(0,s.jsx)(r.xu,{paddingX:8,children:(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:4},children:[e&&!t&&(0,s.jsx)(a.Z,{boardThumbs:e,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.xv,{size:"100",children:p._('Name', 'boardlessPins.createBoard.boardNameText', 'Title of text field where user inputs name of board')}),(0,s.jsx)(r.nv,{id:"boardName",name:"boardName",onChange:c,placeholder:p._('Add a title, like \u201CDIY\u201D or \u201CRecipes\u201D', 'boardlessPins.createBoard.boardNameTextPlaceholder', 'Placeholder of text field where user inputs name of board'),size:"lg",value:d})]}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.xv,{size:"100",children:p._('Visibility', 'boardlessPins.createBoard.visibilityTitle', 'Title of visibility checkbox')}),(0,s.jsxs)(r.kC,{gap:{row:4,column:0},children:[(0,s.jsx)(r.XZ,{checked:o,id:"boardVisibility",name:"boardVisibility",onChange:u}),(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:1},children:[(0,s.jsx)(r.xv,{children:p._('Keep this board secret', 'boardlessPins.createBoard.visibilityCheckbox', 'Caption for board settings checkbox to set visibility')}),(0,s.jsx)(r.xv,{color:"subtle",children:p._('So only you and collaborators can see it.', 'boardlessPins.createBoard.visibilityCheckboxInfo', 'Description of secret setting on board')})]})]})]}),_&&(0,s.jsx)(r.xv,{color:"error",children:_})]})})}},604488:function(e,t,o){o.d(t,{Z:()=>i});function i({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:i,requestContext:l,updatedBoardOrder:r}){if(!o)return"last_pinned_to";if(r)return r;if(i)return i;let n=l?.experimentsClient.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&n?"group_boards_at_top":"last_pinned_to"}},434674:function(e,t,o){o.d(t,{Z:()=>r});var i=o(20256),l=o(785893);let r=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,Array.from(Array(o)).map((e,o)=>(0,l.jsx)(i.xu,{width:t},o))]})}},349417:function(e,t,o){o.d(t,{Fj:()=>s,JI:()=>d,aG:()=>a});var i=o(667294),l=o(785893);let r=(0,i.createContext)(),n=(0,i.createContext)();function a({children:e}){let[t,o]=(0,i.useState)(!1);return(0,l.jsx)(r,{value:t,children:(0,l.jsx)(n,{value:o,children:e})})}function s(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},913852:function(e,t,o){o.d(t,{JR:()=>s,PJ:()=>a,Zu:()=>n,c6:()=>r,mM:()=>l});var i=o(20256);let l=new i.Ry(1),r=new i.H3([l]),n=new i.H3([r]),a=new i.H3([n]),s=new i.H3([n])},74105:function(e,t,o){o.d(t,{Z:()=>l});var i=o(536652);function l(e,t,o){return(0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}},831786:function(e,t,o){o.d(t,{S:()=>p,Z:()=>h});var i=o(575108),l=o(74105),r=o(225013),n=o(189976),a=o(686231),s=o(696323),d=o(697063);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,n.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function _(e,t){let{source:o,target:i}=e;i.boardId!==o.boardId?(t((0,l.Z)(o.boardId,"pin_count")),t((0,l.Z)(i.boardId,"pin_count"))):o.sectionId&&i.sectionId||t((0,l.Z)(i.boardId,"pin_count")),o.sectionId&&t((0,r.Z)(o.sectionId)),i.sectionId&&t((0,r.Z)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:o,source:i,target:l}=e;t((0,n.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,n.vX)({feedId:l.sectionId||l.boardId,feedType:l.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:o,itemType:"pin"})),o.forEach(e=>{t((0,a.Vp)({pinId:e,boardId:l.boardId,sectionId:l.sectionId||void 0,title:l.name||""}))}),_(e,t)}}function h(e,t){return o=>{let{selectedPinIds:l,target:r}=e;return l.forEach(e=>{o((0,a.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),(function(e,t,o){let{inverseSelection:l,selectedPinIds:r,source:a,target:d,orbacSubjectId:_}=e;if(a.boardId===d.boardId&&(a.sectionId||null)===(d.sectionId||null))return Promise.reject();if(l){let e={board_id:a.boardId,new_board_id:d.boardId,old_section_id:a.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:_};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(a)),t(u(d))])).catch(c(o))}{let e=(e,o)=>{t((0,n.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,n.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"}))};e(a,d);let l=()=>e(d,a);if(d.boardId===a.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:r,orbac_subject_id:_};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{l(),c(o)(e)})}else{let e={section_id:a.sectionId,pins:r,orbac_subject_id:_};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{l(),c(o)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:_};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{l(),c(o)(e)})}}})(e,o,t).then(()=>_(e,o))}}},87728:function(e,t,o){o.d(t,{F:()=>i,p:()=>l});let i=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),l=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},458707:function(e,t,o){function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function l(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>l,m:()=>i})},236688:function(e,t,o){o.d(t,{Z:()=>i});function i(e){let{users:t}=e;if(!t)return;let o=Object.keys(t).find(e=>void 0!==t[e].login_state);return o?t[o]:void 0}},260002:function(e,t,o){o.d(t,{Z:()=>r});var i=o(442279),l=o(236688);let r=(0,i.createSelector)(l.Z,e=>e.invites,(e,t)=>Object.keys(t).reduce((o,i)=>{let l=i.split(":"),r=l[0],n=l[1],a=e?.id===n,s=t[i]&&["new","contact_request_not_approved"].includes(t[i].status);return a&&s&&(o[r]=i),o},{}))},588836:function(e,t,o){o.d(t,{Z:()=>b});var i=o(281098),l=o(667294),r=o(581722),n=o(825332),a=o(20256),s=o(111330),d=o(521009),c=o(346955),u=o(667835),_=o(19585),p=o(506662),h=o(753143),f=o(941404),m=o(572227),g=o(647709),x=o(785893);function b({alignIconLeft:e,bgColor:t,color:o,disableRedirect:b=!1,fallbackUrl:y,icon:P="arrow-back",onTouch:w,padding:v,placement:j,shouldUseFallbackUrl:A,size:C="lg",viewParameter:E,viewType:z,isVisualSearch:k}){(0,l.useEffect)(()=>{(0,i.Z)("BackButton","/app/www/routing/BackButton.tsx")},[]);let B=(0,_.ZP)(),S=(0,n.s0)(),Z=(0,n.TH)(),T=(0,g.HG)(),I=(0,r.v9)(e=>e.session.isAuthenticated),R=(0,d.Z)(),D=(0,m.Z)(),O=(0,u.vs)(),{viewType:L,viewParameter:H}=(0,c.SU)(),[M,F]=z?[z,E]:[L,H],N=()=>{let e=(0,h.M0)().getItem(s.pm);Z.key||"/ideas"!==y?(0,f.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,f.My)("pinner_conversion.back_button.no_history"),(0,f.My)(`web_back_button_click.${String(j)}.is_auth_${String(I)}`),D({action:"click",item:"back-button"}),M&&R({view_type:M,view_parameter:F,element:34,event_type:102}),w&&w(),b||((!Z.key||Z.state&&"redirect"===Z.state.referrer||A)&&y?S(y):Z.pathname.includes("/password/reset/")&&Z.search&&Z.search.includes("?nativeShouldDismiss=true")?S("/login/?dismissWebview=true"):S(-1))},U=O?u.t4:"white",G=(0,p.am)(Z)||k||"white"===o;return(0,x.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,x.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===P?-1:-2,width:48,children:(0,x.jsx)(a.hU,{accessibilityLabel:B._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:P,iconColor:!o&&(!t||["white","lightGray","transparent"].includes(t))?"gray":o,onClick:N,padding:"auto"!==v?v:2,size:C})}):(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:T||G||t?"":U,width:O&&!G?"fit-content":""}},rounding:"circle",children:(0,x.jsx)(a.hU,{accessibilityLabel:B._('Back', 'navigation button', 'navigation button'),bgColor:t||T?t:"transparent",icon:P,iconColor:!o&&(!t||["white","lightGray","transparent"].includes(t))?"gray":o,onClick:N,padding:"auto"!==v?v:2,size:C})})})}},907440:function(e,t,o){o.d(t,{Z:()=>p,o:()=>_});var i=o(281098),l=o(667294),r=o(20256),n=o(521009),a=o(679422),s=o(821342),d=o(93966),c=o(19585),u=o(785893);let _="AddPinRep";function p({ctaText:e,handleClick:t,height:o,iconSize:_,textSize:p,component:h}){(0,l.useEffect)(()=>{(0,i.Z)("AddPinRep","/app/www/save/AddPin/AddPinRep.tsx")},[]);let f=(0,n.Z)(),m=(0,c.ZP)(),g=(0,s.Z)(),x=(0,a.Z)();return(0,l.useEffect)(()=>{f({event_type:120,component:h??0,element:10643})},[f,h]),(0,u.jsx)(r.xu,{children:(0,u.jsx)(r.Tg,{href:"/pin-builder/",onTap:()=>{if(x)return void x();g.isAuth&&g.isPartner&&f({event_type:101,component:0,element:10643}),t&&t()},children:(0,u.jsxs)(r.st,{children:[(0,u.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:o||d.yF,justifyContent:"center",rounding:2,width:o||void 0,children:(0,u.jsx)(r.xu,{color:"default",height:_||40,rounding:"circle",width:_||40,children:(0,u.jsx)(r.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:_||40})})}),(0,u.jsx)(r.xu,{padding:2,children:(0,u.jsx)(r.xv,{color:"subtle",size:p||"300",weight:"bold",children:e||m._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},664973:function(e,t,o){o.d(t,{Z:()=>y});var i=o(667294),l=o(20256),r=o(980787),n=o(19585),a=o(281098),s=o(340323),d=o(785893);function c({anchor:e,hideAddSectionTooltip:t}){(0,i.useEffect)(()=>{(0,a.Z)("AddSectionTooltip","/app/www/save/board/BoardInfoBar/AddSectionTooltip.tsx")},[]);let o=(0,n.ZP)();return(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,d.jsx)(l.pl,{anchor:e,idealDirection:"down",message:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var u=o(865540),_=o(675973),p=o(913852);function h({anchor:e,idealDirection:t,onAddOrEditDate:o,onAddSection:r,onClose:s,onCreateBoard:c,onCreateCollage:h,onCreatePin:f,onCreateStoryPin:m,surface:g,isWithinFixedContainer:x,id:b}){(0,i.useEffect)(()=>{(0,a.Z)("BoardActionsDropdown","/app/www/save/board/BoardInfoBar/BoardActionsButton/BoardActionsDropdown.tsx")},[]);let y=(0,n.ZP)(),P=(0,u.Z)(!0),{checkExperiment:w}=(0,_.Z)(),v=["profileBoards","profilePins"].includes(g),j=v&&w("web_curation_board_create_entry_points").anyEnabled,A=v&&w("web_partner_collage_creation").anyEnabled,C=(0,i.useMemo)(()=>({pin:y._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:y._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:y._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),collage:y._('Collage', 'profileHeader.actionBar.collage', 'Option to create a collage'),section:y._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:y._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),new:y._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[y]),E=[!P&&(0,d.jsx)(l.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{f(),s()},option:{label:C.pin,value:C.pin}},"actions-create-0"),m&&(0,d.jsx)(l.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{m(),s()},option:{label:P?C.pin:C.rename,value:P?C.pin:C.rename}},"actions-create-1"),v&&c&&(0,d.jsx)(l.Lt.Item,{dataTestId:"Create board",onSelect:()=>{c(),s()},option:{label:C.board,value:C.board}},"actions-create-2"),A&&h&&(0,d.jsx)(l.Lt.Item,{dataTestId:"Create Collage",onSelect:()=>{h(),s()},option:{label:C.collage,value:C.collage}},"actions-create-3")].filter(Boolean);return(0,d.jsxs)(l.Lt,{anchor:e,id:b||"board_actions",idealDirection:t||"down",isWithinFixedContainer:x,onDismiss:s,zIndex:p.PJ,children:[j?E:(0,d.jsx)(l.Lt.Section,{label:y._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:E}),"board"===g&&(0,d.jsx)(l.Lt.Section,{label:y._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[r&&(0,d.jsx)(l.Lt.Item,{dataTestId:"addSection",onSelect:()=>{r(),s()},option:{label:C.section,value:C.section}},"actions-add-1"),!!o&&(0,d.jsx)(l.Lt.Item,{onSelect:()=>{o(),s()},option:{label:C.date,value:C.date}},"actions-add-2")].filter(Boolean)})]})}var f=o(721214),m=o(349417);function g({anchor:e}){(0,i.useEffect)(()=>{(0,a.Z)("CreateBoardTooltip","/app/www/save/board/BoardInfoBar/CreateBoardTooltip.tsx")},[]);let t=(0,m.JI)();return(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,d.jsx)(f.Qp,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function x({anchor:e}){return(0,i.useEffect)(()=>{(0,a.Z)("PlanningActionsExperience","/app/www/save/board/BoardInfoBar/PlanningActionsExperience.tsx")},[]),(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,d.jsx)(f.Qp,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var b=o(125675);function y({children:e,idealDirection:t,onAddOrEditDate:o,onAddSection:a,onCreateBoard:s,onCreateCollage:u,onCreatePin:_,onCreateStoryPin:p,onOpen:f=()=>{},surface:m,isWithinFixedContainer:y}){let P,w=(0,n.ZP)(),{showCreateSectionTooltip:v,setShowCreateSectionTooltip:j}=(0,b.K)()??{},{logContextEvent:A}=(0,r.u)(),C=()=>j(!1),E=(0,i.useRef)(null),[z,k]=(0,i.useState)(!1),B=()=>k(!1),S=()=>{z?B():(f(),v&&C(),k(!0),A({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4}))},Z={board:w._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:w._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:w._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:w._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},T="board_actions",I=e&&e({active:z,openFlyout:S,accessibilityControls:T,accessibilityLabel:Z[m],accessibilityExpanded:z})||(0,d.jsx)(l.hU,{accessibilityControls:T,accessibilityLabel:Z[m],icon:"add",iconColor:"gray",onClick:"section"===m?_:S,size:"lg"});return!z&&"board"===m&&(v?P="addSectionTooltip":o&&(P="planningActionsExperience")),z||"profileBoards"!==m||(P="createBoardTooltip"),(0,d.jsxs)(l.xu,{"data-test-id":"boardActionsButton",children:[(0,d.jsx)(l.xu,{ref:E,children:I}),z&&(0,d.jsx)(h,{anchor:E.current,id:T,idealDirection:t,isWithinFixedContainer:!!y,onAddOrEditDate:o,onAddSection:a,onClose:B,onCreateBoard:s,onCreateCollage:u,onCreatePin:_,onCreateStoryPin:p,surface:m}),"addSectionTooltip"===P&&(0,d.jsx)(c,{anchor:E.current,hideAddSectionTooltip:C}),"planningActionsExperience"===P&&(0,d.jsx)(x,{anchor:E.current}),"createBoardTooltip"===P&&(0,d.jsx)(g,{anchor:E.current})]})}},125675:function(e,t,o){o.d(t,{K:()=>a,M:()=>s});var i=o(667294),l=o(729434),r=o(785893);let{Provider:n,getMaybe:a}=(0,l.Z)("CreateSectionTooltip");function s({children:e}){let[t,o]=(0,i.useState)(!1),l=(0,i.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o}),[t]);return(0,r.jsx)(n,{value:l,children:e})}},21845:function(e,t,o){o.d(t,{Z:()=>i});function i({boardDensity:e,component:t,viewType:o,viewParameter:i},l){let r=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:o}),n=i??4===o?3106:3069;l({event_type:101,component:t,element:r,...o?{view_type:o,view_parameter:n}:Object.freeze({})})}},86357:function(e,t,o){o.d(t,{Z:()=>l});var i=o(575108);function l({density:e,surface:t}){i.Z.create("UserMetadataResource","board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},340323:function(e,t,o){o.d(t,{Ev:()=>r,IK:()=>l,Jk:()=>s,Oj:()=>n,bW:()=>a});var i=o(20256);let l=1,r=1,n=2,a=new i.Ry(5e3),s=15},30579:function(e,t,o){o.d(t,{b:()=>i});let i={CUSTOM:0,HIDDEN:1,HOPE:2,LOVE:3,NONE:4}},686930:function(e,t,o){o.d(t,{ZP:()=>eY});var i=o(667294);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e}).apply(this,arguments)}let r=["children","options"],n=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),a={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},s=["style","script","pre"],d=["src","href","data","formAction","srcDoc","action"],c=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,u=/mailto:/i,_=/\n{2,}$/,p=/^(\s*>[\s\S]*?)(?=\n\n|$)/,h=/^ *> ?/gm,f=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,m=/^ {2,}\n/,g=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,x=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,b=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,y=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,P=/^(?:\n *)*\n/,w=/\r\n?/g,v=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,j=/^\[\^([^\]]+)]/,A=/\f/g,C=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,E=/^\s*?\[(x|\s)\]/,z=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,k=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,B=/^([^\n]+)\n *(=|-){3,} *\n/,S=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Z=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,T=/^<!--[\s\S]*?(?:-->)/,I=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,R=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,D=/^\{.*\}$/,O=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,L=/^<([^ >]+@[^ >]+)>/,H=/^<([^ >]+:\/[^ >]+)>/,M=/-([a-z])?/gi,F=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,N=/^[^\n]+(?:  \n|\n{2,})/,U=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,G=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,V=/^\[([^\]]*)\] ?\[([^\]]*)\]/,$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,W=/\t/g,X=/(^ *\||\| *$)/g,Y=/^ *:-+: *$/,J=/^ *:-+ *$/,K=/^ *-+: *$/,q=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,Q="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",ee=RegExp(`^([*_])\\1${q(1)}${Q}\\1\\1(?!\\1)`),et=RegExp(`^([*_])${q(0)}${Q}\\1(?!\\1)`),eo=RegExp(`^(==)${q(0)}${Q}\\1`),ei=RegExp(`^(~~)${q(0)}${Q}\\1`),el=/^(:[a-zA-Z0-9-_]+:)/,er=/^\\([^0-9A-Za-z\s])/,en=/\\([^0-9A-Za-z\s])/g,ea=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,es=/^\n+/,ed=/^([ \t]*)/,ec=/(?:^|\n)( *)$/,eu="(?:\\d+\\.)",e_="(?:[*+-])";function ep(e){return"( *)("+(1===e?eu:e_)+") +"}let eh=ep(1),ef=ep(2);function em(e){return RegExp("^"+(1===e?eh:ef))}let eg=em(1),ex=em(2);function eb(e){return RegExp("^"+(1===e?eh:ef)+"[^\\n]*(?:\\n(?!\\1"+(1===e?eu:e_)+" )[^\\n]*)*(\\n|$)","gm")}let ey=eb(1),eP=eb(2);function ew(e){let t=1===e?eu:e_;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}let ev=ew(1),ej=ew(2);function eA(e,t){let o=1===t,i=o?ev:ej,l=o?ey:eP,r=o?eg:ex;return{t:e=>r.test(e),o:eR(function(e,t){let o=ec.exec(t.prevCapture);return o&&(t.list||!t.inline&&!t.simple)?i.exec(e=o[1]+e):null}),i:1,u(e,t,i){let n=o?+e[2]:void 0,a=e[0].replace(_,`
`).match(l),s=!1;return{items:a.map(function(e,o){let l,n=RegExp("^ {1,"+r.exec(e)[0].length+"}","gm"),d=e.replace(n,"").replace(r,""),c=o===a.length-1,u=-1!==d.indexOf(`

`)||c&&s;s=u;let _=i.inline,p=i.list;i.list=!0,u?(i.inline=!1,l=ez(d)+`

`):(i.inline=!0,l=ez(d));let h=t(l,i);return i.inline=_,i.list=p,h}),ordered:o,start:n}},l:(t,o,i)=>e(t.ordered?"ol":"ul",{key:i.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,l){return e("li",{key:l},o(t,i))}))}}let eC=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),eE=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function ez(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function ek(e,t){return e.startsWith(t)}function eB(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function eS(e){return K.test(e)?"right":Y.test(e)?"center":J.test(e)?"left":null}function eZ(e,t,o,i){let l=o.inTable;o.inTable=!0;let r=[[]],n="";function a(){if(!n)return;let e=r[r.length-1];e.push.apply(e,t(n,o)),n=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,o)=>{"|"===e.trim()&&(a(),i)?0!==t&&t!==o.length-1&&r.push([]):n+=e}),a(),o.inTable=l,r}function eT(e,t,o){o.inline=!0;let i=e[2]?e[2].replace(X,"").split("|").map(eS):[],l=e[3]?e[3].trim().split(`
`).map(function(e){return eZ(e,t,o,!0)}):[],r=eZ(e[1],t,o,!!l.length);return o.inline=!1,l.length?{align:i,cells:l,header:r,type:"25"}:{children:r,type:"21"}}function eI(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function eR(e){return e.inline=1,e}function eD(e){return eR(function(t,o){return o.inline?e.exec(t):null})}function eO(e){return eR(function(t,o){return o.inline||o.simple?e.exec(t):null})}function eL(e){return function(t,o){return o.inline||o.simple?null:e.exec(t)}}function eH(e){return eR(function(t){return e.exec(t)})}let eM=/(javascript|vbscript|data(?!:image)):/i;function eF(e){try{let t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(eM.test(t))return null}catch(e){return null}return e}function eN(e){return e?e.replace(en,"$1"):e}function eU(e,t,o){let i=o.inline||!1,l=o.simple||!1;o.inline=!0,o.simple=!0;let r=e(t,o);return o.inline=i,o.simple=l,r}function eG(e,t,o){let i=o.inline||!1;o.inline=!1;let l=e(t,o);return o.inline=i,l}let eV=(e,t,o)=>({children:eU(t,e[2],o)});function e$(){return{}}function eW(){return null}function eX(e,t,o){let i=e,l=t.split(".");for(;l.length&&void 0!==(i=i[l[0]]);)l.shift();return i||o}let eY=e=>{let{children:t="",options:o}=e,_=function(e,t){if(null==e)return{};var o,i,l={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(o=r[i])>=0||(l[o]=e[o]);return l}(e,r);return i.cloneElement(function(e="",t={}){var o,r,_;t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?l({},a,t.namedCodesToUnicode):a;let X=t.slugify||eB,Y=t.sanitizer||eF,J=t.createElement||i.createElement,K=[p,x,b,t.enforceAtxHeadings?k:z,B,F,ev,ej],q=[...K,N,S,T,R];function Q(e,o,...i){let r=eX(t.overrides,e+".props",{});return J(function(e,t){let o=eX(t,e);return o?"function"==typeof o||"object"==typeof o&&"render"in o?o:eX(t,e+".component",e):e}(e,t.overrides),l({},o,r,{className:function(...e){return e.filter(Boolean).join(" ")}(null==o?void 0:o.className,r.className)||void 0}),...i)}function en(e){let o;e=e.replace(C,"");let i=!1;t.forceInline?i=!0:t.forceBlock||(i=!1===$.test(e));let l=ef(eh(i?e:ez(e).replace(es,"")+`

`,{inline:i}));for(;"string"==typeof l[l.length-1]&&!l[l.length-1].trim();)l.pop();if(null===t.wrapper)return l;let r=t.wrapper||(i?"span":"div");if(l.length>1||t.forceWrapper)o=l;else{if(1===l.length)return"string"==typeof(o=l[0])?Q("span",{key:"outer"},o):o;o=null}return J(r,{key:"outer"},o)}function ec(e,t){if(!t||!t.trim())return null;let o=t.match(c);return o?o.reduce(function(t,o){let i=o.indexOf("=");if(-1!==i){var l,r;let a=(-1!==(l=o.slice(0,i)).indexOf("-")&&null===l.match(I)&&(l=l.replace(M,function(e,t){return t.toUpperCase()})),l).trim(),s=function(e){let t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(o.slice(i+1).trim()),c=n[a]||a;if("ref"===c)return t;let u=t[c]=(r=s,"style"===a?(function(e){let t=[],o="",i=!1,l=!1,r="";if(!e)return t;for(let n=0;n<e.length;n++){let a=e[n];if('"'!==a&&"'"!==a||i||(l?a===r&&(l=!1,r=""):(l=!0,r=a)),"("===a&&o.endsWith("url")?i=!0:")"===a&&i&&(i=!1),";"!==a||l||i)o+=a;else{let e=o.trim();if(e){let o=e.indexOf(":");if(o>0){let i=e.slice(0,o).trim(),l=e.slice(o+1).trim();t.push([i,l])}}o=""}}let n=o.trim();if(n){let e=n.indexOf(":");if(e>0){let o=n.slice(0,e).trim(),i=n.slice(e+1).trim();t.push([o,i])}}return t})(r).reduce(function(t,[o,i]){return t[o.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=Y(i,e,o),t},{}):-1!==d.indexOf(a)?Y(eN(r),e,a):(r.match(D)&&(r=eN(r.slice(1,r.length-1))),"true"===r||"false"!==r&&r));"string"==typeof u&&(S.test(u)||R.test(u))&&(t[c]=en(u.trim()))}else"style"!==o&&(t[n[o]||o]=!0);return t},{}):null}let eu=[],e_={},ep={0:{t:[">"],o:eL(p),i:1,u(e,t,o){let[,i,l]=e[0].replace(h,"").match(f);return{alert:i,children:t(l,o)}},l(e,t,o){let i={key:o.key};return e.alert&&(i.className="markdown-alert-"+X(e.alert.toLowerCase(),eB),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),Q("blockquote",i,t(e.children,o))}},1:{o:eH(m),i:1,u:e$,l:(e,t,o)=>Q("br",{key:o.key})},2:{t:e=>{let t=e[0];return"-"===t||"*"===t||"_"===t},o:eL(g),i:1,u:e$,l:(e,t,o)=>Q("hr",{key:o.key})},3:{t:["    "],o:eL(b),i:0,u:e=>({lang:void 0,text:eN(ez(e[0].replace(/^ {4}/gm,"")))}),l:(e,t,o)=>Q("pre",{key:o.key},Q("code",l({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))},4:{t:["```","~~~"],o:eL(x),i:0,u:e=>({attrs:ec("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{t:["`"],o:eO(y),i:3,u:e=>({text:eN(e[2])}),l:(e,t,o)=>Q("code",{key:o.key},e.text)},6:{t:["[^"],o:eL(v),i:0,u:e=>(eu.push({footnote:e[2],identifier:e[1]}),{}),l:eW},7:{t:["[^"],o:eD(j),i:1,u:e=>({target:"#"+X(e[1],eB),text:e[1]}),l:(e,t,o)=>Q("a",{key:o.key,href:Y(e.target,"a","href")},Q("sup",{key:o.key},e.text))},8:{t:["[ ]","[x]"],o:eD(E),i:1,u:e=>({completed:"x"===e[1].toLowerCase()}),l:(e,t,o)=>Q("input",{checked:e.completed,key:o.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:eL(t.enforceAtxHeadings?k:z),i:1,u:(e,t,o)=>({children:eU(t,e[2],o),id:X(e[2],eB),level:e[1].length}),l:(e,t,o)=>Q("h"+e.level,{id:e.id,key:o.key},t(e.children,o))},10:{o:eL(B),i:0,u:(e,t,o)=>({children:eU(t,e[1],o),level:"="===e[2]?1:2,type:"9"})},11:{t:["<"],o:eH(S),i:1,u(e,t,o){let[,i]=e[3].match(ed),l=RegExp("^"+i,"gm"),r=e[3].replace(l,""),n=q.some(e=>e.test(r))?eG:eU,a=e[1].toLowerCase(),d=-1!==s.indexOf(a),c=(d?a:e[1]).trim(),u={attrs:ec(c,e[2]),noInnerParse:d,tag:c};if(o.inAnchor=o.inAnchor||"a"===a,d)u.text=e[3];else{let e=o.inHTML;o.inHTML=!0,u.children=n(t,r,o),o.inHTML=e}return o.inAnchor=!1,u},l:(e,t,o)=>Q(e.tag,l({key:o.key},e.attrs),e.text||(e.children?t(e.children,o):""))},13:{t:["<"],o:eH(R),i:1,u(e){let t=e[1].trim();return{attrs:ec(t,e[2]||""),tag:t}},l:(e,t,o)=>Q(e.tag,l({},e.attrs,{key:o.key}))},12:{t:["\x3c!--"],o:eH(T),i:1,u:()=>({}),l:eW},14:{t:["!["],o:eO(eE),i:1,u:e=>({alt:eN(e[1]),target:eN(e[2]),title:eN(e[3])}),l:(e,t,o)=>Q("img",{key:o.key,alt:e.alt||void 0,title:e.title||void 0,src:Y(e.target,"img","src")})},15:{t:["["],o:eD(eC),i:3,u:(e,t,o)=>({children:function(e,t,o){let i=o.inline||!1,l=o.simple||!1;o.inline=!1,o.simple=!0;let r=e(t,o);return o.inline=i,o.simple=l,r}(t,e[1],o),target:eN(e[2]),title:eN(e[3])}),l:(e,t,o)=>Q("a",{key:o.key,href:Y(e.target,"a","href"),title:e.title},t(e.children,o))},16:{t:["<"],o:eD(H),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],type:"15"})},17:{t:(e,o)=>!o.inAnchor&&!t.disableAutoLink&&(ek(e,"http://")||ek(e,"https://")),o:eD(O),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},18:{t:["<"],o:eD(L),i:0,u(e){let t=e[1],o=e[1];return u.test(o)||(o="mailto:"+o),{children:[{text:t.replace("mailto:",""),type:"27"}],target:o,type:"15"}}},20:eA(Q,1),33:eA(Q,2),19:{o:eL(P),i:3,u:e$,l:()=>`
`},21:{o:eR(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf(`

`)&&-1===t.prevCapture.indexOf(`

`))return null;let o="";e.split(`
`).every(e=>(e+=`
`,!K.some(t=>t.test(e))&&(o+=e,!!e.trim())));let i=ez(o);return""===i?null:[o,,i]}),i:3,u:eV,l:(e,t,o)=>Q("p",{key:o.key},t(e.children,o))},22:{t:["["],o:eD(U),i:0,u:e=>(e_[e[1]]={target:e[2],title:e[4]},{}),l:eW},23:{t:["!["],o:eO(G),i:0,u:e=>({alt:e[1]?eN(e[1]):void 0,ref:e[2]}),l:(e,t,o)=>e_[e.ref]?Q("img",{key:o.key,alt:e.alt,src:Y(e_[e.ref].target,"img","src"),title:e_[e.ref].title}):null},24:{t:e=>"["===e[0]&&-1===e.indexOf("]("),o:eD(V),i:0,u:(e,t,o)=>({children:t(e[1],o),fallbackChildren:e[0],ref:e[2]}),l:(e,t,o)=>e_[e.ref]?Q("a",{key:o.key,href:Y(e_[e.ref].target,"a","href"),title:e_[e.ref].title},t(e.children,o)):Q("span",{key:o.key},e.fallbackChildren)},25:{t:["|"],o:eL(F),i:1,u:eT,l:(e,t,o)=>Q("table",{key:o.key},Q("thead",null,Q("tr",null,e.header.map(function(i,l){return Q("th",{key:l,style:eI(e,l)},t(i,o))}))),Q("tbody",null,e.cells.map(function(i,l){return Q("tr",{key:l},i.map(function(i,l){return Q("td",{key:l,style:eI(e,l)},t(i,o))}))})))},27:{o:eR(function(e,t){let o;return ek(e,":")&&(o=el.exec(e)),o||ea.exec(e)}),i:4,u(e){let o=e[0];return{text:-1===o.indexOf("&")?o:o.replace(Z,(e,o)=>t.namedCodesToUnicode[o]||e)}},l:e=>e.text},28:{t:["**","__"],o:eO(ee),i:2,u:(e,t,o)=>({children:t(e[2],o)}),l:(e,t,o)=>Q("strong",{key:o.key},t(e.children,o))},29:{t:e=>{let t=e[0];return("*"===t||"_"===t)&&e[1]!==t},o:eO(et),i:3,u:(e,t,o)=>({children:t(e[2],o)}),l:(e,t,o)=>Q("em",{key:o.key},t(e.children,o))},30:{t:["\\"],o:eO(er),i:1,u:e=>({text:e[1],type:"27"})},31:{t:["=="],o:eO(eo),i:3,u:eV,l:(e,t,o)=>Q("mark",{key:o.key},t(e.children,o))},32:{t:["~~"],o:eO(ei),i:3,u:eV,l:(e,t,o)=>Q("del",{key:o.key},t(e.children,o))}};!0===t.disableParsingRawHTML&&(delete ep[11],delete ep[13]);let eh=((r=Object.keys(ep)).sort(function(e,t){return ep[e].i-ep[t].i||(e<t?-1:1)}),function(e,t){return function e(t,o){var i=[];if(o.prevCapture=o.prevCapture||"",t.trim())for(;t;)for(var l=0;l<r.length;){var n=r[l],a=ep[n];if(!a.t||function(e,t,o){if(Array.isArray(o)){for(let t=0;t<o.length;t++)if(ek(e,o[t]))return!0;return!1}return o(e,t)}(t,o,a.t)){var s=a.o(t,o);if(s&&s[0]){t=t.substring(s[0].length);var d=a.u(s,e,o);o.prevCapture+=s[0],d.type||(d.type=n),i.push(d);break}l++}else l++}return o.prevCapture="",i}(e.replace(w,`
`).replace(A,"").replace(W,"    "),t)}),ef=(_=t.renderRule,o=function(e,t,o){let i=ep[e.type].l;return _?_(()=>i(e,t,o),e,t,o):i(e,t,o)},function e(t,i={}){if(Array.isArray(t)){let o=i.key,l=[],r=!1;for(let o=0;o<t.length;o++){i.key=o;let n=e(t[o],i),a="string"==typeof n;a&&r?l[l.length-1]+=n:null!==n&&l.push(n),r=a}return i.key=o,l}return o(t,e,i)}),em=en(e);return eu.length?Q("div",null,em,Q("footer",{key:"footer"},eu.map(function(e){return Q("div",{id:X(e.identifier,eB),key:e.identifier},e.identifier,ef(eh(e.footnote,{inline:!0})))}))):em}(t,o),_)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1888-89228e49e0f31f90.mjs.map