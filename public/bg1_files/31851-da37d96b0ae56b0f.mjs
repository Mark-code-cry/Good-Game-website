(self.modernJsonp=self.modernJsonp||[]).push([["31851"],{516829:function(e,t,n){var o,i;n.r(t),n.d(t,{default:()=>a});let s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="d6f840c748407c7aa62123d5beac3239";let a=s},237453:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};o.hash="0e2c441822700a6145ea7cd142c0425b";let i=o},608649:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let i=o},423347:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};o.hash="8d95294efe15498023c69669c6a41e71";let i=o},452525:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};o.hash="f459445ee8d1ea0db022e490ef5a2e80";let i=o},121366:function(e,t,n){n.d(t,{Z:()=>i});var o=n(667016);async function i(e,t){let{api:n}=(0,o.t)(),i=(0,o.u)();try{i.attempt("setMultipleBizEntityPropertiesFullUpdate",t);let o=new Date().getTime(),s=await n.put("/ads/v4/business_entities",e,!1);return i.success("setMultipleBizEntityPropertiesFullUpdate",t),i.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-o,t),s}catch(e){throw i.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,o.u)()},35794:function(e,t,n){n.d(t,{b:()=>l,m:()=>r});var o=n(667294),i=n(729434),s=n(785893);let{Provider:a,get:r}=(0,i.Z)("LensContext");function l({children:e}){let[t,n]=(0,o.useState)(),[i,r]=(0,o.useState)(),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(),[_,p]=(0,o.useState)(),[h,m]=(0,o.useState)(!1);return(0,s.jsx)(a,{value:{heroImageUrl:i,historyData:l,image:t,imageData:_,isLensModalOpen:h,setHeroImageUrl:r,setHistoryData:c,setImage:n,setImageData:p,setIsLensModalOpen:m,setUpdatedCropArea:d,updatedCropArea:u},children:e})}},77168:function(e,t,n){n.d(t,{H:()=>b,g:()=>g});var o=n(667294),i=n(763208),s=n(872799),a=n(414071),r=n(785873),l=n(86295),c=n(789877),u=n(729434),d=n(686319),_=n(821342),p=n(805205),h=n(572257),m=n(785893);let{Provider:f,get:g}=(0,u.Z)("BusinessHierarchyContext"),b=({children:e})=>{let[t,n]=(0,o.useState)([]),[u,g]=(0,o.useState)([]),[b,y]=(0,o.useState)(!1),[v,x]=(0,o.useState)(!1),[w,P]=(0,o.useState)(null),[A,C]=(0,o.useState)(null),[k,S]=(0,o.useState)([]),[j,Z]=(0,o.useState)({}),z=(0,h.Z)(),I=(0,o.useRef)(z),T=(0,_.Z)(),E=(0,i.Z)(),L=(0,o.useRef)({}),B=(0,o.useCallback)((e,t)=>{let n;t===s.Oz.BUSINESS_HIERARCHY?n=(0,c.Z)(l.Q6.DASHBOARD,"","",e):t===s.Oz.BUSINESS_ACCOUNT&&(n=(0,c.Z)(l.Q6.DASHBOARD,e));let o=(0,p.Z)({site:"www",path:n});(0,r.Z)(o)},[]),M=T.isAuth,{id:R="",username:D="",email:O="",fullName:N="",imageSmallUrl:F="",imageMediumUrl:H="",isAuth:U}=T.isAuth?T:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},$=(0,o.useCallback)(async e=>{if(!E)return[];if(x(!0),L.current[e])return x(!1),L.current[e];{let{data:t}=(await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,n=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=s.Oz.USER_ACCOUNT,e))),e))||[],o=/^\d+$/.test(e),i=RegExp(e.toLowerCase(),"g"),r=[];A||C(r=await I.current());let l=(A??r).filter(t=>o?t.id.includes(e):t.user.full_name.toLowerCase().match(i)).map(a.IT),c=[...n.map(e=>e.id),...l.map(e=>e.id)];return M&&(o?(R||"").includes(e):(N||"").toLowerCase().match(i))&&c.push(R),L.current[e]=c,x(!1),c}},[E,I,M,R,N,A]),G=async(e,t)=>{if((!U||!E||A)&&!e)return;y(!0);let o=[];try{let{data:e}=(await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/"})).resource_response;o=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=s.Oz.USER_ACCOUNT,e))),e))||[],n(o)}catch{n([])}try{let n=[];(!A||e)&&(n=await I.current(),g(n.filter(e=>t&&A&&!A.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),C(n));let i=e?n:A??n;S(i.map(a.IT)),Z(i.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),P((0,a.WP)({id:R,username:D,email:O,fullName:N,imageSmallUrl:F,imageMediumUrl:H})),L.current[""]=[...o.map(e=>e.id),...i.map(a.IT).map(e=>e.id),R],y(!1)}catch{y(!1)}},W=(0,o.useCallback)(G,[R,D,O,N,F,H,U,E,A]),V=(0,o.useCallback)(e=>t.some(t=>t.id===e||"children"in t&&t.children.some(t=>t.id===e||t.user.id===e)),[t]),K=(0,o.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),q=(0,o.useCallback)(()=>{g([])},[g]),X=(0,o.useMemo)(()=>({businessHierarchies:[...w?.id&&!V(w.id)?[w]:[],...t,...k.filter(e=>!V(e.id))],switchAccount:B,searchAccounts:$,loadingAccounts:b,isSearchingAccounts:v,fetchData:W,getParentHierarchyForIdIfExists:K,viewerRolesOfEachEmployer:j,tooltipEmployers:u,hideTooltip:q}),[t,B,$,k,b,v,w,W,V,K,j,u,q]);return(0,m.jsx)(f,{value:X,children:e})}},855860:function(e,t,n){n.d(t,{r:()=>b,Z:()=>g});var o=n(667294),i=n(473354),s=n(121366),a=n(686319),r=n(667016);let l=async(e,t)=>{let{statsLog:n}=(0,r.t)();try{let o=new Date,i=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),s=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",s.getTime()-o.getTime(),t)),i.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},c=async(e,t,n="PUT")=>{let{statsLog:o}=(0,r.t)();try{let i=new Date,s=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:n}),r=new Date;return o&&(o.success("setMultipleBizEntityPropertiesFullUpdate",t),o.latency("setMultipleBizEntityPropertiesFullUpdate",r.getTime()-i.getTime(),t)),s.resource_response.data}catch(e){throw o&&o.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var u=n(729434),d=n(657043),_=n(821342),p=n(675973),h=n(603316),m=n(785893);let{Provider:f,get:g}=(0,u.Z)("CustomShortcutsContext"),b=({children:e})=>{let t=(0,_.Z)(),n=t.isAuth?t.id:void 0,a=t.isAuth&&t.isPartner,r=t.isAuth&&t.isLimitedLogin,u=(0,p.Z)(),[g,b]=(0,o.useState)({}),y=(0,o.useCallback)(async()=>{let{anyEnabled:e}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),t=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(n&&a&&!r&&t)try{let t;t=e?l:i.Z;let o=(await t([{entity_id:n,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(o&&o.properties))return;let s=o.properties.NAVBAR_CONFIG;b(s?.customShortcuts||{})}catch(e){(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:n,error:(0,d.Z)(e,"message")}})}},[n,a,r,u]),v=(0,o.useCallback)(async e=>{let{anyEnabled:t}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!n)return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:n,error:"Auth_Error"}}),{error:"Auth_Error"};try{let o;o=t?c:s.Z;return await o([{entity_id:n,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),y(),{error:null}}catch(e){return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:n,error:(0,d.Z)(e,"message")}}),{error:"Upsert_Error"}}},[n,u,y]);(0,o.useEffect)(()=>{y()},[y]);let x=(0,o.useMemo)(()=>({shortcuts:g,upsertShortcuts:v}),[g,v]);return(0,m.jsx)(f,{value:x,children:e})}},138:function(e,t,n){n.d(t,{Z:()=>o});function o(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},509207:function(e,t,n){n.d(t,{Z:()=>o});let o='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},70487:function(e,t,n){n.d(t,{Z:()=>B});var o=n(281098),i=n(667294),s=n(20256),a=n(980787),r=n(679422),l=n(821342),c=n(734308),u=n(111330),d=n(19585),_=n(753143),p=n(785893);function h({paddingY:e=0}){(0,i.useEffect)(()=>{(0,o.Z)("HeaderAccountsClaimBanner","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsClaimBanner.tsx")},[]);let t=(0,d.ZP)(),n=(0,_.M0)(),r=n.getItem(u.z),[l,c]=(0,i.useState)(r),{logContextEvent:h}=(0,a.u)(),m=(0,i.useCallback)(()=>{n.setItem(u.z,!0),h({event_type:16446}),c(!0)},[h,n]);return l?null:(0,p.jsx)(s.xu,{paddingY:e,children:(0,p.jsx)(s.he,{iconAccessibilityLabel:t._('Claim external accounts', 'header.accountsOptionsMenu.contentClaimingLink', 'menu item linking to the account claiming section in the settings'),message:t._('You can now link your Instagram and other external accounts to Pinterest.', 'header.accountsOptionsMenu.accountClaimingBannerMessage', 'banner message for account claiming'),onDismiss:m,type:"info"})})}var m=n(780134),f=n(873258),g=n(521009),b=n(749872),y=n(593891),v=n(959989),x=n(646924),w=n(538281),P=n(738827),A=n(886981),C=n(694955),k=n(483180),S=n(252440),j=n(785873),Z=n(993279),z=n(230117),I=n(473728),T=n(146621);let E=["chrome","windows"];var L=n(901971);function B({onDismiss:e,handleFocus:t,advertiser:n,showAdsSupportOption:u,isWwwSite:_,isImportContentEnabled:B}){(0,i.useEffect)(()=>{(0,o.Z)("HeaderAccountsOptionsDropdown","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsDropdown.tsx")},[]);let M=(0,l.Z)(),R=(0,d.ZP)(),{logContextEvent:D}=(0,a.u)(),{isLoaded:O,data:N}=(0,A.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:F,data:H}=(0,A.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),U=!!H?.connected_to_instagram,{content_claiming_access:$=!1}=N||{},{handleShowReportBugModal:G}=(0,L.P)(),W=function(){let e=(0,l.Z)(),t=(0,g.Z)(),n=(0,y.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,v.lv)()>1?(e.isAuth&&((0,b.RD)(e.id),(0,b.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,v.Q)()})):((0,b.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}(),V=function(){let e=(0,d.ZP)(),t=(0,i.useContext)(T.Z),n=(0,Z.kM)(window,t),o=(0,g.Z)(),s=e=>{o({component:247,element:e,event_type:101})},a=(0,I.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,z.Z)(n)});return E.includes(n)?{onClick:()=>{if("windows"===n)s(11409),(0,j.Z)(`${C.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(s(11410),e.prompt())}},text:a}:null}(),K=M.isAuth&&!!M.isEmployee,q=!!M.isAuth&&M.isPartner,X=M.isAuth&&!!M.teenSafetyOptionsUrl,Y=!!M.isAuth&&!M.isLimitedLogin,J=M.isAuth?M.id:void 0,Q=(0,r.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:et,handleAddSecondaryAccount:en,handleClick:eo,handleLinkedAccountSwitch:ei,handleUnlockBusinessTools:es,isLoading:ea,showUnlockBusinessTools:er}=(0,x.Z)(e,_),el=(0,f.Z)(),ec=ee.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),eu=ee.find(e=>e.id===(M.isAuth&&M.id)),ed=M.isAuth&&M.partner?.is_linked_business;ed&&(ec=ec.sort(e=>eu?.owners?.some(t=>t.id===e.id)?-1:1));let e_=ea&&(0,p.jsx)(w.Z,{}),ep=eu?.businesses?.length?eu.businesses.map(e=>J!==e.id&&(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>ei(e,eu.id),option:el.lbaAccountSwitch(e),children:(0,p.jsx)(m.Z,{user:e},e.id)},e.id)):null,eh=ec.map(e=>e.id!==J?[(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",onSelect:()=>et(e),option:el.parentAccount(e),children:(0,p.jsx)(m.Z,{isCurrentAccount:J===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>J!==t.id&&(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>ei(t,e.id),option:el.businessAccount(t),children:(0,p.jsx)(m.Z,{user:t},t.id)},t.id)):[]]:null),em=_&&(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:en,option:el.addAccount}),ef=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:en,option:el.addAccount}),eg=er&&(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-business-account",href:M.isAuth?"https://www.pinterest.com/convert-business":`${C.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`,onClick:es,option:el.convertToBusiness}),eb=(0,p.jsx)(s.Lt.Link,{href:C.zXf,onClick:({event:e})=>{e.preventDefault(),eo(15983),t()},option:el.accountClaiming}),ey=B?(0,p.jsx)(s.Lt.Link,{href:C.RMT,onClick:({event:e})=>{e.preventDefault(),eo(18167),t()},option:el.importContent}):null,ev=O&&$&&(0,p.jsx)(s.Lt.Link,{href:"/content-claiming",onClick:()=>{eo(13606),t()},option:el.contentClaiming}),ex=K&&(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{G(),eo(13607),e()},option:el.reportBug}),ew=(0,p.jsx)(s.Lt.Link,{accessibilityRole:"unset",dataTestId:"header-menu-options-settings",href:Y?`https://${(0,c.Z)()}/settings`:"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(247),t()},option:el.settings}),eP=(0,p.jsx)(s.Lt.Link,{href:Y?"/edit":"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(11345),t()},option:el.homefeedTuner},"header-menu-options-homefeed-tuner"),eA=!q&&V?(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{V.onClick(),e()},option:el.installApp(V.text)}):null,eC=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-privacy",href:Y?`https://${(0,c.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(13334),t()},option:el.settingsPrivacy}),ek=(0,p.jsx)(s.Lt.Link,{href:Y?"/reports-and-violations":"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(14618),t()},option:el.reportsAndViolationsCenter}),eS=X?(0,p.jsx)(s.Lt.Link,{href:M.teenSafetyOptionsUrl??"",iconEnd:"visit",onClick:()=>{D({event_type:101,element:14321}),eo(14321),t()},option:el.teenSafetyResources}):null,ej=q&&u&&(!n||(0,P.Z)((n||{}).actions||[],7))&&(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:C.JbB,iconEnd:"visit",onClick:()=>{eo(10106),t()},option:el.adsSupport}),eZ=q?(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:C.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>{eo(11345),t()},option:el.requestFeature}):null,ez=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-help",href:`${C.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>{eo(8002),t()},option:el.getHelp}),eI=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-tos",href:C.U5h,iconEnd:"visit",onClick:()=>{eo(61),t()},option:el.termsOfService}),eT=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-policy",href:C.R_9,iconEnd:"visit",onClick:()=>{eo(8004),t()},option:el.privacyPolicy}),eE=(0,p.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>{eo(13613),t()},option:el.betaTester},"header-menu-options-beta-tester"),eL=(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",dataTestId:"header-menu-options-logout",onSelect:W,option:el.logOut}),eB=(0,p.jsxs)(s.Lt.Section,{label:R._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[e_,ep,eh,F&&!H?.opt_in_private_account&&em,eL]},"your-accounts"),eM=(0,p.jsxs)(s.Lt.Section,{label:R._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[e_,ep,eh,F&&!H?.opt_in_private_account&&ef,ew]},"your-accounts"),eR=F&&!U?(0,p.jsx)(h,{paddingY:1}):null,eD=(0,p.jsxs)(s.Lt.Section,{label:R._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[ey,ev,eR,eb,ek,eA]}),eO=(0,p.jsxs)(s.Lt.Section,{label:R._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eS,ez,ej,eZ,ex]}),eN=(0,p.jsxs)(s.Lt.Section,{label:R._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[eT,eC]}),eF=(0,p.jsxs)(s.Lt.Section,{label:"",children:[eI,eL]});return{currentlyIn:(0,p.jsxs)(s.Lt.Section,{label:R._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:[!!eu&&(0,p.jsx)(s.Lt.Item,{accessibilityRole:"unset",onSelect:()=>ed?ei(eu,void 0):et(eu),option:el.currentAccount,selected:el.currentAccount,children:(0,p.jsx)(s.rU,{href:_?`/${eu.username}/`:`${k.C0}/${eu.username}/`,underline:"none",children:(0,p.jsx)(m.Z,{isCurrentAccount:!0,user:eu})})}),!H?.opt_in_private_account&&eg]},"currently-in"),yourAccount:q?eM:eB,moreOptions:[eD,eO,eN,eF],settingsAndSupport:[ex,ew,eP,eb,ek,eA,eE,(0,p.jsxs)(s.Lt.Section,{label:R._('Support', 'SettingsMenu.SupportOptions', 'Menu section with support options'),children:[ez,(0,p.jsx)(s.Lt.Link,{href:`${C.iYv}/tools/widget-builder/?type=profile&url=${encodeURIComponent(`https://${window.location.hostname}/${eu?.username||""}/`)}`,iconEnd:"visit",onClick:()=>{D({event_type:101,component:218,element:8001})},option:{label:R._('Create widget', 'A link to create an embeddable widget', 'A link to create an embeddable widget'),value:"make-widget-link"}},"make-widget-link"),(0,p.jsx)(s.Lt.Link,{href:C.hwP,iconEnd:"visit",onClick:()=>{D({event_type:101,component:218,element:8011})},option:{label:R._('Removals', 'menu item that takes user to the Pinterest copyright page', 'menu item that takes user to the Pinterest copyright page'),value:"removals"}},"removals"),(0,p.jsx)(s.Lt.Link,{href:"https://help.pinterest.com/en/article/personalized-ads-on-pinterest",onClick:()=>{D({event_type:101,component:218,element:10406})},option:{label:R._('Personalized Ads', 'menu item that takes user to the Pinterest personalized ads page', 'menu item that takes user to the Pinterest personalized ads page'),value:"personalized-ads"}},"personalized-ads"),eC,eT,eI]},"support"),(0,p.jsx)(s.Lt.Section,{label:R._('Resources', 'SettingsMenu.Resources', 'Menu section with resource links'),children:(0,p.jsxs)(s.xu,{direction:"row",display:"flex",paddingX:2,width:240,wrap:!0,children:[(0,p.jsx)(S.O,{onClick:()=>{D({event_type:101,component:218,element:8006})},text:R._('About', 'menu item that takes user to the Pinterest about page', 'menu item that takes user to the Pinterest about page'),url:C.wUZ}),(0,p.jsx)(S.O,{onClick:()=>{D({event_type:101,component:218,element:8007})},text:R._('Blog', 'menu item that takes user to the Pinterest blog', 'menu item that takes user to the Pinterest blog'),url:"https://www.pinterest.com/_/_/blog/"}),(0,p.jsx)(S.O,{onClick:()=>{D({event_type:101,component:218,element:8008})},text:R._('Businesses', 'menu item that takes user to the Pinterest for business page', 'menu item that takes user to the Pinterest for business page'),url:C.NWh}),(0,p.jsx)(S.O,{onClick:()=>{D({event_type:101,component:218,element:8009})},text:R._('Careers', 'menu item that takes user to the Pinterest careers page', 'menu item that takes user to the Pinterest careers page'),url:C.t_w}),(0,p.jsx)(S.O,{onClick:()=>{D({event_type:101,component:218,element:8010})},text:R._('Developers', 'menu item that takes user to the Pinterest developers page', 'menu item that takes user to the Pinterest developers page'),url:C.iYv})]})},"resources")]}}},780134:function(e,t,n){n.d(t,{Z:()=>d});var o=n(281098),i=n(667294),s=n(20256),a=n(744862),r=n(667288),l=n(19585),c=n(793698),u=n(785893);function d({user:e,isCurrentAccount:t}){(0,i.useEffect)(()=>{(0,o.Z)("HeaderAccountsOptionsMenuAccountRep","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuAccountRep.tsx")},[]);let n=(0,l.ZP)(),d=e.partner,_=(0,c.mN)()(e.id??""),p=_?.avatar_color_index;return(0,u.jsxs)(s.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,u.jsx)(s.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,u.jsx)(a.qE,{accessibilityLabel:"",color:p,name:(0,r.G)(e),src:(0,r.k)(e)})}),(0,u.jsxs)(s.xu,{maxWidth:176,children:[(0,u.jsx)(s.xv,{lineClamp:1,weight:"bold",children:(0,r.G)(e)}),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,u.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:d?n._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):n._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,u.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:d?e.partner?.bizContactEmail:e.email})})]})]})}},873258:function(e,t,n){n.d(t,{Z:()=>i});var o=n(19585);function i(){let e=(0,o.ZP)();return{addAccount:{value:"add-account",label:e._('Add Pinterest account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e._('Claimed external accounts', 'header.accountsOptionsMenu.contentClaimingLink', 'menu item linking to the account claiming section in the settings')},contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Refine your recommendations', 'header.accountsOptionsMenu.refineRecommendations.label', 'menu item linking to recommendations editor')},importContent:{value:"import-content",label:e._('Import content', 'header.accountsOptionsMenu.importContentLink', 'menu item linking to the import content section in the settings')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}},646924:function(e,t,n){n.d(t,{Z:()=>m});var o=n(667294),i=n(575108),s=n(821342),a=n(886981),r=n(980787),l=n(79270),c=n(816358),u=n(809295),d=n(749872),_=n(61110),p=n(39435),h=n(603316);function m(e,t){let{flushContextEvents:n,logContextEvent:m}=(0,r.u)(),[f,g]=(0,o.useState)(!1),[b,y]=(0,o.useState)(null),v=(0,s.Z)(),{showAccountSwitcherLoginModal:x}=(0,_.X)(),{userAccounts:w}=(0,p.N)(),{data:P}=function(){let e=(0,s.Z)();return(0,a.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}(),A=(0,l.Z)(),C=!!(v.isAuth&&!v.partner&&P?.businesses)&&0===P.businesses.length;(0,o.useEffect)(()=>(v.isAuth&&(0,d.Mt)(v,P),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,o.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,o.useEffect)(()=>{w.length>1&&m({event_type:13,view_type:234,component:13369,element:12722})},[m,w]);let k=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),g(!1),t};return{failedAccount:b,fetchedUserAccounts:w,handleAccountRepClick:e=>{v.isAuth&&e.id!==v.id&&(e=>{let{id:t}=e;g(!0),m({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(),A({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),y(e),g(!1))},e=>{k(t,e)})})(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),m({event_type:101,component:8,element:12756}),e()},handleClick:t=>{13290!==t&&m({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,o)=>{let{partner:s}=e;if(g(!0),m({event_type:101,component:13369,element:s?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(),s?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:o};(0,h.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),A({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,h.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{k(e.id,t)})}else i.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{v.isAuth&&((0,d.RD)(v.id),(0,d.iS)(t?`/${e.username}`:"/",v.id,"account_switcher_flyout"))},e=>{v.isAuth&&k(v.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),y(null),x("account_switcher_flyout",b?.email)},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),y(null)},handleUnlockBusinessTools:()=>{e(),m({event_type:101,component:8,element:10299})},isLoading:f,showUnlockBusinessTools:C}}},667288:function(e,t,n){function o(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function i(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}n.d(t,{G:()=>o,k:()=>i})},390843:function(e,t,n){n.d(t,{aX:()=>_,nK:()=>p,ou:()=>c});var o=n(667294),i=n(825332),s=n(729434),a=n(430635),r=n(785893);let{Provider:l,get:c}=(0,s.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){let n={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&u(e.forward[0].location)===u(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function _(){let{current:e,previous:t}=c();return(0,o.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,i.ur)(),n=(0,i.TH)(),s=(0,a.Z)(),[c,u]=(0,o.useReducer)(d,{forward:[],current:{action:t,location:n,match:s},previous:[]}),_=(0,o.useRef)(n),p=(0,o.useRef)(s);return(_.current!==n||p.current!==s)&&(u({type:t,location:n,match:s}),_.current=n,p.current=s),(0,r.jsx)(l,{value:c,children:e})}},538281:function(e,t,n){n.d(t,{Z:()=>l});var o=n(281098),i=n(667294),s=n(20256),a=n(19585),r=n(785893);function l({accessibilityLabel:e,fixedPosition:t,rounding:n}){(0,i.useEffect)(()=>{(0,o.Z)("LoadingMask","/app/packages/LoadingMask.tsx")},[]);let l=(0,a.ZP)();return(0,r.jsxs)(s.xu,{children:[(0,r.jsx)(s.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new s.Ry(101),children:(0,r.jsx)(s.xH,{accessibilityLabel:e||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,r.jsx)(s.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:n,top:!0,zIndex:new s.Ry(100)})]})}},738827:function(e,t,n){n.d(t,{Z:()=>o});function o(e,t){return e.includes(t)||e.includes(80)}},708898:function(e,t,n){n.d(t,{Z:()=>i});var o=n(15667);let i=function(){let{country:e,isBot:t,isAuthenticated:n,locale:i}=(0,o.B)(),s="en"===i.slice(0,2);return t||!n&&s&&"US"===e}},293565:function(e,t,n){n.d(t,{G6:()=>s,i7:()=>a,oi:()=>o,u$:()=>i,un:()=>l,vU:()=>r,w1:()=>c});let o=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?o.CHROME:e.includes("Safari")?o.SAFARI:e.includes("Firefox")?o.FIREFOX:e.includes("Opera")?o.OPERA:e.includes("IE")?o.IE:e.includes("Edge")?o.EDGE:o.OTHER:o.OTHER;function s(e){return i(e)===o.SAFARI}function a(e){return i(e)===o.CHROME}function r(e){return i(e)===o.FIREFOX}function l(e){return i(e)===o.EDGE}function c(e){return i(e)===o.IE}},124320:function(e,t,n){n.d(t,{Z:()=>i});var o=n(667294);let i=function(e,t){let n=(0,o.useRef)(e),i=(0,o.useRef)(void 0),s=(0,o.useRef)(void 0);(0,o.useEffect)(()=>{n.current=e},[e]),(0,o.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[t]);let a=(0,o.useCallback)((...e)=>{s.current=e,i.current&&clearTimeout(i.current),i.current=window.setTimeout(()=>{n.current(...e),s.current=void 0},t)},[t]);return a.flush=(0,o.useCallback)(()=>{if(i.current&&(clearTimeout(i.current),i.current=void 0),s.current){let e=s.current;return s.current=void 0,n.current(...e)}},[]),a.cancel=(0,o.useCallback)(()=>{i.current&&(clearTimeout(i.current),i.current=void 0),s.current=void 0},[]),a}},708847:function(e,t,n){n.d(t,{Z:()=>l});var o=n(281098),i=n(667294),s=n(20256),a=n(19585),r=n(785893);function l(){(0,i.useEffect)(()=>{(0,o.Z)("FullPageSignupLoadingFallback","/app/packages/desktopLoginModal/FullPageSignupLoadingFallback.tsx")},[]);let e=(0,a.ZP)();return(0,r.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(s.xH,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},118755:function(e,t,n){n.d(t,{Bx:()=>i,N4:()=>a,is:()=>r,lt:()=>o,oM:()=>s});let o=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),r=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},417162:function(e,t,n){n.d(t,{g:()=>a,t:()=>s});var o=n(667294);let i=(0,o.createContext)(null),s=i,a=()=>(0,o.useContext)(i)},79270:function(e,t,n){n.d(t,{Z:()=>k});var o=n(667294),i=n(255581),s=n(575108),a=n(111330),r=n(980787),l=n(464332),c=n(636755),u=n(855872),d=n(801406),_=n(981636),p=n(2420),h=n(593891),m=n(829121),f=n(154796),g=n(450978),b=n(556970),y=n(650160),v=n(753143),x=n(941404),w=n(79077),P=n(547362),A=n(831373),C=n(603316);function k(){let e=(0,h.hq)(),t=(0,f.Z)(),{logContextEvent:n}=(0,r.u)(),k=(0,w.Z)();return(0,o.useCallback)(async({creds:o,isAccountSwitch:r,loggingOptions:{loggingData:h={},loginAttemptContextEvent:f},recaptchaV2Token:w,recaptchaV3Token:S,fingerprintData:j})=>{t();let Z=!!(o.facebook_autologin||o.autologin),z=(0,m.eD)(o),I=e=>{let t=o.google_open_id_token?"google":"facebook";Z&&(0,x.dy)({event:e,provider:t})},T=e=>{Z||(0,x.EX)({event:e,provider:(0,m.nY)(o)})},E=e=>{n({...f,event_type:e,aux_data:{...f.aux_data,upsell_reason:f.aux_data?.upsell_reason||(Z?"autologin":(0,v.M0)().getItem(a.bg)),upsell_view_count:(0,v.M0)().getItem(a.w0)??0}}),7536===e&&((0,v.M0)().setItem(a.V6,(0,m.nY)(o)),(0,v.M0)().setItem(a.w0,0))};if(E(7534),k({action:Z?"autologin":"login",event:"attempt",trigger:h.trigger,type:z}),I("login_api_call_start"),T("login_api_call_start"),"email"===z&&await (0,d.Lq)({fingerprintData:j,source:u.Ef.LOGIN,logContextEvent:n}))return Promise.reject({isArkoseChallengeRequired:!0});let L=(0,P.O)();return s.Z.create("UserSessionResource",(0,d.NW)({...o,...L?{referrer:L}:Object.freeze({}),get_user:o.get_user||o.switch_account&&r,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,A.t_)()||null,recaptchaV2Token:w,recaptchaV3Token:S,fingerprintData:j})).callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:n,country_from_ip:s,region_from_ip:a}=e?.client_context||Object.freeze({});return e?.auxData?.x_pinterest_sli_endpoint_name==="v3_login_mfa_resend"?Promise.resolve(e):((e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let n=h===Object(h)?h.container:"container_unknown";(0,x.My)("login.referrer."+t+"."+z),(0,x.My)("login.container."+String(n)+"."+z),(0,x.My)("login.type."+z);let i=z||"method_unknown",s=h.page||"page_unknown";o.facebook_autologin?((0,x.My)("web_autologin_facebook"),(0,x.My)("new_web_autologin_facebook",{page:s,referrer:t,container:n})):((0,x.My)(`web_login.${i}.success.${s}.${String(n)}.${t}.tier1`),(0,C.nP)(`web_login.${i}.success.${s}.${String(n)}.${t}.tier1`),(0,x.My)(`new_web_login.${i}.success`,{page:s,referrer:t,container:n})),(0,g.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),E(7536),k({action:Z?"autologin":"login",event:"success",trigger:h&&h.trigger,type:z})})({country:t,countryFromHostName:n,countryFromIp:s,regionFromIp:a}),I("login_api_call_success"),T("login_api_call_success"),(0,c.B)(!1),(0,_.Z)(),l.zN(i.e7.name),l.zN(i.x3.name),(0,y.Z)("login").then(()=>e))},e=>((({error:e})=>{if(!e)return;let t=e.http_status===b.Ej?b.Ej:e.api_error_code,n=t;t&&p.qF.has(t)&&(n=p.qF.get(t));let{container:o,trigger:i}=h;(0,x.My)(`unauth_web_client_login_api_error.${String(n)}.${o||"unknow_container"}.${z}`,{apiErrorCode:t,container:o,errorDescription:n,httpStatus:e.http_status,message:e.message?.toString()}),E(7535),k({action:Z?"autologin":"login",event:"fail",trigger:i,type:z})})({error:e}),I("login_api_call_failure"),T("login_api_call_failure"),Promise.reject(e)))},[e,t,n,k])}},679422:function(e,t,n){n.d(t,{Z:()=>a});var o=n(118755),i=n(19585),s=n(848387);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,s.m)(),a=(0,i.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||(0,o.lt)(a))}}},636755:function(e,t,n){n.d(t,{B:()=>a,a:()=>s});var o=n(111330),i=n(753143);let s=()=>!!i.ZP.getItem(o.WM),a=e=>{i.ZP.setItem(o.WM,!!e)}},662137:function(e,t,n){n.d(t,{Z:()=>o});let o="M11 23H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4h6zm12-4a4 4 0 0 1-4 4h-6V13h10zM19 1a4 4 0 0 1 4 4v6H13V1z"},734308:function(e,t,n){n.d(t,{Z:()=>i});var o=n(483180);let i=()=>{let{hostname:e}=window.location,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":o.Vi}},412007:function(e,t,n){n.d(t,{O7:()=>a,dF:()=>d,dX:()=>c,pm:()=>l,tx:()=>r});var o=n(667294),i=n(15667),s=n(647709);let a=()=>{let{isAuthenticated:e}=(0,i.B)(),t=(0,s.HG)();return(0,o.useMemo)(()=>({isAuth:!!e,isDesktop:t}),[e,t])},r={" $fragmentSpreads":void 0," $fragmentType":void 0};function l(e){let{isAuthParam:t,isDesktop:n,authDesktopQuery:o,authMobileQuery:i,unauthDesktopQuery:s,unauthMobileQuery:a}=e;return t?n?o:i:n?s:a}function c(e){let{isAuthParam:t,isDesktop:n,authDesktopFragment:o,authMobileFragment:i,unauthDesktopFragment:s,unauthMobileFragment:a}=e;return t?n?o:i:n?s:a}let u=/(?:^|_)([a-z])/g;function d(e){return e.replace(u,(e,t)=>t.toUpperCase())}},424297:function(e,t,n){n.d(t,{ak:()=>r,j3:()=>a,yv:()=>s});var o=n(19585),i=n(15667);function s(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){let{country:e=""}=(0,i.B)();return s(e)}function r(){return (0, o.ZP)()._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}},670622:function(e,t,n){n.d(t,{Z:()=>a});var o=n(410156),i=n(19585),s=n(302148);function a(){let e=(0,i.ZP)();return function(t,n){let i=new Date(t).getTime(),a=Date.now()-i,r=Math.floor(a/o.FS),l=Math.floor(a/o.UK),c=Math.floor(a/o.F4),u=Math.floor(a/o.VL),d=Math.floor(a/o.N9),_=Math.floor(a/o.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', r, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),f=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),g=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', _, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', r, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),A=e.ngettext('{{ years }}y', '{{ years }}y', _, 'years ago abbreviated', 'years ago abbreviated');return _>0?(0,s.nk)(n?A:b,{years:_}).join(""):d>0?(0,s.nk)(n?P:g,{months:d}).join(""):u>0?(0,s.nk)(n?w:f,{weeks:u}).join(""):c>0?(0,s.nk)(n?x:m,{days:c}).join(""):l>0?(0,s.nk)(n?v:h,{hours:l}).join(""):r>0?(0,s.nk)(n?y:p,{minutes:r}).join(""):e._('Just now', ' - ', ' -- ')}}},115247:function(e,t,n){n.d(t,{Z:()=>a});var o=n(667294);function i(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends o.Component{constructor(...e){super(...e),i(this,"ref",(0,o.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=s},947050:function(e,t,n){n.d(t,{Z:()=>i});var o=n(667294);function i(e){let{animationData:t,autoplay:i,initialSegment:s,loop:a,onComplete:r,onConfigReady:l,onDataFailed:c,onDataReady:u,onDestroy:d,onDOMLoaded:_,onEnterFrame:p,onLoadedImages:h,onLoopComplete:m,onSegmentStart:f}=e,[g,b]=(0,o.useState)(null),[y,v]=(0,o.useState)(!1),x=(0,o.useRef)(null),w=(0,o.useRef)(null),P=async()=>{b(await n.e("13000").then(n.t.bind(n,98234,23)))};return(0,o.useEffect)(()=>{P()},[]),(0,o.useEffect)(()=>{if(!w.current||!g||!t||!t.w||!t.h)return;x.current?.destroy();let n={...e,container:w.current};x.current=g.loadAnimation(n),v(!!x.current)},[w,x,t,g,e]),(0,o.useEffect)(()=>{x.current&&(x.current.loop=!!a,a&&x.current.isPaused&&x.current.play())},[a]),(0,o.useEffect)(()=>{x.current&&(x.current.autoplay=!!i)},[i]),(0,o.useEffect)(()=>{if(x.current){if(!s)return void x.current.resetSegments(!1);Array.isArray(s)&&s.length&&((x.current.currentRawFrame<s[0]||x.current.currentRawFrame>s[1])&&(x.current.currentRawFrame=s[0]),x.current.setSegment(s[0],s[1]))}},[s]),(0,o.useEffect)(()=>{if(!x.current||!y)return()=>{};let e=[{name:"complete",handler:r},{name:"loopComplete",handler:m},{name:"enterFrame",handler:p},{name:"segmentStart",handler:f},{name:"config_ready",handler:l},{name:"data_ready",handler:u},{name:"data_failed",handler:c},{name:"loaded_images",handler:h},{name:"DOMLoaded",handler:_},{name:"destroy",handler:d}].filter(e=>null!=e.handler).map(e=>(x.current?.addEventListener(e.name,e.handler),()=>{x.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[y,r,m,p,f,l,u,c,h,_,d]),{animationContainerRef:w,play:()=>{x.current?.play()},stop:()=>{x.current?.stop()},pause:()=>{x.current?.pause()},setSpeed:e=>{x.current?.setSpeed(e)},goToAndStop:(e,t)=>{x.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{x.current?.goToAndPlay(e,t)},setDirection:e=>{x.current?.setDirection(e)},playSegments:(e,t)=>{x.current?.playSegments(e,t)},setSubframe:e=>{x.current?.setSubframe(e)},getDuration:e=>x.current?.getDuration(e),destroy:()=>{x.current?.destroy()},animationLoaded:y,animationItem:x.current}}},749872:function(e,t,n){n.d(t,{CV:()=>r.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>_});var o=n(785873),i=n(816358),s=n(809295),a=n(93137),r=n(435292),l=n(959989);let c=e=>{let t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},u=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,a.Z)(e)}},d=(e,t,n)=>{(0,r.Z)("switch_account_success",{destination_user_id:t},n),(0,o.Z)(e)},_=(e,t)=>{i.Z.resume(s.Z3),(0,r.Z)("switch_account_failure",{destination_user_id:e},t)}},93137:function(e,t,n){n.d(t,{Z:()=>s});var o=n(435292),i=n(959989);let s=(e,t,n)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:(e=>{let t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,o.Z)("utils.incomplete_user_values"),e.partner?.is_create)?{...t,partner:{is_create:!0}}:t})(e)}),t&&n&&(0,o.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},435292:function(e,t,n){n.d(t,{Z:()=>r});var o=n(172045),i=n(959989),s=n(941404);let a="web_account_switcher",r=(e,t,n)=>{let r=(0,i.yW)();r||(r=(()=>{let e=(0,o.Z)();return(0,s.tj)(`${a}.utils.group_created`,{group_id:e,group_count:(0,i.lv)()}),e})(),(0,i.M3)(r));let l={group_count:(0,i.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,s.tj)(`${a}.${c}${e}`,{...t,...l})}},593891:function(e,t,n){n.d(t,{aU:()=>a,hq:()=>s,o_:()=>o});let{Provider:o,useHook:i}=(0,n(729434).Z)("AuthenticationContext");function s(){return i().loginContext}function a(){return i().logout}},38787:function(e,t,n){n.d(t,{Kw:()=>r,RD:()=>l,dD:()=>u});var o=n(575108),i=n(686319),s=n(959989);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],r=async()=>{let e=await o.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,s.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let o=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===o.length||n[o[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);let i=o.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,s.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await r(),n=e.id;t[n]||(t[n]={logged_in:!0});let o=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),s=(await (0,i.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(o)}})).resource_response.data;if(s&&Object.keys(s).length>0){var l=Object.keys(s).filter(e=>"success"===s[e].status).map(e=>c(s[e].data));let e=l.every(e=>!!e.fullName)?"fullName":"username";return[...l].sort((t,n)=>t[e]>n[e]?1:n[e]>t[e]?-1:0)}return[]}},622481:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)(null)},282803:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)(null)},444185:function(e,t,n){n.d(t,{Z:()=>s});var o=n(849233),i=n(943257);function s(e){let{enabledRouteRefresh:t,headers:n,name:s,noCache:a,options:r,schema:l}=e??{name:o.fY,options:null},c=!e,{fetchResource:u,ref:d,fetchMore:_,isFetching:p,isLoaded:h,isRefreshing:m,refresh:f}=(0,i.Z)({enabledRouteRefresh:t,headers:n,name:s,noCache:a,options:r,schema:l},c,!1);return c||u(),{ref:d,fetchMore:_,isFetching:p,isLoaded:h,isRefreshing:m,refresh:f}}},929915:function(e,t,n){n.d(t,{l:()=>s,r:()=>a});var o=n(667294);let i=(0,o.createContext)(null),s=()=>(0,o.useContext)(i),a=i},230117:function(e,t,n){n.d(t,{Z:()=>o});let o=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},123998:function(e,t,n){n.d(t,{Z:()=>b});var o=n(281098),i=n(667294),s=n(20256),a=n(390843),r=n(115247),l=n(15667),c=n(734215),u=n(998212),d=n(496429),_=n(738140),p=n(169053),h=n(785893);function m(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:o,timeSpentContext:i,view:s,viewParameter:a}=this.props;return{view:s||i?.view,viewParameter:a||i?.viewParameter,component:t||i?.component,element:n,objectId:o||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:o,right:i,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===o&&0===i&&0===s?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new d.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,c.Z)(e.auxData,this.props.auxData)&&(0,c.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,h.jsx)(_.$,{value:this.getContext(),children:(0,h.jsx)(r.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n=>(0,h.jsx)(s.xu,{ref:n,height:t??"100%",children:i.Children.only(e)})})})}componentDidMount(){(0,o.Z)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function g(e){let t=(0,a.ou)(),n=(0,_.a)(),o=(0,u.Z)(),s=(0,p.EQ)(),{requestIdentifier:r=""}=(0,l.B)(),c={app_instance_id:r.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{o?.setHistoryStackContext(t)},[t,o]),(0,i.useEffect)(()=>{o?.setPins(s??{})},[s,o]),o?(0,h.jsx)(f,{...e,auxData:c,timeSpentContext:n,timeSpentManager:o,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let b=g},738140:function(e,t,n){n.d(t,{$:()=>o,a:()=>i});let{Provider:o,getMaybe:i}=(0,n(729434).Z)("timeSpentContext")},496429:function(e,t,n){n.d(t,{h:()=>_,Z:()=>p});var o,i,s=n(172045),a=n(813653),r=n(831423),l=0,c=0;let u=function(e,t,n){var s=t&&n||0,u=t||Array(16),d=(e=e||{}).node||o,_=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==_){var p=e.random||(e.rng||a.Z)();null==d&&(d=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==_&&(_=i=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,f=h-l+(m-c)/1e4;if(f<0&&void 0===e.clockseq&&(_=_+1&16383),(f<0||h>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,c=m,i=_;var g=((0xfffffff&(h+=122192928e5))*1e4+m)%0x100000000;u[s++]=g>>>24&255,u[s++]=g>>>16&255,u[s++]=g>>>8&255,u[s++]=255&g;var b=h/0x100000000*1e4&0xfffffff;u[s++]=b>>>8&255,u[s++]=255&b,u[s++]=b>>>24&15|16,u[s++]=b>>>16&255,u[s++]=_>>>8|128,u[s++]=255&_;for(var y=0;y<6;++y)u[s+y]=d[y];return t||(0,r.Z)(u)};function d(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),p=class{constructor(e){d(this,"start",()=>(this.startTime=_(),this.startTime)),d(this,"end",()=>(this.endTime=_(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,s.Z)()}catch(e){this.uuid=u()}e&&Object.assign(this,e)}}},734263:function(e,t,n){n.d(t,{Z:()=>r});var o=n(281098),i=n(667294),s=n(20256),a=n(785893);function r({ariaHidden:e=!1,color:t,size:n}){return(0,i.useEffect)(()=>{(0,o.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(s.xv,{color:t,inline:!0,size:n??"200",children:"·"})})}},599402:function(e,t,n){n.d(t,{Z:()=>c});var o=n(281098),i=n(667294),s=n(20256),a=n(19585),r=n(302148),l=n(785893);function c({itemLabel:e="",count:t,iconSlot:n}){(0,i.useEffect)(()=>{(0,o.Z)("BadgedIcon","/app/packages/ui/experimental/BadgedIcon.tsx")},[]);let c=t<100?`${t}`:"99+",u=(0,a.ZP)(),d=u._('notifications', 'notifications.BadgedIcon.defaultItemLabel', 'Default label for notifications button with unread content.'),_=(0,r.Wc)(u._('You have new {{contentType}}', 'notifications.BadgedIcon.accessibilityIndicatorLabel', 'Accessibility label for notifications button with unread content. contentType: type of content received recently, for example "Messages", "updates" or "notifications".'),{contentType:e||d});return(0,l.jsxs)(s.xu,{position:"relative",children:[n,t>0&&(0,l.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,l.jsx)(s.z$,{accessibilityLabel:_,count:t})})]})}},576087:function(e,t,n){n.d(t,{Z:()=>i});var o=n(869273);let i=({url:e})=>{let t=(0,o.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},792171:function(e,t,n){n.d(t,{H:()=>c,W:()=>u});var o=n(667294),i=n(980787),s=n(729434),a=n(675973),r=n(785893);let{Provider:l,get:c}=(0,s.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:n}=(0,i.u)(),{checkExperiment:s}=(0,a.Z)(),[c,u]=(0,o.useState)(!1),[d,_]=(0,o.useState)([]),[p,h]=(0,o.useState)([]),[m,f]=(0,o.useState)({}),g=s("web_ads_mrc_video_impression").anyEnabled,b=e=>{f(t=>({...t,[e]:!0}))},y=(0,o.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||n)&&_(t=>[...t,e].slice(-1e3))}},[g]),v=(0,o.useCallback)(e=>{18===e.eventType&&g&&h(t=>[...t,e].slice(-1e3))},[g]);(0,o.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!m[n]||!g||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==d.length&&_(e)},[d,g,t,m]),(0,o.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&g){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&n(t),!1}return!0});e.length!==p.length&&h(e)},[p,g,n,m]);let x=(0,o.useMemo)(()=>({captionsEnabled:c,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:y,setCaptionsEnabled:u,setVideoPlayed:b,videosPlayed:m}),[c,y,v,m]);return(0,r.jsx)(l,{value:x,children:e})}},817618:function(e,t,n){n.d(t,{Z:()=>s});var o=n(341742),i=n(104659);function s({children:e}){let{setAppFocusState:t}=(0,i.G)();return(0,o.Z)(()=>(t(!1),()=>{t(!0)})),e}},572257:function(e,t,n){n.d(t,{Z:()=>i});var o=n(686319);function i(){return async()=>{let e=await (0,o.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},570032:function(e,t,n){n.d(t,{q:()=>p,y:()=>h});var o=n(281098),i=n(667294),s=n(675973),a=n(15667),r=n(686319),l=n(817998);function c(e,t){(0,l.T)(t)&&(0,r.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var u=n(766922),d=n(785893);let _=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:c}),p=({children:e})=>{(0,i.useEffect)(()=>{(0,o.Z)("CampaignToolPreferenceContext","/app/sterling/CreateFlow/CampaignToolPreferenceContext.tsx")},[]);let[t,n]=(0,i.useState)(null),r=(0,s.Z)(),{advertiser:l}=(0,a.B)(),p=async(e,t)=>{c(e,t),n(t)};(0,i.useEffect)(()=>{(async()=>{l&&n(await (0,u.f)(l.id))})()},[l,r]);let h=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:p}),[t]);return(0,d.jsx)(_,{value:h,children:e})},h=()=>(0,i.useContext)(_)},766922:function(e,t,n){n.d(t,{Z:()=>u,f:()=>c});var o=n(667294),i=n(686319),s=n(675973),a=n(15667),r=n(817998);let l="ADVERTISER",c=async e=>{let t;try{let n;t=(n=(await (0,i.Z)({method:"GET",url:`/ads/v4/preferences/${e}/`,data:{level:l,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data)&&n[l]&&n[l][0]&&n[l][0].preferences}catch{return null}return t&&(0,r.T)(t)?t:null},u=()=>{let[e,t]=(0,o.useState)(null),n=(0,s.Z)(),{advertiser:i}=(0,a.B)();return(0,o.useEffect)(()=>{(async()=>{i&&t(await c(i.id))})()},[i,n]),e}},991832:function(e,t,n){n.d(t,{Z:()=>_});var o=n(281098),i=n(667294),s=n(20256),a=n(708847),r=n(19585),l=n(73852),c=n(78762),u=n(785893);let d=(0,c.Z)(()=>Promise.all([n.e("25418"),n.e("91062"),n.e("76767")]).then(n.bind(n,436464)),void 0,e=>436464,"FullPageSignup",e=>["25418","91062","76767"]);function _(e){(0,i.useEffect)(()=>{(0,o.Z)("AccountSwitcherLoginModal","/app/www/AccountSwitcherLoginModal/AccountSwitcherLoginModal.tsx")},[]);let t=(0,r.ZP)();return(0,u.jsx)(l.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,u.jsx)(s.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,u.jsx)(a.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},61110:function(e,t,n){n.d(t,{T:()=>c,X:()=>l});var o=n(667294),i=n(729434),s=n(991832),a=n(785893);let{Provider:r,get:l}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,o.useState)(!1),[i,l]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),d=(0,o.useCallback)((e,t)=>{u(e),t&&l(t),n(!0)},[]),_=(0,o.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(r,{value:_,children:e}),t&&(0,a.jsx)(s.Z,{container:c,email:i??"",onClose:()=>n(!1)})]})}},73852:function(e,t,n){n.d(t,{Z:()=>f});var o=n(281098),i=n(667294),s=n(20256),a=n(19585),r=n(369416),l=n(15667),c=n(572227),u=n(785893);let d=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,_={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},p={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},h={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},m={overflow:"hidden",position:"fixed",top:"24px"};function f(e){(0,i.useEffect)(()=>{(0,o.Z)("Modal","/app/www/AccountSwitcherLoginModal/Modal.tsx")},[]);let t=(0,a.ZP)(),n=(0,c.Z)(),{isRTL:f}=(0,l.B)(),{renderContent:g}=e;return(0,u.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:_},children:[(0,u.jsx)(r.Z,{unsafeCSS:d}),(0,u.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:p,children:(0,u.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:h,children:[g(),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...m,[f?"left":"right"]:"24px"}},children:(0,u.jsx)(s.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},39435:function(e,t,n){n.d(t,{N:()=>r,t:()=>l});var o=n(667294),i=n(729434),s=n(785893);let{Provider:a,get:r}=(0,i.Z)("LinkedAccount");function l({children:e}){let[t,n]=(0,o.useState)([]),i=(0,o.useMemo)(()=>({userAccounts:t,userAccountsRetrieved:n}),[n,t]);return(0,s.jsx)(a,{value:i,children:e})}},146621:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)(()=>null)},199593:function(e,t,n){n.d(t,{Z:()=>s,k:()=>o});let{Provider:o,get:i}=(0,n(729434).Z)("Conversations"),s=i},427141:function(e,t,n){n.d(t,{Z:()=>i});var o=n(199593);function i(){let{conversations:{data:e}}=(0,o.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},252440:function(e,t,n){n.d(t,{O:()=>d,Z:()=>_});var o=n(281098),i=n(667294),s=n(20256),a=n(521009),r=n(19585),l=n(424297),c=n(694955),u=n(785893);let d=({onClick:e,text:t,url:n})=>((0,i.useEffect)(()=>{(0,o.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]),(0,u.jsx)(s.xu,{role:"listitem",children:(0,u.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:(0,u.jsx)(s.rU,{href:n,onClick:e,target:"blank",children:(0,u.jsx)(s.xu,{padding:1,children:t})})})}));function _(){(0,i.useEffect)(()=>{(0,o.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]);let e=(0,r.ZP)(),t=(0,a.Z)(),n=e=>()=>t({event_type:101,component:218,element:e}),_=(0,l.j3)(),p=(0,l.ak)();return(0,u.jsxs)(s.xu,{direction:"column",display:"flex",paddingX:3,paddingY:2,role:"list",width:"100%",wrap:!0,children:[(0,u.jsx)(d,{onClick:n(8006),text:e._('About', 'menu item that takes user to the Pinterest about page', 'menu item that takes user to the Pinterest about page'),url:c.wUZ}),(0,u.jsx)(d,{onClick:n(8007),text:e._('Blog', 'menu item that takes user to the Pinterest blog', 'menu item that takes user to the Pinterest blog'),url:"https://www.pinterest.com/_/_/blog/"}),(0,u.jsx)(d,{onClick:n(8008),text:e._('Businesses', 'menu item that takes user to the Pinterest for business page', 'menu item that takes user to the Pinterest for business page'),url:c.NWh}),(0,u.jsx)(d,{onClick:n(8009),text:e._('Careers', 'menu item that takes user to the Pinterest careers page', 'menu item that takes user to the Pinterest careers page'),url:c.t_w}),(0,u.jsx)(d,{onClick:n(8010),text:e._('Developers', 'menu item that takes user to the Pinterest developers page', 'menu item that takes user to the Pinterest developers page'),url:c.iYv}),(0,u.jsx)(d,{onClick:n(8011),text:e._('Removals', 'menu item that takes user to the Pinterest copyright page', 'menu item that takes user to the Pinterest copyright page'),url:c.hwP}),(0,u.jsx)(d,{onClick:n(8004),text:e._('Privacy Policy', 'additionalLinks.privacyPolicy', 'menu item that takes user to the Pinterest privacy policy page'),url:c.R_9}),(0,u.jsx)(d,{onClick:n(10406),text:e._('Personalized Ads', 'menu item that takes user to the Pinterest personalized ads page', 'menu item that takes user to the Pinterest personalized ads page'),url:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest"}),(0,u.jsx)(d,{onClick:n(13335),text:e._('Your Privacy Rights', 'additionalLinks.yourPrivacyRights', 'menu item that takes user to the Privacy Settings page'),url:"https://www.pinterest.com/settings/privacy/"}),(0,u.jsx)(d,{onClick:n(8012),text:e._('Terms', 'menu item that takes user to the Pinterest terms page', 'menu item that takes user to the Pinterest terms page'),url:c.U5h}),_&&(0,u.jsx)(d,{onClick:n(8013),text:p,url:c.$BF})]})}},598849:function(e,t,n){n.d(t,{C:()=>o,Z:()=>s});let{Provider:o,get:i}=(0,n(729434).Z)("Header"),s=i},320923:function(e,t,n){n.d(t,{Z:()=>d});var o=n(281098),i=n(667294),s=n(20256),a=n(980787),r=n(721214),l=n(461951),c=n(785893);let u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,c.jsx)(r._7,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,d=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:r,selected:d,text:_,type:p="link",url:h,contextData:m,onClick:f})=>{(0,i.useEffect)(()=>{(0,o.Z)("HeaderSection","/app/www/Header/HeaderSection.tsx")},[]);let{logContextEvent:g}=(0,a.u)(),[b,y]=(0,i.useState)(l.Wyp),v=(0,i.useRef)(null),x=()=>{y(l.KtD)},w=()=>{y(l.Wyp)},P=()=>{y(l.Wyp)},A=()=>{y(l.KtD)},C=e=>{if(m){let{event:e,component:t,element:n}=m;g({event_type:e,component:t,element:n})}f&&f(e)},k=(0,c.jsx)(s.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:4,children:(0,c.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:b}},display:"flex",height:48,justifyContent:"center",rounding:4,width:48,children:n})});if(r||"link"!==p||!h||t){if("link"===p&&(t&&n||r)){let o,i,a="pill";a=n||r?_&&!t?"pill":"circle":"pill",n&&(o=n),r&&(i=r);let l=_ instanceof Object?_:(0,c.jsx)(s.xv,{color:d?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});k=(0,c.jsx)(s.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:a,children:(0,c.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[o,!!_&&!t&&(0,c.jsx)(s.xu,{paddingX:2,children:l}),i]})})}}else k=(0,c.jsx)(u,{anchorElementRef:v,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,c.jsx)(s.Tg,{ref:v,accessibilityLabel:e,href:h,onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:"pill",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(s.xv,{color:d?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(s.xu,{position:"relative",children:k})}},30536:function(e,t,n){n.d(t,{F:()=>o,I:()=>i});let{Provider:o,get:i}=(0,n(729434).Z)("SiteParametersContextType")},966279:function(e,t,n){n.d(t,{Jo:()=>u,mv:()=>_,nJ:()=>d});var o=n(667294),i=n(729434);let s={hiddenNews:{}};function a(e,t){if(e=e||s,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:n,isHidden:o}}=t;return{hiddenNews:{...e?.hiddenNews,[n]:o}}}}var r=n(785893);let{Provider:l,get:c}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,o.useReducer)(a,s),i=(0,o.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,r.jsx)(l,{value:i,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,o.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},168590:function(e,t,n){n.d(t,{Z:()=>a,b:()=>s});var o=n(506662);let i=[o.Gl,o.PY,o.jC,o.Xn,o.b_,o.oF,o.dt,o.x7,o.cY,o.bb];function s(e,t){return(t?i:[...i,o.Ig]).every(t=>!t(e))}function a(e){return i.every(t=>!t(e))}},901971:function(e,t,n){n.d(t,{P:()=>p,j:()=>h});var o=n(667294),i=n(729434),s=n(355940),a=n(982166),r=n(821342),l=n(19585),c=n(78762),u=n(785893);let d=(0,c.Z)(()=>n.e("53732").then(n.bind(n,187948)),void 0,e=>187948,"app-www-ReportBug-ReportBug",e=>["53732"]),{Provider:_,get:p}=(0,i.Z)("reportBugModalContext");function h({children:e}){let t=(0,l.ZP)(),[n,i]=(0,o.useState)(!1),c=(0,r.Z)(),p=(0,o.useCallback)(()=>{i(!0)},[]),h=(0,o.useMemo)(()=>({handleShowReportBugModal:p}),[p]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(_,{value:h,children:e}),n&&c.isAuth&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{i(!1)},children:(0,u.jsx)(s.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{i(!1)},username:c.username})})})]})}},151594:function(e,t,n){n.d(t,{A:()=>r,w:()=>l});var o=n(667294),i=n(729434),s=n(785893);let{Provider:a,get:r}=(0,i.Z)("Session");function l({children:e}){let[t,n]=(0,o.useState)(void 0),i=(0,o.useCallback)(()=>n(void 0),[]),r=(0,o.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:i}),[t,i]);return(0,s.jsx)(a,{value:r,children:e})}},244529:function(e,t,n){n.d(t,{Z:()=>r});var o=n(825332),i=n(821342),s=n(506662),a=n(168590);function r(){let e=(0,i.Z)(),t=(0,o.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,s.OK)(t)}}},771347:function(e,t,n){n.d(t,{Z:()=>s});var o=n(675973),i=n(244529);function s(){let{enabled:e}=(0,i.Z)();if(!e)return!1;let{checkExperiment:t}=(0,o.Z)();return t("web_nav_sidebar").anyEnabled}},631395:function(e,t,n){n.d(t,{QV:()=>g,Qj:()=>v,Td:()=>y});var o=n(281098),i=n(667294),s=n(20256),a=n(521009),r=n(662137),l=n(702849),c=n(19585),u=n(302148),d=n(77836);let _={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"},shopping:{default:"shopping-bag",selected:"shopping-bag-fill"},categories:{default:"view-type-default",selected:"view-type-default-fill"},board:{default:"board",selected:void 0}};var p=n(210031),h=n(850954),m=n(785893);function f(e){(0,i.useEffect)(()=>{(0,o.Z)("EntrypointLink","/pws/entrypoint-router/navigation-buttons/EntrypointLink.tsx")},[]);let{preload:t}=(0,p.G)(),{onClick:n,_onMouseEnter:a,preloadExtent:r="Both",route:l,...c}=e;return(0,m.jsx)(s.rU,{_onMouseEnter:e=>{try{a?.(e)}catch{}"None"!==r&&t(l,r)},href:(0,h.w)(l),onClick:e=>{try{n?.(e)}catch{}t(l,"Both")},...c})}let g=({iconName:e,selected:t})=>((0,i.useEffect)(()=>{(0,o.Z)("VerticalNavIconButton","/app/www/VerticalNav/shared/VerticalNavIconButton.tsx")},[]),(0,m.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:t?_[e].selected:_[e].default,size:d.nQ})),b=({itemLabel:e,count:t})=>{let n=(0,c.ZP)();if(!t||t<=0)return null;let o=(0,u.Wc)(n._('You have new {{contentType}}', 'notifications.button.badge.notifications', 'Accessibility label for notifications button with unread content. contentType: type of content received recently, for example "Messages", "updates" or "notifications".'),{contentType:e}),i=t<100?`${t}`:"99+";return(0,m.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-i.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,m.jsx)(s.z$,{accessibilityLabel:o,count:t})})},y=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:n,badgeCount:o,tooltipText:i,href:a,iconName:l,selected:c,onClick:u,onMouseDown:p,onMouseEnter:h,dataTestId:f,shouldDisplayNavLabels:g},y)=>{let v=i||e,x=!!t,w=c?_[l].selected:_[l].default,P="board"===l&&c,A={text:v,idealDirection:d.Mh,zIndex:d.BO},C=d.yg,k=a?(0,m.jsx)(s.I_,{accessibilityLabel:e,dangerouslySetSvgPath:P?{__path:r.Z}:void 0,dataTestId:f,href:a,icon:P?void 0:w,onClick:u,size:C,tooltip:A}):(0,m.jsx)(s.hU,{accessibilityControls:n,accessibilityExpanded:x?c:void 0,accessibilityHaspopup:x,accessibilityLabel:e,accessibilityPopupRole:t,dataTestId:f,icon:w,onClick:u,size:C,tooltip:A});return(0,m.jsxs)(s.xu,{ref:y,alignItems:g?"center":void 0,direction:g?"column":void 0,display:g?"flex":void 0,justifyContent:g?"center":void 0,onMouseDown:p,onMouseEnter:h,position:"relative",children:[k,g&&(0,m.jsx)(s.xu,{paddingX:.5,children:(0,m.jsx)(s.xv,{align:"center",lineClamp:1,overflow:"breakAll",size:"100",children:v})}),(0,m.jsx)(b,{count:o,itemLabel:e})]})}),v=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityControls:t,iconName:n,selected:o,onClick:r,onMouseDown:u,onMouseEnter:_,route:p,preloadExtent:h,dataTestId:b,variant:y="short",shouldDisplayNavLabels:v},x)=>{let w=(0,a.Z)(),P=(0,c.ZP)(),[A,C]=(0,i.useState)("transparent"),[k,S]=(0,i.useState)(!1),j=()=>{_?.(),C(l.ZG),S(!0)},Z=(0,i.useRef)(null),z=(0,d.vg)(P,y);return(0,m.jsxs)(s.xu,{onMouseEnter:j,onMouseLeave:()=>{C("transparent"),S(!1)},overflow:"hidden",paddingX:4,position:"relative",children:[(0,m.jsx)(s.iP,{ref:x,accessibilityControls:t,accessibilityExpanded:k,accessibilityHaspopup:!0,accessibilityLabel:e,dataTestId:b,onTap:j,rounding:d.dv,tapStyle:d.xp,children:(0,m.jsxs)(s.xu,{ref:Z,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:A}},display:"flex",height:48,id:t,justifyContent:"center",onMouseDown:u,rounding:d.dv,width:48,children:[k&&(0,m.jsx)(s.Lt,{anchor:Z.current,disableMobileUI:!0,id:"ideas-dropdown",idealDirection:"right",isWithinFixedContainer:!1,onDismiss:()=>S(!1),zIndex:d.m6,children:z.map(e=>(0,m.jsx)(s.Lt.Link,{href:`/ideas/${e.slug}/${e.value}/`,onClick:()=>{w({object_id_str:e.value,component:8,event_type:101,element:216,aux_data:{interest_id:e.value,interest:e.label}})},option:e},`cat-${e.value}`))}),(0,m.jsx)(f,{onClick:r,preloadExtent:h,route:p,children:(0,m.jsx)(g,{iconName:n,selected:o})})]})}),v&&(0,m.jsx)(s.xu,{paddingX:.5,children:(0,m.jsx)(s.xv,{align:"center",lineClamp:1,overflow:"breakAll",size:"100",children:e})})]})})},694103:function(e,t,n){n.d(t,{E:()=>o,Z:()=>s});let{Provider:o,get:i}=(0,n(729434).Z)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:()=>!1,sideBarOpen:!1,updatePanelState:()=>{},togglePanelState:()=>{}}),s=i},712511:function(e,t,n){n.d(t,{Z:()=>s});var o=n(244529),i=n(403252);function s(){let{enabled:e}=(0,o.Z)(),{enabled:t}=(0,i.Z)();return{enabled:e||t}}},74459:function(e,t,n){n.d(t,{Z:()=>i});var o=n(694103);function i(){let{width:e}=(0,o.Z)();return e}},403252:function(e,t,n){n.d(t,{Z:()=>c});var o=n(825332),i=n(821342),s=n(506662),a=n(15667),r=n(708898),l=n(647709);let c=function(){let e=(0,i.Z)(),{isRTL:t}=(0,a.B)(),n=(0,o.TH)(),c=(0,l.ZP)();return{enabled:(0,r.Z)()&&"desktop"===c&&!(0,s.nU)(n)&&!(0,s.Xn)(n)&&!(0,s.C$)(n)&&!(0,s.Ni)(n)&&!(0,s.XQ)(n)&&!t&&!e.isAuth}}},509120:function(e,t,n){n.d(t,{Z:()=>d});var o=n(281098),i=n(667294),s=n(20256),a=n(785893);function r(e){return`${Math.min(100*e,100)}%`}function l({customCover:e,imgPos:t,imgUrl:n}){let[o,s]=(0,i.useState)({height:0,loaded:!1,width:0}),{height:a,loaded:l,width:c}=o;if((0,i.useEffect)(()=>{let e=new Image;e.onload=()=>{s({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!a||!c)return{loaded:l,position:"center center"};let u=c-t.width,d=a-t.height,_=u>0?r(t.x/u):"center",p=d>0?r(t.y/d):"center";return{loaded:l,position:`${_} ${p}`}}function c(e){let{loaded:t,position:n}=l(e),{imgUrl:o}=e,i={backgroundImage:`url(${o})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(s.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:i},"data-test-id":"cover-image",children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:n}=l(e),{alt:o,color:i,imgUrl:r}=e;return(0,a.jsx)(s.zd,{height:"100%",width:"100%",children:t&&(0,a.jsx)("img",{alt:o||"",src:r,style:{backgroundColor:i||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function d(e){(0,i.useEffect)(()=>{(0,o.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,a.jsx)(u,{...e}):(0,a.jsx)(c,{...e})}},298097:function(e,t,n){n.d(t,{Z:()=>A});var o,i,s=n(281098),a=n(667294);n(244311);var r=n(20256),l=n(28427),c=n(19585),u=n(97484),d=n(675973),_=n(15667),p=n(647709),h=n(483858),m=n(271597),f=n(509120),g=n(785893);function b({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:o,size:i=20}){(0,a.useEffect)(()=>{(0,s.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let l=(0,c.ZP)();return(0,g.jsx)(r.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:i,justifyContent:"center",rounding:"circle",width:i,children:(0,g.jsx)(r.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===o?"lock":"security",size:n??i/2})})}var y=n(865690),v=n(827644);let x=(void 0!==o||(o=n(237453)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==o.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),w=(void 0!==i||(i=n(608649)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==i.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),P="100%";function A(e){(0,a.useEffect)(()=>{(0,s.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,c.ZP)(),{boardKey:n,canEdit:o,containerBackgroundColor:i="white",coverPhoto:A,coverPinKey:C,fullSize:k,hideSecretBoardIcon:S,images:j,isActive:Z,isHomePageBoards:z,isProtected:I,isSecret:T,layout:E,onEditClick:L,renderAsImage:B,showSensitivityScreen:M}=e,R=(0,p.HG)(),{isRTL:D,isAuthenticated:O}=(0,_.B)(),N=(0,l.Z)(x,n),F=(0,l.Z)(w,C),H=(0,a.useRef)(null),U=R&&O,{checkExperiment:$}=(0,d.Z)(),[G,W]=(0,a.useState)(!1);(0,a.useEffect)(()=>{Z&&U&&N&&!T&&!G&&W($("ce_dweb_board_preview_share_button").anyEnabled)},[Z,U,N,T,G,$]);let V=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{Z?V.current&&(clearTimeout(V.current),V.current=void 0):V.current||(V.current=window.setTimeout(()=>{V.current=void 0,Z||W(!1)},200))},[Z]),(0,a.useEffect)(()=>()=>{V.current&&clearTimeout(V.current)},[]);let K=j[0],q=!A&&j[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),X=[,,].fill(0),Y=new r.Ry(1),J="square"===E?m.M0:m.z9,Q="square"===E?m.FP:m.FC,ee=K?.url?(0,g.jsx)(r.Ee,{alt:q,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:K.url}):(0,g.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"}),et=M?{filter:"blur(20px)"}:{};return(0,g.jsxs)(r.zd,{height:k?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(r.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(r.sg,{span:8,children:(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:et},height:k?"100%":void 0,position:"relative",children:(0,g.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(r.xu,{ref:H,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":i,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(I||T)&&!S&&(0,g.jsx)(r.xu,{left:!D,margin:2,position:"absolute",right:D,top:!0,zIndex:Y,children:(0,g.jsx)(b,{backgroundColor:"default",iconColor:"default",privacy:T?"secret":"protected",size:U?32:24})}),A?.url?(0,g.jsx)(r.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(f.Z,{customCover:A.isCustom,height:Q,imgPos:F?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(F):A.position||{width:0,height:0,x:0,y:0},imgUrl:F?.imageUrl??(A.url||""),renderAsImage:B,width:Math.floor(J/3*2)})}):ee]})})})}),(0,g.jsx)(r.sg,{span:4,children:(0,g.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(o||G)&&(0,g.jsxs)(r.xu,{bottom:!0,display:G?"flex":void 0,left:D,margin:2,opacity:+!!Z,position:"absolute",right:!D,zIndex:Y,children:[o&&(0,g.jsx)(r.iP,{onTap:({event:e})=>L?.(e),children:(0,g.jsx)(r.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})}),G&&(0,g.jsx)(r.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(r.xu,{marginStart:1,children:(0,g.jsx)(v.Z,{boardKey:N,disableSelectedStyle:!0,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})})]}),X.map((e,t)=>{let n=A?j[t]:j[t+1];return(0,g.jsx)(r.xu,{height:k?"50%":void 0,position:"relative",children:(0,g.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":i,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,g.jsx)(r.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(r.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,g.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),M&&(0,g.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(r.X6,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,g.jsx)(h.Z,{visibility:Z?"visible":"none",children:(0,g.jsx)(y.Z,{additionalStyles:{backgroundColor:u.Dv.LEGO_WASH}})})]})}},271597:function(e,t,n){n.d(t,{AC:()=>a,FC:()=>u,FP:()=>l,M0:()=>r,SA:()=>_,Xq:()=>d,Y_:()=>s,o2:()=>i,s0:()=>o,z9:()=>c});let o=44,i=40,s=49,a=69,r=236,l=157,c=320,u=213,d=7,_=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},741331:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},966269:function(e,t,n){n.d(t,{Z:()=>s});var o=n(667294),i=n(741331);function s(){let e=(0,o.useContext)(i.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},314708:function(e,t,n){n.d(t,{Z:()=>S});var o=n(281098),i=n(667294),s=n(825332),a=n(20256),r=n(355940),l=n(19585),c=n(506662),u=n(821806),d=n(378888),_=n(199593),p=n(543188),h=n(879922),m=n(833036),f=n(536488),g=n(25837),b=n(966279),y=n(244529),v=n(771347),x=n(694103),w=n(785893);let P=()=>n.e("94057").then(n.bind(n,806413)),A=(0,i.lazy)(P);function C({onClearBadges:e,onClick:t,onPanelChange:n,tooltipText:C,shouldDisplayNavLabels:k}){(0,i.useEffect)(()=>{(0,o.Z)("AuthNewsButton","/app/www/growth/news/NewsConversationsButton/AuthNewsButton.tsx")},[]);let S=(0,l.ZP)(),j=(0,s.TH)(),Z=(0,i.useRef)(null),[z,I]=(0,i.useState)(!1),[T,E]=(0,i.useState)(!1),[L,B]=(0,i.useState)(!1),[M,R]=(0,i.useState)(!1),{tab:D,news_hub_id:O}=(0,d.mB)(j.search),{conversations:{conversationsUnseenCount:N,newsHubCount:F}}=(0,_.Z)(),{enabled:H}=(0,y.Z)(),{isPanelOpen:U,togglePanelState:$}=(0,x.Z)(),G=(0,v.Z)(),W=e=>{if((0,c.L6)(j))return;let t=Math.max(e,0),n=S._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${n}`:n};(0,i.useEffect)(()=>{W(N+F),j.pathname.startsWith("/notifications")&&"inbox"!==D&&!G?I(!0):j.pathname.startsWith("/notifications")&&"inbox"===D&&G&&n?.(!0)},[N,F,G]);let V=()=>{t?.(),G?$("news"):I(!z),e(p.S.NEWS_HUB),W(0)};(0,i.useEffect)(()=>{let e=setTimeout(()=>{E(z),B(z),n?.(z)},100);return()=>clearTimeout(e)},[z]),(0,i.useEffect)(()=>{z&&n?.(z)},[z]);let K=S._('Updates', 'updates.button', 'Accessibility label for updates button.'),q=S._('Notifications', 'notifications.button', 'Accessibility label for notifications button.'),X=C||S._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications');return(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(a.xu,{ref:Z,"data-test-id":"bell-icon",onMouseEnter:P,position:"relative",children:H?(0,w.jsx)(m.Z,{accessibilityControls:f.o9,accessibilityLabel:K,badgeCount:F,onClick:V,selected:U("news"),shouldDisplayNavLabels:k,tooltipText:X,verticalNavIconName:"notifications"}):(0,w.jsx)(a.u,{accessibilityLabel:"",text:X,zIndex:new a.H3([new a.Ry(g.fe)]),children:(0,w.jsx)(h.Z,{accessibilityLabel:q,badgeCount:F,icon:"bell",onClick:V,selected:z})})}),(0,w.jsx)(b.Jo,{children:(0,w.jsx)("div",{className:"newsHubSidebarWrapper",style:z?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:T&&!G&&(0,w.jsx)(r.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(A,{handleDismissPanel:()=>{I(!1),R(!1)},highlightScrollSidebar:M,newsButton:Z.current,show:L,utmNewsHubId:O||null})})})})})]})}var k=n(650088);function S({onClick:e,onPanelChange:t,tooltipText:n,shouldDisplayNavLabels:s}){return(0,i.useEffect)(()=>{(0,o.Z)("NewsButton","/app/www/growth/news/NewsConversationsButton/NewsButton.tsx")},[]),(0,w.jsx)(k.Z,{icon:"bell",children:({onClearBadges:o})=>(0,w.jsx)(C,{onClearBadges:o,onClick:e,onPanelChange:t,shouldDisplayNavLabels:s,tooltipText:n})})}},879922:function(e,t,n){n.d(t,{Z:()=>c});var o=n(281098),i=n(667294),s=n(20256),a=n(599402),r=n(320923),l=n(785893);function c({accessibilityLabel:e,badgeCount:t=0,icon:n="speech-ellipsis",onClick:c,selected:u=!1}){return(0,i.useEffect)(()=>{(0,o.Z)("NotificationsButton","/app/www/growth/news/NewsConversationsButton/NotificationsButton.tsx")},[]),(0,l.jsx)(r.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,l.jsx)(a.Z,{count:t,iconSlot:(0,l.jsx)(s.JO,{accessibilityLabel:"",color:u?"default":"subtle",icon:n,size:24}),itemLabel:e}),onClick:c,text:e,type:"button"},"NotificationsButton")}},833036:function(e,t,n){n.d(t,{Z:()=>l});var o=n(281098),i=n(667294),s=n(521009),a=n(631395),r=n(785893);function l({dataTestId:e,accessibilityLabel:t,accessibilityControls:n,tooltipText:l,badgeCount:c,onClick:u,selected:d,shouldDisplayNavLabels:_,verticalNavIconName:p}){(0,i.useEffect)(()=>{(0,o.Z)("VerticalNavNotificationsButton","/app/www/growth/news/NewsConversationsButton/VerticalNavNotificationsButton.tsx")},[]);let h=(0,s.Z)();return(0,r.jsx)(a.Td,{accessibilityControls:n,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:c,dataTestId:e,iconName:p,onClick:({event:e})=>{h({event_type:101,component:8,element:1187}),u&&u(e)},selected:d,shouldDisplayNavLabels:_,tooltipText:l})}},536488:function(e,t,n){n.d(t,{AI:()=>N,AM:()=>w,AY:()=>J,Ay:()=>r,C:()=>et,Cc:()=>u,DX:()=>T,GO:()=>D,HJ:()=>l,I2:()=>U,IO:()=>ea,IV:()=>i,J0:()=>b,LL:()=>ee,Ng:()=>o,P:()=>k,P3:()=>g,QE:()=>ei,QX:()=>en,Rd:()=>C,So:()=>v,V$:()=>p,Vp:()=>V,WC:()=>Z,Z1:()=>d,ZH:()=>B,aE:()=>f,c4:()=>S,cU:()=>j,ci:()=>z,d1:()=>h,di:()=>H,gb:()=>Q,gs:()=>R,hD:()=>G,hf:()=>F,hp:()=>O,hy:()=>a,ie:()=>y,kJ:()=>Y,kc:()=>A,mD:()=>W,mM:()=>I,o9:()=>s,pv:()=>_,qZ:()=>P,qb:()=>x,uW:()=>M,uZ:()=>c,uy:()=>K,vG:()=>q,wA:()=>m,wl:()=>$,yS:()=>eo,yc:()=>L,yf:()=>er,ys:()=>X,zM:()=>E});let o={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,s="news-feed-sidebar",a=360,r=15,l=375,c=64,u=36,d=78,_=44,p=344,h=376,m=164,f=328,g=164,b=108.7,y=3,v=82,x=82,w=164,P=164,A=4,C=164,k=164,S=2,j=82,Z=164,z=2,I=2,T=4,E=328,L="290x",B="170x",M={backgroundColor:"rgba(0, 0, 0, 0.4)"},R=4,D="1px",O=48,N=32,F=36,H="136x136",U=2,$=24,G=20,W=72,V=48,K=54,q=54,X=4,Y=118,J=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},ee="recommendation",et="dropdown_item_settings_id",en=10,eo=20,ei=5e3,es="#E9E4FF",ea={backgroundColor:es,borderColor:es,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},er={...ea,paddingRight:"10px"}},543188:function(e,t,n){n.d(t,{S:()=>o});let o={NEWS_HUB:1,INBOX:2}},780869:function(e,t,n){n.d(t,{Z:()=>s});var o=n(821342),i=n(675973);function s(){let{checkExperiment:e}=(0,i.Z)(),t=(0,o.Z)();return t.isAuth&&t.isPartner&&e("aid_exp_ia_update_engagement").anyEnabled}},848387:function(e,t,n){n.d(t,{m:()=>i,o:()=>o});let{Provider:o,get:i}=(0,n(729434).Z)("LimitedLogin")},732347:function(e,t,n){n.d(t,{N4:()=>s,Wh:()=>o,hr:()=>i});let o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},375363:function(e,t,n){n.d(t,{Z:()=>R});var o=n(281098),i=n(667294),s=n(825332),a=n(20256),r=n(575108),l=n(111330),c=n(679422),u=n(821342),d=n(19585),_=n(506662),p=n(675973),h=n(753143),m=n(341742),f=n(199593),g=n(427141),b=n(543188),y=n(864289),v=n(966269),x=n(879922),w=n(833036),P=n(25837),A=n(980787),C=n(744862),k=n(15667),S=n(502588),j=n(244529),Z=n(785893);function z({conversation:e,anchor:t}){(0,i.useEffect)(()=>{(0,o.Z)("MessageNotification","/app/www/messages/MessageNotification.tsx")},[]);let[n,s]=(0,i.useState)(!1),{dropdownOpen:r,conversationOpen:c}=(0,f.Z)(),u=(0,d.ZP)(),{isRTL:_}=(0,k.B)(),{logContextEvent:p}=(0,A.u)(),{enabled:g}=(0,j.Z)();if((0,m.Z)(()=>{let t=e.last_message,n=h.ZP.getItem(l.Td);t&&t.id!==n&&setTimeout(()=>{s(!0),p({event_type:13,component:14993}),h.ZP.setItem(l.Td,t.id),h.ZP.setItem(l.eQ,Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||s(!1)}),setTimeout(()=>{s(!1)},5e3)},S.XZ)}),!e.last_message||!n)return null;let{sender:b}=e.last_message,y=b.first_name||b.username||"",v=e.last_message.pin?u._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):u._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),x=(0,Z.jsxs)(a.xv,{color:"light",inline:!0,children:[(0,Z.jsxs)(a.xv,{color:"light",inline:!0,weight:"bold",children:[y," "]}),v]}),w=(0,Z.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,children:[(0,Z.jsx)(a.xu,{marginEnd:3,children:(0,Z.jsx)(C.qE,{name:y,size:"sm",src:b.image_large_url??void 0})}),x]}),z="down";return g&&(z=_?"left":"right"),(0,Z.jsx)(a.mh,{zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,Z.jsx)(a.iP,{onTap:()=>{r(),c(e.id),s(!1),p({event_type:101,component:14993})},children:(0,Z.jsx)(a.xu,{id:"message-notif-toast",children:(0,Z.jsx)(a.pl,{anchor:t,idealDirection:z,onDismiss:()=>{},role:"dialog",size:"flexible",type:"notification",children:w})})})})}var I=n(771347),T=n(694103);function E(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),E(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),E(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(b.S.INBOX),this.updateBrowserTabTitleCount(0)}),E(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:o,openConversationsDropdown:i,onClick:s}=this.props;if(s?.(),t){e&&e.stopPropagation(),t();return}n?o():i(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,_.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),o=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${o}`:o}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMessage:o,isVerticalNavEnabled:i,shouldDisplayNavLabels:s}=this.props,r=t._('Messages', 'messages.button', 'Accessibility label for messages button with no pending unread messages.'),l=t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),c="notifications-button";return(0,Z.jsxs)(a.xu,{ref:this.setButtonRef,position:"relative",children:[i?(0,Z.jsx)(w.Z,{accessibilityControls:y.rC,accessibilityLabel:r,badgeCount:e,dataTestId:c,onClick:this.handleButtonClick,selected:n,shouldDisplayNavLabels:s,tooltipText:l,verticalNavIconName:"messages"}):(0,Z.jsx)(a.u,{accessibilityLabel:"",text:l,zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,Z.jsx)(a.xu,{"data-test-id":c,children:(0,Z.jsx)(x.Z,{accessibilityLabel:r,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),o&&(0,Z.jsx)(z,{anchor:this.anchor,conversation:o})]})}}function B(e){(0,i.useEffect)(()=>{(0,o.Z)("AuthConversationsButton","/app/www/messages/AuthConversationsButton.tsx")},[]);let t=(0,d.ZP)(),n=(0,c.Z)(),a=(0,s.TH)(),{isAuth:b,isLimitedLogin:y}=(0,u.Z)(),{enabled:x}=(0,j.Z)(),{isPanelOpen:w}=(0,T.Z)();(0,m.Z)(()=>{b&&!y&&r.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:P,newsHubCount:A,showConversationsDropdown:C},dropdownClose:k,dropdownOpen:z}=(0,f.Z)(),{checkExperiment:E}=(0,p.Z)(),{setInboxButton:B}=(0,v.Z)(),M=(0,g.Z)().find(e=>e.unread>0),R=(0,_.C$)(a),D=h.ZP.getItem(l.eQ),O=D&&Date.now()-Number(D)<S.VC,N=R&&!C&&!O&&M&&E("sg_dweb_app_start_msg_notif").anyEnabled,F=(0,i.useRef)(!0),{togglePanelState:H}=(0,T.Z)(),U=(0,I.Z)();return(0,i.useEffect)(()=>{F.current||e.onPanelChange?.(C),F.current=!1},[C]),(0,Z.jsx)(L,{...e,closeConversationsDropdown:U?()=>H("conversations"):k,conversationsUnseenCount:P,conversationWithUnreadMessage:N?M:null,i18n:t,isVerticalNavEnabled:x,location:a,newsHubCount:A,openConversationsDropdown:U?()=>H("conversations"):z,requireAuth:n,setInboxButton:B,showPanel:U?w("conversations"):C})}var M=n(650088);function R({onClick:e,onPanelChange:t,shouldDisplayNavLabels:n}){return(0,i.useEffect)(()=>{(0,o.Z)("ConversationsButton","/app/www/messages/ConversationsButton.tsx")},[]),(0,Z.jsx)(M.Z,{icon:"speech-ellipsis",children:({onClearBadges:o})=>(0,Z.jsx)(B,{onClearBadges:o,onClick:e,onPanelChange:t,shouldDisplayNavLabels:n})})}},650088:function(e,t,n){n.d(t,{Z:()=>x});var o,i=n(281098),s=n(667294),a=n(20256),r=n(167912),l=n(575108),c=n(949044),u=n(886981),d=n(974705),_=n(199593),p=n(543188),h=n(785893);let m=(0,c.Z)(d.Z);class f extends s.Component{constructor(...e){var t,n,o;super(...e),t="handleClearBadges",n=e=>{e===p.S.NEWS_HUB?(l.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let o=m(e.data);n(o.conversationsUnseenCount),t(o.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function g({conversationBadgeCall:e,children:t}){let n=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:o,updateUnreadCount:i}=(0,_.Z)();return(0,h.jsx)(f,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:o,updateUnreadCount:i,children:t})}function b({children:e}){return(0,s.useEffect)(()=>{(0,i.Z)("BadgeManager","/app/www/messages/BadgeManager.tsx")},[]),(0,h.jsx)(g,{conversationBadgeCall:(()=>{let e=(void 0!==o||(o=n(516829)).hash&&"d6f840c748407c7aa62123d5beac3239"!==o.hash&&console.error("The definition of 'BadgeManagerMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[t]=(0,r.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,o)=>{o&&n(o[0]),e(t)},onError:e=>n(e)})})})(),children:e})}var y=n(244529),v=n(631395);function x({icon:e,children:t}){(0,s.useEffect)(()=>{(0,i.Z)("DeferredMessagesButton","/app/www/messages/DeferredMessagesButton.tsx")},[]);let[n,o]=(0,s.useState)(!1),{enabled:r}=(0,y.Z)();return((0,s.useEffect)(()=>{o(!0)},[]),n)?(0,h.jsx)(b,{children:t}):(0,h.jsx)(a.xu,{paddingX:1,children:(0,h.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:r?(0,h.jsx)(v.QV,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,h.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},502588:function(e,t,n){n.d(t,{VC:()=>v,XZ:()=>y,ZP:()=>x});var o=n(281098),i=n(667294),s=n(825332),a=n(20256),r=n(575108),l=n(111330),c=n(744862),u=n(475498),d=n(821342),_=n(19585),p=n(506662),h=n(753143),m=n(87853),f=n(647709),g=n(341742),b=n(785893);let y=2e3,v=864e5;function x(){(0,i.useEffect)(()=>{(0,o.Z)("NotifcationToastForUnreadMessage","/app/www/notifications/NotifcationToastForUnreadMessage.tsx")},[]);let e=(0,_.ZP)(),t=(0,d.Z)(),{isAuth:n,isLimitedLogin:x}=t,w=t.isAuth?t?.avatar_color_index:void 0,{showToast:P}=(0,m.dI)(),A=(0,s.s0)(),C=(0,s.TH)(),k=(0,p.C$)(C),S=(0,f.HG)();return(0,g.Z)(()=>{let t=async()=>{let t=r.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),o=h.ZP.getItem(l.eQ),i=o&&Date.now()-Number(o)<v,s=n&&k&&!i&&n.last_message,d=h.ZP.getItem(l.Td);if(s&&s.id!==d){h.ZP.setItem(l.Td,s.id),h.ZP.setItem(l.eQ,Date.now());let{sender:t}=s,o=t.first_name||t.username||"",i=s.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),r=(0,b.jsxs)(a.xv,{inline:!0,children:[(0,b.jsxs)(a.xv,{inline:!0,weight:"bold",children:[o," "]}),i]});setTimeout(()=>{P(({hideToast:i})=>(0,b.jsx)(u.Z,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{A(`/conversation/${n.id}`),i()}},text:r,thumbnail:{avatar:(0,b.jsx)(c.qE,{color:w,name:o,size:"sm",src:t.image_large_url||""})}}))},y)}};!n||x||S||t()}),null}},854167:function(e,t,n){n.d(t,{Z:()=>m});var o,i=n(281098),s=n(667294);n(167912);var a=n(20256),r=n(679422),l=n(28427),c=n(19585),u=n(896273),d=n(77836),_=n(785893);let p=(void 0!==o||(o=n(452525)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==o.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);class h extends s.Component{constructor(...e){var t,n,o;super(...e),n={flyoutOpen:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{board:e,bgColor:t="white",children:n,disableSelectedStyle:o,iconColor:i="gray",onCreatePincode:r,showTooltip:l,size:c="lg"}=this.props,{flyoutOpen:p}=this.state,h={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},m=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},f=n&&n({active:p,onClick:()=>m()})||(0,_.jsx)(a.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:i,onClick:({event:e})=>m(e),selected:!o&&p,size:c,tooltip:l?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)(a.xu,{ref:e=>{this.anchor=e},children:f}),this.state.flyoutOpen&&(0,_.jsx)(a.mh,{zIndex:d.m6,children:(0,_.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>m(),positionRelativeToAnchor:!1,size:"flexible",children:(0,_.jsx)(u.Z,{component:13216,onCreatePincodeClick:r?()=>{m(),r()}:void 0,onHide:()=>m(),sendType:"board",sharedObject:h,viewType:5})})})]})}componentDidMount(){(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let m=e=>{(0,s.useEffect)(()=>{(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,c.ZP)(),n=(0,r.Z)(),o=(0,l.Z)(p,e.boardKey);return(0,_.jsx)(h,{...e,board:o,i18n:t,requireAuth:n,sendBoardButtonRef:e.sendBoardButtonRef})}},827644:function(e,t,n){n.d(t,{Z:()=>f});var o,i=n(281098),s=n(667294);n(244311);var a=n(20256),r=n(980787),l=n(679422),c=n(721214),u=n(28427),d=n(19585),_=n(854167),p=n(277168),h=n(785893);let m=(void 0!==o||(o=n(423347)).hash&&"8d95294efe15498023c69669c6a41e71"!==o.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function f({boardKey:e,handleCreatePincode:t,iconColor:n,isShowShareIcon:o,showTooltip:f,disableSelectedStyle:g,size:b="lg"}){(0,s.useEffect)(()=>{(0,i.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:y}=(0,r.u)(),v=(0,d.ZP)(),x=(0,l.Z)(),w=(0,s.useRef)(null),P=(0,u.Z)(m,e),A=v._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board');return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(_.Z,{boardKey:P,disableSelectedStyle:g,iconColor:n,onCreatePincode:t,onOpen:()=>{if(x)return void x();(0,p.Z)(y)},sendBoardButtonRef:w,showTooltip:f,size:b,children:o?void 0:({onClick:e})=>(0,h.jsx)(a.xu,{"data-test-id":"board-share-button-auth",children:(0,h.jsx)(a.zx,{ref:w,color:"gray",fullWidth:!0,onClick:e,size:b,text:A})})}),(0,h.jsx)(c.N,{anchors:{3018:w.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},277168:function(e,t,n){n.d(t,{Z:()=>o});function o(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31851-da37d96b0ae56b0f.mjs.map